var pageos;(self.webpackChunkpageos=self.webpackChunkpageos||[]).push([[179],{5524:(e,t,n)=>{"use strict";n.r(t);n(9462);!function(){window.PageOS=window.PageOS||{},window.PageOS.BUS={};var e=window.PageOS.BUS;e.events={},e.data={},e.on=function(t,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e.events[t]=e.events[t]||[],e.events[t].push({fn:n,once:i})},e.after=function(t,n){e.data.hasOwnProperty(t)&&e.events[t]?n(e.data[t]):e.on(t,n,!0)},e.off=function(t,n){var i=e.events[t];if(i)for(var o=0;o<i.length;o++)if(i[o].fn===n){i.splice(o,1);break}},e.emit=function(t,n){e.events[t]=e.events[t]||[];var i=e.events[t].filter((function(e){try{e.fn(n)}catch(e){console.warn("Error in Event Bus Callback function.",e)}return!1===e.once}));e.events[t]=i,e.data[t]=n||null}}();var i=n(5671),o=n(3144),a=function(){try{return localStorage.setItem("test","test"),localStorage.getItem("test"),localStorage.removeItem("test"),!0}catch(e){return!1}},r=n(4586);function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(0,r.Z)();return"".concat(e,"_").concat(t,"_").concat(Date.now())}new(function(){function e(){var t=this;if((0,i.Z)(this,e),window.PageOS=window.PageOS||{},window.PageOS.session=window.PageOS.session||{},!0===window.PageOS.session.loaded)return!1;window.PageOS.session.loaded=!0,this.MODULE=window.PageOS.session,this.hasLocalStorage=a(),this.MODULE.getUUID=null,this.MODULE.getCookieSyncUID=null,this.MODULE.setCookieSyncUID=function(){return null},this.MODULE.getDuration=function(){return null},this.MODULE.getPageNumber=null,this.MODULE.newPageView=function(){return null},this.hasLocalStorage&&(this.init(),this.MODULE.newPageView=function(){t.init()})}return(0,o.Z)(e,[{key:"init",value:function(){var e=this;this.sessionInfo=this.getSessionInfo(),this.setUUID(),this.setDuration(),this.setPageNumber(),this.MODULE.getUUID=this.getUUID(),this.MODULE.getCookieSyncUID=this.getCookieSyncUID(),this.MODULE.setCookieSyncUID=function(t){return e.setCookieSyncUID(t)},this.MODULE.getDuration=this.getDuration.bind(this),this.MODULE.getPageNumber=this.getPageNumber()}},{key:"getSessionInfo",value:function(){var e=JSON.parse(localStorage.getItem("PageOS_Session"))||{};return void 0!==e.lastVisit&&(Date.now()-e.lastVisit>18e5||this.checkMidnight(e.lastVisit))?(localStorage.removeItem("PageOS_Session"),{}):e}},{key:"checkMidnight",value:function(e){var t=new Date(e).setHours(0,0,0,0);return(new Date).setHours(0,0,0,0)-t>0}},{key:"getDuration",value:function(){return Date.now()-this.sessionInfo.firstVisit}},{key:"setDuration",value:function(){void 0===this.sessionInfo.firstVisit&&(this.sessionInfo.firstVisit=Date.now(),this.storeSessionInfo(this.sessionInfo))}},{key:"getPageNumber",value:function(){return this.sessionInfo.pageNumber}},{key:"setPageNumber",value:function(){"number"!=typeof this.sessionInfo.pageNumber?this.sessionInfo.pageNumber=1:++this.sessionInfo.pageNumber,this.setLastVisit(),this.storeSessionInfo(this.sessionInfo)}},{key:"setLastVisit",value:function(){this.sessionInfo.lastVisit=Date.now(),this.storeSessionInfo(this.sessionInfo)}},{key:"getUUID",value:function(){return this.sessionInfo.UUID}},{key:"setUUID",value:function(){this.sessionInfo.UUID||(this.sessionInfo.UUID=s("session"),this.storeSessionInfo(this.sessionInfo))}},{key:"getCookieSyncUID",value:function(){return this.sessionInfo.cookieSyncUUID}},{key:"setCookieSyncUID",value:function(e){this.sessionInfo.cookieSyncUUID=e,this.storeSessionInfo(this.sessionInfo)}},{key:"storeSessionInfo",value:function(e){localStorage.setItem("PageOS_Session",JSON.stringify(e))}}]),e}());var d=document.getElementById("pwUserOptOut"),c=function(){try{var e=window.PageOS.userData.toggleOptOut()?"Out":"In";window.alert("You have successfully Opted-".concat(e))}catch(e){}},u=function(e){d&&(d.innerText=e?"Opt In":"Opt Out")};d&&(d.onclick=c,(l=d)&&(l.style.cursor="pointer"));var l,p=n(1401),g=function(){function e(){(0,i.Z)(this,e),window.PageOS=window.PageOS||{};var t=(0,p.Mo)();if(this.utmParams={utm_campaign:t.utm_campaign,utm_medium:t.utm_medium,utm_source:t.utm_source,utm_template:t.utm_template,utm_content:t.utm_content,utm_referrer:t.utm_referrer,utm_subid:t.utm_subid,utm_term:t.utm_term},this.keyVals={cust_cli_tag_1:null,cust_cli_tag_2:null,cust_cli_tag_3:null,cust_cli_tag_4:null,cust_cli_tag_5:null,cust_cli_tag_6:null,cust_cli_tag_7:null,cust_cli_tag_8:null,cust_cli_tag_9:null,cust_cli_tag_10:null,cust_cli_tag_11:null,cust_cli_tag_12:null},this.keyValsReporting={cust_pub_reporting_1:null,cust_pub_reporting_2:null,cust_pub_reporting_3:null,cust_pub_reporting_4:null,cust_pub_reporting_5:null},window.ramp&&window.ramp.custom_tags){var n=window.ramp.custom_tags;if(Array.isArray(n)&&n.length>0)for(var o=1;o<13;o++)this.keyVals["cust_cli_tag_".concat(o)]=n[o-1]}window.PageOS.getClientTag=this.getClientTag.bind(this),window.PageOS.getAllClientTags=this.getAllClientTags.bind(this),window.PageOS.setClientTag=this.setClientTag.bind(this),window.PageOS.clearAllTags=this.clearAllTags.bind(this),window.PageOS.getAllCustomReportingKVs=this.getAllCustomReportingKVs.bind(this),window.PageOS.setCustomReporting=this.setCustomReporting.bind(this),window.PageOS.getAllUtmParams=this.getAllUtmParams.bind(this)}return(0,o.Z)(e,[{key:"getClientTag",value:function(e){return this.keyVals["cust_cli_tag_".concat(e)]}},{key:"getAllClientTags",value:function(){return this.keyVals}},{key:"getAllCustomReportingKVs",value:function(){var e=this;return Object.keys(this.keyValsReporting).filter((function(t){return null!==e.keyValsReporting[t]})).reduce((function(t,n){return t[n]=e.keyValsReporting[n],t}),{})}},{key:"getAllUtmParams",value:function(){var e=this;return Object.keys(this.utmParams).filter((function(t){return void 0!==e.utmParams[t]})).reduce((function(t,n){return t[n]=e.utmParams[n],t}),{})}},{key:"setClientTag",value:function(e,t){t=t.trim();var n=parseInt(e,10);!n||n<1||n>12||!t||(this.keyVals["cust_cli_tag_".concat(n)]=t,window.PageOS.BUS.emit("CUSTOM_CLIENT_TAGS",this.keyVals))}},{key:"setCustomReporting",value:function(e,t){t=t.trim();var n=parseInt(e,10);n<1||n>5||!t||(this.keyValsReporting["cust_pub_reporting_".concat(n)]=t,window.PageOS.BUS.emit("CUSTOM_REPORTING",this.keyValsReporting))}},{key:"clearAllTags",value:function(){this.keyVals={cust_cli_tag_1:null,cust_cli_tag_2:null,cust_cli_tag_3:null,cust_cli_tag_4:null,cust_cli_tag_5:null,cust_cli_tag_6:null,cust_cli_tag_7:null,cust_cli_tag_8:null,cust_cli_tag_9:null,cust_cli_tag_10:null,cust_cli_tag_11:null,cust_cli_tag_12:null},window.PageOS.BUS.emit("CUSTOM_CLIENT_TAGS",this.keyVals)}}]),e}(),w=n(4506),f=n(4942),m=n(272);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var v=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.Z)(this,e),this.app=n.app||{name:""},this.context=n,this.setLevel(n.filterLevel);var o=function(e,t){return{value:e,name:t}};this.TRACE=o(1,"TRACE"),this.DEBUG=o(2,"DEBUG"),this.INFO=o(3,"INFO"),this.WARN=o(5,"WARN"),this.ERROR=o(8,"ERROR"),this.OFF=o(99,"OFF"),this.KINESIS_LEVELS={},this.sampling=!0,void 0!==window._pwLogger&&Object.keys(window._pwLogger).forEach((function(e){var i=e.toLocaleLowerCase();(n.name&&n.name.toLowerCase()===i||t.app.name.toLowerCase().indexOf(i)>-1)&&(t.KINESIS_LEVELS=window._pwLogger[e])}))}return(0,o.Z)(e,[{key:"merge",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,o,a=t[0];for(o=1;o<t.length;o++)for(i in t[o])!(i in a)&&t[o].hasOwnProperty(i)&&(a[i]=t[o][i]);return a}},{key:"enabledFor",value:function(e){var t=this.context.filterLevel;return e.value>=t.value}},{key:"setLevel",value:function(e,t){if(t&&(this.name=t),e&&"value"in e){try{this.name&&window.sessionStorage.setItem("_pwLogger:".concat(this.name),e.name)}catch(e){}this.context.filterLevel=e}}},{key:"getLevel",value:function(){return this.context.filterLevel}},{key:"trace",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.invoke(this.TRACE,t)}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.invoke(this.DEBUG,t)}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.invoke(this.INFO,t)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.invoke(this.WARN,t)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.invoke(this.ERROR,t)}},{key:"addStyle",value:function(e){this.style||(this.style=""),this.style+=";".concat(e)}},{key:"invoke",value:function(e,t){this.style&&(t[2]+=";".concat(this.style)),this.logHandler&&this.enabledFor(e)&&this.logHandler(t,this.merge({level:e},this.context)),"number"==typeof this.KINESIS_LEVELS[e.name]&&this.logWithKinesis(e,this.KINESIS_LEVELS[e.name],t)}},{key:"logWithKinesis",value:function(e,t,n){var i=window.PageOS.kinesis.getRINucleus(),o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({event_type:"loggers",id:window.PageOS.kinesis.randomUuid("loggers"),ramp_session_id:window.PageOS.session.getUUID,sampling_rate:t,name:this.name,log:{message:n[0],data:n[1]},level:e.name,app:this.app},i);try{var a={Data:"".concat(JSON.stringify(o),"\n"),PartitionKey:"partition-".concat(Date.now())};window.PageOS.kinesis.send({records:a,streamName:"apps-production",sampling:!1})}catch(e){console.error("[PageOS - Kinesis] _stringifyData Error",{message:e.message})}}}]),e}();function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var _=function(){try{return!!window.localStorage.getItem("pwForceLogs")}catch(e){return!1}}();!function(){window.PageOS=window.PageOS||{},window.PageOS.logger=window.PageOS.logger||{};var e=window.PageOS.logger;e.loggersByName={};var t=new v;(0,m.Z)(e,t),e.enabledFor=t.enabledFor.bind(t),e.trace=t.trace.bind(t),e.debug=t.debug.bind(t),e.info=t.info.bind(t),e.warn=t.warn.bind(t),e.error=t.error.bind(t),e.setHandler=function(e,t){t.logHandler=e},e.setLevel=function(n){if(!_)for(var i in t.setLevel(n),e.loggersByName)e.loggersByName.hasOwnProperty(i)&&e.loggersByName[i].setLevel(n)},e.getLevel=function(){return t.getLevel()},e.get=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n=n.toUpperCase(),i.app&&i.app.name&&(n="".concat(i.app.name.toUpperCase(),"_").concat(n)),e.loggersByName[n])return e.loggersByName[n];var o=new v(t.merge(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:n},i),t.context));return e.loggersByName[n]=o,e.useDefaults(i,o,n),_&&o.setLevel(o.INFO),o},e.createDefaultHandler=function(e){e=e||{};return"undefined"==typeof console?function(){}:function(n,i){n=Array.prototype.slice.call(n);var o=console.log,a=i.level.value;a===t.WARN.value&&console.warn?o=console.warn:a===t.ERROR.value&&console.error?o=console.error:a===t.INFO.value&&console.info?o=console.info:a===t.DEBUG.value&&console.debug?o=console.debug:a===t.TRACE.value&&console.trace&&(o=console.trace),e.formatter&&e.formatter(n,i),function(e,t,n){var i=(0,w.Z)(t),o=i[0],a=i[1],r=i[2],s=i.slice(3),d=n.name.split("_"),c=(0,w.Z)(d),u=c[0],l=c.slice(1),p=l.length?"[".concat(u,"]:[").concat(l.join("_"),"]"):"[".concat(u,"]"),g=["".concat(p," ").concat(r?"%c":"").concat(o)];r&&g.push(r),a&&g.push(a),e.apply.call(e,console,g.concat(s))}(o,n,i)}},e.useDefaults=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,o=t.defaultLevel;if(!o)try{o=window.sessionStorage.getItem("_pwLogger:".concat(i))}catch(e){}null===o&&(o="OFF"),n.setLevel(n[o],i),e.setHandler(e.createDefaultHandler(t),n)}}();var b=n(1002),S=n(416),O=function(){var e=!0,t=0,n=!0;if(window.pwEdgeFlags&&"object"===(0,b.Z)(window.pwEdgeFlags.benchmarks)){var i=window.pwEdgeFlags.benchmarks,o=i.sampling,a=i.rate;"boolean"==typeof o&&"number"==typeof a&&(e=o,t=a),!1===window.pwEdgeFlags.benchmarks.samplingCornerVideoEnabled&&(n=!1)}return{samplingEnabled:e,samplingRate:t,samplingCornerVideoEnabled:n}},P=O(),k=P.samplingEnabled,E=P.samplingRate,I=P.samplingCornerVideoEnabled,A=function(){function e(){(0,i.Z)(this,e),this.events={},this.samplingEnabled=k,this.samplingRate=E,this.samplingCornerVideoStatus=I}return(0,o.Z)(e,[{key:"trackStart",value:function(e){this.events[e]=this.events[e]||{},this.events[e].start=window.performance.now(),this._emit(e)}},{key:"trackEnd",value:function(e){this.events[e]=this.events[e]||{},this.events[e].end=window.performance.now(),this._emit(e)}},{key:"trackPageAnalytics",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;this.events[e]=this.events[e]||{},this.events[e].type="".concat(e),this.events[e].pf_dr=t,this.events[e].pf_ts=n,i&&(this.events[e].ad_details=i),o&&(this.events[e].config_id=o),a&&(this.events[e].firstInteractionType=a),(this.events[e].ad_details&&"corner_ad_video"===this.events[e].ad_details.slot_id&&!1===this.samplingCornerVideoStatus||!1===this.samplingEnabled)&&this.sendPageAnalyticsToKinesis(this.events[e])}},{key:"sendPageAnalyticsToKinesis",value:function(e){window.PageOS.kinesis.handleEvent("pageAnalyticsBenchmarks",{uuid:s("pageAnalyticsBenchmarks"),type:e.type,pf_dr:e.pf_dr,pf_ts:e.pf_ts,ad_details:e.ad_details?e.ad_details:null,config_id:e.config_id?e.config_id:null,first_interaction_type:e.firstInteractionType?e.firstInteractionType:null})}},{key:"_emit",value:function(e){this.events[e].start&&this.events[e].end&&(S.cI.info(e,this.events[e].end-this.events[e].start),this.events[e]={})}}]),e}();window.PageOS.benchmarks=window.PageOS.benchmarks||new A;var C=n(2238),U=n.n(C),D=function(e){try{e.top.navigator.connection;return e.top.navigator}catch(t){return e.navigator}},T=function(){var e=U()(D(window).userAgent).browser;return{name:e.name.toLowerCase(),version:e.major||"",cookieEnabled:window.navigator.cookieEnabled,javaEnabled:window.navigator.javaEnabled(),protocol:window.location.protocol,width:window.innerWidth,height:window.innerHeight,screenWidth:window.screen.width,screenHeight:window.screen.height}},x=n(879);function L(){window.PageOS.environment=window.PageOS.environment||{};var e=window.PageOS.environment;if(function(e){var t=document.createElement("div");t.id="adBanner",t.classList.add("adLeaderboard","adBanner","leaderboard_ad"),t.style.backgroundColor="transparent",t.style.height="10px",t.style.width="10px",t.style.position="fixed",t.style.bottom="-100px",t.style.left="-100px",t.innerHTML="&nbsp;";var n=function(t){e.adBlock=0===t.getBoundingClientRect().height;var n=new Image;n.onload=function(){!0!==e.adBlock&&(e.adBlock=!1)},n.onerror=function(){e.adBlock=!0},n.src="https://px.moatads.com/pixel.gif"};if(document.body)document.body.appendChild(t),n(t);else{var i=new MutationObserver((function(){document.body&&(document.body.appendChild(t),n(t),i.disconnect())}));i.observe(document.documentElement,{childList:!0})}}(e),e.getBrowserInfo=T,e.hasLocalStorage=a(),e.isMobile=(0,x.tq)(),e.referrerDomain=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.referrer;if("string"==typeof e&&""!==e){var t=e.split("//")[1].split("/")[0];return 0===t.indexOf("www.")&&(t=t.slice(4)),t}return""}(),e.OS=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent,t=e.indexOf("("),n=e.indexOf(")"),i=e.slice(t+1,n),o={};if(i.indexOf("CrOS")>-1){o.name="ChromeOS",o.version=null;var a=i.split(" ");return o.version=a[a.length-1].split(".")[0].split("_")[0],o}if(i.indexOf("Windows NT")>-1)return o.name="Windows",o.version=null,i.indexOf("Windows NT 5.0")>-1&&(o.version="2000"),i.indexOf("Windows NT 5.1")>-1&&(o.version="XP"),i.indexOf("Windows NT 6.0")>-1&&(o.version="Vista"),i.indexOf("Windows NT 6.1")>-1&&(o.version="7"),i.indexOf("Windows NT 6.2")>-1&&(o.version="8"),i.indexOf("Windows NT 6.3")>-1&&(o.version="8.1"),i.indexOf("Windows NT 10.0")>-1&&(o.version="10"),o;if(i.indexOf("iPhone")>-1||i.indexOf("iPad")>-1){o.name="iOS",o.version=null;var r=i.indexOf("OS")+3;return o.version=i.slice(r,r+2).replace(";","").replace(".","").replace("_","").replace(" ",""),o}if(i.indexOf("Mac OS X 10")>-1){o.name="Mac OS X",o.version=null;var s=i.indexOf("Mac OS X 10")+12;return o.version=i.slice(s,s+2).replace(";","").replace(".","").replace("_","").replace(" ",""),o}if(i.indexOf("Linux")>-1)return o.name="Linux",o.version=null,o;if(i.indexOf("Android")>-1&&-1===i.indexOf("Windoes")){o.name="Android",o.version=null;var d=i.indexOf("Android")+8;return o.version=i.slice(d,d+2).replace(";","").replace(".","").replace("_","").replace(" ",""),o}return o.name=null,o.version=null,o}(),e.getHour=function(){return(new Date).getHours().toString()},e.getDay=function(){return{0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"}[(new Date).getDay()]},e.getBrowserTargeting=function(){var t=e.getBrowserInfo(),n="Other";switch(t.name){case"chrome":n="Chrome";break;case"edge":n="Edge";break;case"ie":n="IE";break;case"firefox":n="Firefox";break;case"safari":case"mobile safari":n="Safari";break;case"opera":n="Opera";break;case"yandex":n="Yandex"}return n+=" ".concat(t.version)},a&&localStorage.getItem("PageOS_Environment")){var t=JSON.parse(localStorage.getItem("PageOS_Environment")),i=t.renderer,o=t.vendor;e.getRenderer=i,e.getVendor=o}else n.e(874).then(n.bind(n,5613)).then((function(t){var n=(0,t.default)(a),i=n.renderer,o=n.vendor;e.getRenderer=i,e.getVendor=o})).catch((function(){e.getRenderer=null,e.getVendor=null}));e.cookieTest=function(){var e="".concat("https://cdn.intergient.com/pageos/1.10.40/","iframe/iframe.html");window.PageOS.environment.tpcEnabled="unknown";var t=0,n=setInterval((function(){100===++t&&(delete window.PageOS.environment.tpcEnabled,window.removeEventListener("message",i),document.body.removeChild(o),window.PageOS.BUS.emit("tpcCheck_ready"),clearInterval(n))}),100),i=function e(t){try{var i=JSON.parse(t.data);if("_pwTestCookieResult"!==i.type)return;window.PageOS.environment.tpcEnabled=i.isCookieEnabled,window.removeEventListener("message",e),document.body.removeChild(o),window.PageOS.BUS.emit("tpcCheck_ready"),clearInterval(n)}catch(e){}};window.addEventListener("message",i);var o=document.createElement("iframe");o.src=e,o.sandbox="allow-scripts allow-same-origin",o.style="display:none",o.setAttribute("width","0"),o.setAttribute("height","0"),o.setAttribute("id","check_cookie"),o.onload=function(e){o.contentWindow.postMessage(JSON.stringify({type:"_pwTestCookie"}),"*")},document.body.appendChild(o)},e.cookieTest()}var M=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IS","IE","IT","LV","LI","LT","LU","MT","NL","NO","PL","PT","RO","SK","SI","ES","SE","CH","GB","UK"];function R(e){var t=e.countryCode,i=void 0===t?"US":t,o=e.isCOPPA,a=void 0!==o&&o;window.PageOS=window.PageOS||{},window.PageOS.gdpr=window.PageOS.gdpr||{};var r=window.PageOS.gdpr,s=!(!(0,p.DP)("pwcmp")&&!(0,p.DP)("gcmp")),d=(0,p.DP)("pwcc")||i,c="User in EU check";r.userInEU=function(e){return!!e&&M.indexOf(e.toUpperCase())>-1}(d),r.isCOPPA="boolean"==typeof a&&a,r.userCC=d,r.userInEU?(S.Hf.info(c,{value:1}),n.e(262).then(n.bind(n,8814)).then((function(e){var t=e.default;new t(r,s)})).catch((function(e){S.Hf.error("Loading GDPR module.",{message:e.message,stack:e.stack})}))):(S.Hf.info(c,{value:0}),r.hasWindowCMP=!1,r.hasCMP=function(){return Promise.resolve(!1)},window.PageOS.BUS.emit("gdpr_ready"))}function B(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw a}}}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var N=["meta_keywords","content_categories","page_domains","url_paths","referrer_domains","ops_campaigns","user_profiles"],F=function(e){var t=function(e){return e.toLowerCase().replace("www.","")};return"string"==typeof e?t(e):Array.isArray(e)?e.map((function(e){return t(e)})):e},H=function(e,t){var n,i=B(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(z(o,t))return!0}}catch(e){i.e(e)}finally{i.f()}return!1},V=function(e,t){return Object.keys(e).some((function(n){return Object.keys(e[n]).some((function(i){return!!t[i]&&(Array.isArray(e[n][i])?e[n][i].some((function(e){return z(e,t[i])})):t[i]&&z(e[n][i],t[i]))}))}))},z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var i=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(t);i=i.replace(/_/g,"[^0-9A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u024f\u1e00-\u1eff]?"),!n||i.startsWith("~")||i.endsWith("~")?i=(i=i.startsWith("~")?i.slice(1):"(^| )".concat(i)).endsWith("~")?i.slice(0,-1):"".concat(i,"( |$)"):(i.startsWith("~")&&i.endsWith("~")&&(i=i.slice(1,-1)),i="(^|\\.)".concat(i,"$"));var o=new RegExp(i);return e.match(o)}catch(e){return S.ai.warn("Error parsing regular expression",{message:e.message,stack:e.stack}),!1}},Z=function(e){var t,n=e.audienceSegments,i=void 0===n?[]:n,o=e.categories,a=void 0===o?[]:o,r=e.keywords,s=void 0===r?[]:r,d=e.impressionEventIds,c=void 0===d?[]:d,u=e.keyValues,l=void 0===u?{}:u,p=window.location.hostname,g=F(p||""),w=F(te(document.referrer||"")),f=F(window.location.pathname||""),m=[],h=[];return t=i,Array.isArray(t)&&t.length>0?(i.forEach((function(e){for(var t=!0,n=e.id,i=e.definition,o=i.length,r=0;r<o;r++){var d=i[r],u=d.group,p=d.values,v=d.operator;if(N.includes(u)){if(0!==r&&t&&"OR"===v){m.push("".concat(n));break}(t||("OR"===v&&(t=!0),"AND"!==v))&&("meta_keywords"===u?t=p.some((function(e){var t=F(e);return H(s,t)})):"content_categories"===u?t=p.some((function(e){return a.includes(F(e))})):"page_domains"===u?t=p.some((function(e){var t=F(e);return z(g,t,!0)})):"url_paths"===u?t=p.some((function(e){var t=F(e);return z(f,t)})):"referrer_domains"===u?t=p.some((function(e){var t=F(e);return z(w,t,!0)})):"user_profiles"===u?t=p.some((function(e){var t=F(e);return V(l,t)})):"ops_campaigns"===u&&(t=p.some((function(e){return c.includes(F(e))})))&&h.push("".concat(n)),r===o-1&&t&&m.push("".concat(n)))}}})),{matchedSegments:m,campaignSegments:h}):{matchedSegments:m,campaignSegments:h}},q=n(8764),W=new Date;W.setMilliseconds(31536e6),W=W.toUTCString();var G=function(e,t){try{if(!window.PageOS.environment.hasLocalStorage)return t;var n=localStorage.getItem(e);return n?(n=JSON.parse(n),"object"===(0,b.Z)(n)&&2===Object.keys(n).length&&(n.hasOwnProperty("PII")||n.hasOwnProperty("pii"))&&n.hasOwnProperty("data")&&(n=n.data),n):t}catch(e){return t}},K=function(e,t){if(window.PageOS.environment.hasLocalStorage&&e){"object"===(0,b.Z)(t)&&2===Object.keys(t).length&&(t.hasOwnProperty("PII")||t.hasOwnProperty("pii"))&&t.hasOwnProperty("data")&&(t=t.data);try{var n="string"==typeof t?t:JSON.stringify(t);localStorage.setItem(e,n)}catch(t){S.ai.warn("Could not set local storage.",{key:e})}}},J=function(e){if(e)try{localStorage.removeItem(e)}catch(e){}},Y=function(e){return e&&q.lW.from(e,"base64").toString("utf8")};n(3040);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $="",ee=function(e,t){var n=Object(e).keys().find((function(e){return function(e,t){for(;e.includes(".");){if(e===t)return!0;e=e.slice(currentHostname.indexOf(".")+1)}}(e,t)}));return e[n]},te=function(e){var t=e;try{t=/\/\/(.[^/]+)/.exec(e)[1]}catch(e){}return t},ne=function(e){var t=e.websiteId,n=e.publisherId,i=e.categories,o=window.PageOS.environment,a=D(window).connection||{},r=function(e){try{return e.top.location.href,e.top.location}catch(t){return e.location}}(window),s=o.getBrowserInfo(),d=s.screenWidth,c=s.screenHeight,u=s.width,l=s.height,p=window.document.referrer;""===p&&(p=null);var g=te(p),w=window.PageOS.kinesis||{},f=window.PageOS.gdpr?window.PageOS.gdpr.userCC:null,m={timestamp:w.athenaFriendlyTimestamp(),version:"0.8.0",website_id:t,publisher_id:n,website_categories:i,country_code:f,page_url:r.href,page_hostname:r.hostname,referrer_url:p,referrer_hostname:g,user_agent:D(window).userAgent,connection_downlink:a.downlink,ads_blocked:o.adBlock,screen_width:d,screen_height:c,screen_orientation:window.matchMedia("(orientation: portrait)").match?"portrait":"landscape",window_width:u,window_height:l,tyche_code:window.ramp.settings.version,pageos_code:window.PageOS.version};return window.ramp.activeConfig&&window.ramp.activeConfig.config_id&&(m.config_id=window.ramp.activeConfig.config_id),m},ie=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,p.jh)(),i=(0,p.$1)(),o={};return n?o=ne({categories:(e=n).settings.categories,websiteId:e.id,publisherId:e.settings.publisherId}):i&&(o=ne(function(e){var t=null,n=null,i=null;try{var o=e.advertising.servers[0].tags,a=o[location.hostname]||ee(o,location.hostname);t=a.id,i=a.categories,n=e.id||e.hostingId}catch(e){}return{categories:i,publisherId:n,websiteId:t}}(i))),X(X({},o),t)},oe=function(e){if(!1===window._pageViewSampling){var t={event_type:"page_views",id:window.PageOS.kinesis.randomUuid("page_view"),ramp_session_id:window.PageOS.session.getUUID,sampling_rate:window._pageViewSR};if($=t.id,!window.PageOS.gdpr.isCOPPA&&!window.PageOS.gdpr.userInEU&&e.ready){t.meta_keywords=e.getMetaKeywords(),t.visitor_id=e.getVisitorId(),t.impression_event_ids=e.getImpressionEventIds(),t.user_identifiers=e.getUserIdentifiers();var n=e.getKeyValues();t.user_profile_data=function(e){return e&&q.lW.from(e,"utf8").toString("base64")}(JSON.stringify(n)),t.user_profile_format="EUP1"}var i=X(X({},t),ie());for(var o in i)null!==i[o]&&void 0!==i[o]||delete i[o];try{i.slot&&delete i.slot;var a={Data:"".concat(JSON.stringify(i),"\n"),PartitionKey:"partition-".concat(Date.now())};window.PageOS.kinesis.send({records:a,streamName:"apps-production",sampling:!1})}catch(e){S.C.error("_stringifyData Error",{message:e.message})}}},ae=function(){var e=window.PageOS.dmp;e&&"boolean"==typeof e.ready?oe(e):window.PageOS.BUS.on("dmp_ready",(function(){oe(window.PageOS.dmp)}))},re=function(){return $},se=n(9439),de=n(5861),ce=n(4687),ue=n.n(ce),le="17138",pe=function(e){var t=document.createElement("script");t.type="text/javascript",t.src="https://tags.crwdcntrl.net/lt/c/".concat(le,"/sync.min.js"),t.async=!0,t.id="lotameScript",t.onload=function(){return e()},document.head.appendChild(t)},ge=function(){return new Promise((function(e){var t=window.PageOS.gdpr,n=t.isCOPPA,i=t.userInEU,o=!!(0,p.DP)("ccpa");if(!(window._pwUserInCA||o))return n?(S.k_.info("Is a COPPA site, Lotame deactivated."),e(!1)):i?(S.k_.info("User in EU, Lotame deactivated."),e(!1)):e(!0);window.PageOS.BUS.on("ccpa_ready",(function(){return!0===(window.PageOS.ccpa&&!0===window.PageOS.ccpa.hasUserOptedOut())?(S.k_.info("CCPA applies and user has opted out, Lotame deactivated."),e(!1)):e(!0)}),!0)}))},we=function(){try{var e={config:{onProfileReady:function(e){S.k_.info("Profile loaded"),S.k_.info("Profile ID ".concat(null==e?void 0:e.getProfileId()))}}}.config||{},t=window["lotame_sync_".concat(le)]={};return t.config=e,t.data={},t.cmd=t.cmd||[],!0}catch(e){return S.k_.error(e),!1}};function fe(){window.PageOS=window.PageOS||{},window.PageOS.lotame=window.PageOS.lotame||{};var e=window.PageOS.lotame;window.PageOS.BUS.on("gotConfig",(function(){!function(){var e=window.PageOS.lotame,t=function(){S.k_.info("Script loaded"),window.PageOS.BUS.emit("lotameSync_ready")};e.init().then((function(e){return e&&pe(t)}))}()}),!0),e.init=function(){return new Promise((function(e){!window.PageOS.gdpr||!1!==window.PageOS.gdpr.userInEU&&"boolean"!=typeof window.PageOS.gdpr.hasWindowCMP?window.PageOS.BUS.on("gdpr_ready",(function(){ge().then((function(t){t?e(we()):(S.k_.warn("Lotame module not available"),e(!1))}))}),!0):ge().then((function(t){t?e(we()):(S.k_.warn("Lotame module not available"),e(!1))}))}))}}var me="pw_uuid",he=function(){return!0===window.PageOS.userData.ready&&(!(window.PageOS.ccpaApplies&&window.PageOS.ccpa&&window.PageOS.ccpa.hasUserOptedOut())&&!window.PageOS.gdpr.isCOPPA)},ve=function(){if(he()){var e=window.PageOS.gdpr,t=e.userCC,n=e.userInEU,i=null;new Promise((function(e){window.PageOS.userData.get(me,(function(t){if(t&&"object"===(0,b.Z)(t)&&t.data&&(t=t.data),!t)return e(null);e(t)}))})).then((function(e){e&&(i=e)})).then((function(){i||(i=function(){var e=null;return(e=(0,p.Do)(me))||(e=s("user"),document.cookie="".concat(me,"=").concat(e,";path=/;max-age=33696000"),window.PageOS.userData.set(me,e,!0)),e}())})).then((function(){window.PageOS.session.setCookieSyncUID(i)})).then((function(){"US"===t&&((new Image).src="https://idsync.rlcdn.com/".concat("712453",".gif?partner_uid=").concat(i))})).then((function(){if(!n&&(window.PageOS.BUS.after("lotameSync_ready",(function(){return function(e){var t=Date.now(),n=G("pw_lotame_cookie_exp",!1);if(!n||n<t){K("pw_lotame_cookie_exp",n=t+2592e6);var i={thirdParty:{namespace:"PLAY",value:e}};window["lotame_sync_".concat(le)].cmd.push((function(){window["lotame_sync_".concat(le)].sync(i)}))}else S.k_.info("Not enough time has passed since last lotame cookie sync")}(i)})),!ye(t))){var e=document.createElement("script");e.type="text/javascript",e.src="https://ps.eyeota.net/pixel?pid=".concat("m51mh00","&t=ajs&uid=").concat(i),e.async=!0,e.defer=!0,document.head.appendChild(e)}})).catch((function(e){S.cV.error("Error settings up cookie sync.",e)}))}},ye=function(e){return["UA","RU","CN","KP","SY","IR","IQ","AF","SD","SO","LY","YE","CU"].indexOf(e.toUpperCase())>-1};window.PageOS.BUS.after("userData_ready",ve);function _e(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw a}}}}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pe,ke={app_sessions:"id",ad_impressions:"app_session_id",ad_auctions:"app_session_id",ad_bids:"app_session_id",ad_units:"app_session_id",benchmarks:"session_id",bolt_ad_clicks:"player_uuid",bolt_ad_errors:"player_id",bolt_ad_playback_milestones:"player_uuid",bolt_ad_requests:"player_uuid",bolt_ad_request_results:"player_uuid",bolt_ad_sessions:"player_uuid",bolt_ad_sessions_results:"player_uuid",bolt_players:"uuid",hb_ab_tests:"app_session_id",performances:"session_id",video_plays:"app_session_id",ramp_sessions:"uuid",report_ad_forms:"report_ad_id",data_layer:"app_session_id",user_opt_outs:"id"},Ee=function(e){return e.toLowerCase().replace(/([-_][a-z])/g,(function(e){return e.toUpperCase().replace("_","")}))},Ie=function(e){var t=window.ramp.analytics;if(t){var n=t[e];if(void 0!==n&&("string"==typeof n||"number"==typeof n||Array.isArray(n)&&n.every((function(e){return"string"==typeof e||"number"==typeof e}))))return n}},Ae=function(){function e(t){(0,i.Z)(this,e),(0,f.Z)(this,"isProduction",!0),(0,f.Z)(this,"_apps",{}),(0,f.Z)(this,"_units",[]),(0,f.Z)(this,"_auctions",[]),(0,f.Z)(this,"_bidsById",{}),t.handleEvent=this.handleEvent.bind(this),Pe=t,this._pipelines={app:{STREAM_NAME:this.isProduction?"apps-production":"apps-development",VERSION:"0.8.0",queue:[]},boltAds:{STREAM_NAME:this.isProduction?"bolt-ads-production":"bolt-ads-development",queue:[],VERSION:"0.4.0"},boltErrors:{STREAM_NAME:this.isProduction?"bolt-errors-production":"bolt-errors-development",queue:[],VERSION:"0.1.0"}}}var t;return(0,o.Z)(e,[{key:"handleEvent",value:function(e,t){"function"==typeof this[e]?this[e](t):this[Ee(e)]?this[Ee(e)](t):S.C.error("Method does not exist for event.",{event:e})}},{key:"addAdUnits",value:function(){var e=this;window.__pwpbjs__.adUnits.forEach((function(t){e._units.find((function(e){return e.code===t.code}))||e._units.push(t)}))}},{key:"adImpressions",value:function(e){var t=e.data,n=t.bid,i=t.targeting,o=t.slotData,a=e.data.adUnitCode&&e.data;a?this.sendImpression(a.adUnitCode,a):this.sendImpression(n.adUnitCode,n,n.size,i,o)}},{key:"sendVideoImpression",value:function(e){var t=this,n=e.slotId,i=e.pbjsBid,o=e.size,a=e.targeting,r=e.slotData,s=e.amznBid;setTimeout((function(){t.sendImpression(n,i,o,a,r,s)}))}},{key:"auctionInit",value:function(e){var t=this,n=this._getAppIdFromAuction(e);null!==n&&(e.bids={requested:{},totals:{available:0,unavailable:0,timed_out:0}},e.id=Pe.randomUuid("auction"),this._auctions.push(e),e.adUnits.forEach((function(e){t.newAdUnit(e,n)})))}},{key:"auctionEnd",value:function(e){var t=this;if(null!==this._getAppIdFromAuction(e)){var n=e.auctionId;setTimeout((function(){var e=t._auctions.find((function(e){return e.auctionId===n})),i=Date.now();void 0!==e?(e.duration=i-e.timestamp,t.processAuction(e)):S.C.warn("[AuctionEnd] Auction ".concat(n," not found in the list of auctions"))}),100)}}},{key:"benchmarks",value:function(e){this._handleGenericEvent(e)}},{key:"bidderDone",value:function(e){var t=this._auctions.find((function(t){return t.auctionId===e.auctionId}));if(null!==this._getAppIdFromAuction(t)){var n=e.start,i=Date.now(),o=n&&n>0?i-n:t.timeout;t.bids.requested[e.bidderCode].map((function(e){return e.duration=o,e}))}}},{key:"bidRequested",value:function(e){var t=this,n=this._auctions.find((function(t){return t.auctionId===e.auctionId}));null!==this._getAppIdFromAuction(n)&&(n.bids.requested[e.bidderCode]=e.bids,n.units=n.units||{},e.bids.forEach((function(e){e.playwireId=Pe.randomUuid("bid"),t._bidsById[e.bidId]=e,n.units[e.adUnitCode]||(n.units[e.adUnitCode]=Pe.randomUuid("auction"))})))}},{key:"bidResponse",value:function(e){var t=this._auctions.find((function(t){return t.auctionId===e.auctionId}));null!==this._getAppIdFromAuction(t)&&(this._bidsById[e.requestId].response=e)}},{key:"bidTimeout",value:function(e){for(var t=this,n=function(){var n=e[i],o=t._auctions.find((function(e){return e.auctionId===n.auctionId}));if(null===t._getAppIdFromAuction(o))return 1;if(void 0!==o.bids.requested[n.bidder]){o.bids.requested[n.bidder].find((function(e){return e.bidId===n.bidId})).timeout=n}else{var a=o.bidderRequests.find((function(e){return e.bidderCode===n.bidder}));S.C.warn("[BidTimeout] Bidder ".concat(n.bidder," not found in the list of bidders for auction ").concat(n.auctionId,"; source: ").concat(a.src))}},i=0;i<e.length;i++)n()}},{key:"bidWon",value:function(e){try{window.ramp.settings.slots[e.adUnitCode].pbjsBid=e,S.C.info("Prebid ad impressed.",e)}catch(e){S.C.error("bidWon method failed.",e.message)}}},{key:"boltAdClicks",value:function(e){this._handleGenericEvent(e)}},{key:"boltAdErrors",value:function(e){this._handleGenericEvent(e)}},{key:"boltAdPlaybackMilestones",value:function(e){this._handleGenericEvent(e)}},{key:"boltAdRequests",value:function(e){this._handleGenericEvent(e)}},{key:"boltAdRequestResults",value:function(e){this._handleGenericEvent(e)}},{key:"boltAdSessions",value:function(e){this._handleGenericEvent(e)}},{key:"boltAdSessionsResults",value:function(e){this._handleGenericEvent(e)}},{key:"boltPlayers",value:function(e){this._handleGenericEvent(e)}},{key:"hbAbTests",value:function(e){this._handleGenericEvent(e)}},{key:"dataLayer",value:function(e){this._handleGenericEvent(e)}},{key:"userOptOut",value:function(e){this._apps[e]={app:{name:"pageos",version:window.PageOS.version},sampling:{user_opt_outs:{sampling:!1,rate:1}}};var t=Oe({event_type:"user_opt_outs",id:e,ramp_session_id:window.PageOS.session.getUUID,sampling_rate:1},window.PageOS.kinesis.getRINucleus());this._push(t,this._pipelines.app),this._sendQueueToKinesis()}},{key:"clickConfirmed",value:function(e){var t=window.PageOS.kinesis.getPageViewId(),n=Oe({event_type:"confirmed_clicks",page_id:t||"",session_id:window.PageOS.session?window.PageOS.session.getUUID:"",unit_code:e},window.PageOS.kinesis.getRINucleus());this._push(n,this._pipelines.app),this._sendQueueToKinesis()}},{key:"displayAdImpression",value:function(e){var t=this,n=e.slotId,i=e.impressionData,o=e.size,a=e.targeting,r=e.slotData,s=e.amznBid;setTimeout((function(){t.sendImpression(n,i,o,a,r,s)}),100)}},{key:"newAdUnit",value:function(e,t){var n=this._units.find((function(t){return t.code===e.code}));if(!n.id){n.id=Pe.randomUuid("unit");var i=Oe(Oe({event_type:"ad_units",id:n.id,app_session_id:t,code:n.code},this._environmentalData(t)),this._collectEventMetadata(this._pipelines.app,t,"ad_units"));this._push(i)}}},{key:"newAuction",value:function(e,t,n){var i=this,o=function(e,t,n){var o=i._getAppIdFromAuction(e),a=i._units.find((function(e){return e.code===t}));return n||(n=i._winningBidForUnitCode(t)),Oe(Oe({event_type:"ad_auctions",id:e.units[a.code],app_session_id:o,unit_id:a.id,unit_code:a.code,timeout:e.timeout,result:n?"succeeded":"failed",winning_bid_id:n?n.playwireId:null,winning_bidder:n?n.bidder:null,winning_cpm:n?n.cpm:null,winning_size:n?n.size:null,winning_response_time:n?n.duration:null,send_all_bids:window.__pwpbjs__.getConfig("enableSendAllBids"),average_cpm:i._averageCpm(e,a),render_number:i._timesUnitRendered(a)},i._environmentalData(o)),i._collectEventMetadata(i._pipelines.app,o,"ad_auctions"))};if(t){var a=o(e,t,n);return this._push(a),void this._sendQueueToKinesis()}var r=[];for(var s in e.units){var d=o(e,s);r.push(d)}this._push(r),this._sendQueueToKinesis()}},{key:"performances",value:function(e){this._handleGenericEvent(e)}},{key:"processAuction",value:function(e){"prebid_video"===e.adUnitCodes[0]&&this.newAuction(e),this.sendBids(e)}},{key:"registerApp",value:function(e){var t=e.data,n=t.appData,i=t.environmentalData,o=t.id,a=t.samplingEvents,r=e.pipeline;if(this._apps[o])S.C.error("Cannot register duplicate app.",{id:o});else{this._apps[o]={app:n,environment:i,sampling:a},1===window._adImpressionSR&&(a.ad_impressions=a.ad_impressions||{},a.ad_impressions.sampling=!1,a.ad_impressions.rate=1);var s=Oe(Oe({event_type:"app_sessions",id:o},i),this._collectEventMetadata(this._pipelines[r],o,"app_sessions"));this._push(s,this._pipelines[r]),this._sendQueueToKinesis()}}},{key:"getHashedEid",value:(t=(0,de.Z)(ue().mark((function e(t){var n,i,o,a,r,s,d,c;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=p.Lq(t,"SHA-256"),i=p.FB(t),o=p.Lq(t,"SHA-1"),e.next=6,Promise.all([o,n,i]);case 6:return a=e.sent,r=(0,se.Z)(a,3),s=r[0],d=r[1],c=r[2],e.abrupt("return",{sha1:s,sha256:d,md5:c});case 14:e.prev=14,e.t0=e.catch(0),S.C.error("getHashedEid Error",{message:e.t0.message});case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),function(e){return t.apply(this,arguments)})},{key:"registerRampSession",value:function(e){var t=this,n=e.uuid,i=e.uuid_segment_ids,o=e.visitor_id,a=e.visitor_segment_ids,r=e.pwheid,s=e.pwheid_segment_ids,d=e.eid,c=e.is_hem_from_url,u=function(e,n){t._apps[n]={app:{name:"pageos",version:window.PageOS.version},sampling:{ramp_sessions:{sampling:!1,rate:1}}};var d=r?{pwheid_segment_ids:s,eid:e,pwheid:r}:{},c=Oe(Oe({event_type:"ramp_sessions",id:window.PageOS.session.getUUID,uuid:n,visitor_id:o,uuid_segment_ids:i,visitor_segment_ids:a},d),window.PageOS.kinesis.getRINucleus()),u="app";c=Oe(Oe({},c),t._collectEventMetadata(t._pipelines[u],n,"ramp_sessions")),t._push(c,t._pipelines[u]),t._sendQueueToKinesis()};if(he()){var l=d?this.getHashedEid(d):Promise.resolve(void 0);c?u(d,n):d?l.then((function(e){u(e,n)})).catch((function(e){S.C.error("Error in registerRampSession:",e)})):u(void 0,n)}}},{key:"pageAnalyticsBenchmarks",value:function(e){var t=e.uuid,n=e.type,i=e.pf_dr,o=e.pf_ts,a=e.ad_details,r=e.config_id,s=e.first_interaction_type,d=O(),c=d.samplingEnabled,u=d.samplingRate;this._apps.page_analytics_benchmarks={app:{name:"pageos",version:window.PageOS.version},sampling:{sampling:c,rate:u}};var l=Oe({event_type:"benchmarks",source:"pw_page_analytics_events",id:window.PageOS.session.getUUID,session_id:window.PageOS.session.getUUID,type:n,pf_dr:i,pf_ts:o,ad_details:a,config_id:r,first_interaction_type:s},window.PageOS.kinesis.getRINucleus()),p="app";l=Oe(Oe({},l),this._collectEventMetadata(this._pipelines[p],t,"page_analytics_benchmarks")),S.C.debug("Page Analytics Benchmarks:",l),this._push(l,this._pipelines[p]),this._sendQueueToKinesis()}},{key:"reportAdForms",value:function(e){this._apps[e.report_ad_id]={app:{name:"pageos",version:window.PageOS.version},sampling:{report_ad_forms:{sampling:!1,rate:1}}};var t=Oe(Oe({event_type:"report_ad_forms"},e),window.PageOS.kinesis.getRINucleus()),n="app";t=Oe(Oe({},t),this._collectEventMetadata(this._pipelines[n],e.report_ad_id,"report_ad_forms")),this._push(t,this._pipelines[n]),this._sendQueueToKinesis()}},{key:"sendBids",value:function(e){var t=this,n=this._getAppIdFromAuction(e),i=[];for(var o in e.bids.requested){var a,r=e.bids.requested[o],s=_e(r);try{var d=function(){var s,d=a.value,c=t._units.find((function(e){return e.code===d.adUnitCode}))||{},u="unavailable",l=0,p=null,g=d.duration;d.response&&(u="available",l=d.response.cpm,p=d.response.size),d.timeout&&(u="timed_out",g=d.timeout),e.bids.totals[u]++,s=Oe(Oe({event_type:"ad_bids",id:d.playwireId,app_session_id:n,unit_id:c.id,unit_code:c.code,auction_id:e.units[c.code],bidder:o,in_view_pid:!0===d.inViewPID,render_number:t._timesUnitRendered(c),requests_count:r.filter((function(e){return e.adUnitCode===c.code})).length,response_time:g,result:u,cpm:l,size:p},t._environmentalData(n)),t._collectEventMetadata(t._pipelines.app,n,"ad_bids")),i.push(s)};for(s.s();!(a=s.n()).done;)d()}catch(e){s.e(e)}finally{s.f()}}this._push(i),this._sendQueueToKinesis()}},{key:"sendImpression",value:function(e,t,n,i,o,a){for(var r,s,d,c=this,u=null,l=void 0,p=this._auctions.length-1;p>=0&&((t&&this._auctions[p].auctionId===t.auctionId||this._auctions[p].adUnitCodes.includes(e))&&(u=this._auctions[p]),null===u);p--);var g=this._getAppIdFromAuction(u,e);!0===(null===(r=window.PageOS)||void 0===r||null===(s=r.dmp)||void 0===s?void 0:s.ready)&&(l=!!window.PageOS.dmp.getPWHeid()),t&&(t=this._annotatedBidResponse(t)),u&&this.newAuction(u,e,t);var w=this._units.find((function(t){return t.code===e}))||{},f=null,h=null,v=null,y=null,_=null,b=null;window.PageOS.BUS.after("gamRqTm",(function(e){f=e})),window.PageOS.BUS.after("cornerAdVideoGamRqSt",(function(e){v=e})),window.PageOS.BUS.after("cornerAdVideoGamRqEn",(function(e){y=e})),"corner_ad_video"===e&&(f=v&&y?y-v:null);var S=window.PageOS.kinesis.getPageViewId(),O=parseFloat(this._getTargetingValue(i,"price_floor")),P=Ie("author"),k=Ie("contentType"),E=this._getThirdPartyGAMConfig(w.code),I=E.tpgEnabled,A=E.tpgNetwork,C=E.tpgAdxId,U=this._getBidder(t,a,o,C),D=this._getCreativeType(t,e,o),x=this._getDemandType(t,a),L=this._getPrebidIdentity(),M=Oe(Oe({event_type:"ad_impressions",id:Pe.randomUuid("impression"),app_session_id:g,unit_id:w.id||null,unit_code:w.code||e,auction_duration:u?u.duration:null,auction_id:u?u.units[w.code]:null,timeout:u?parseFloat(this._getBidderTimeout(t,u)):null,bid_id:t?t.playwireId:null,prebid_bid:null!==t,size:t?t.size:n,targeting:i,page_id:S||"",cid:this._getCreativeId(t,o),floor:O,refresh_cnt:parseInt(this._getTargetingValue(i,"refresh_count"),10),cpm:this._getCPM(t,e,U,O),line_item_id:this._getLineItemId(t,o,e),pageos_code:window.PageOS.version,tyche_code:window.ramp.settings.version,config_id:window.ramp.activeConfig&&window.ramp.activeConfig.config_id,bidder:U,creative_type:D,author:P,p_density:(null===(d=window.ramp)||void 0===d?void 0:d.getAdDensity())||null,gam_rq_tm:f,publisherOverride:"".concat(window.PageOS.kinesis.isPublisherOverridePresent()),content_type:k,tpg_enabled:I,demand_type:x,slot_data:o,hem:l||void 0,identity:L||void 0},this._environmentalData(g)),this._collectEventMetadata(this._pipelines.app,g,"ad_impressions"));u&&(0,m.Z)(M,{auction_duration:u.duration,auction_id:u.units[w.code],timeout:parseFloat(this._getBidderTimeout(t,u))}),"cookieDeprecationLabel"in navigator&&navigator.cookieDeprecationLabel.getValue().then((function(e){void 0!==e&&(M.dep_label=e)}));if(function(e){var t,n=null===(t=window.ramp)||void 0===t?void 0:t.settings.config.hbParams;return n&&n[e]&&!0===n[e].publisher_demand}(U)&&(M.publisher_demand=!0),I&&(M.gam_account=A),"chrome"===T().name){if(void 0===window.PageOS.environment.tpcEnabled)return window.PageOS.environment.cookieTest(),void this.waitAndTryToSendAdImpressionEvent(M);if("unknown"===window.PageOS.environment.tpcEnabled)return void this.waitAndTryToSendAdImpressionEvent(M);M.chrome_cookies_enabled=window.PageOS.environment.tpcEnabled}"prebid_video"===e?(window.PageOS.BUS.after("boltGamRqSt",(function(e){_=e})),window.PageOS.BUS.on("boltGamRqEn",(function(e){b=e,void 0!==_&&void 0!==b&&(h=_&&b?b-_:null,M.gam_rq_tm=h,c.sendAdImpressionEvent(M))}))):this.sendAdImpressionEvent(M)}},{key:"waitAndTryToSendAdImpressionEvent",value:function(e){var t=this;window.PageOS.BUS.on("tpcCheck_ready",(function(){var n;e.chrome_cookies_enabled=null!==(n=window.PageOS.environment.tpcEnabled)&&void 0!==n?n:"unknown",t.sendAdImpressionEvent(e)}),!0)}},{key:"sendAdImpressionEvent",value:function(e){this._push(e),this._sendQueueToKinesis(),S.C.info("Ad impression record: ",e)}},{key:"videoPlays",value:function(e){this._handleGenericEvent(e)}},{key:"_annotatedBidResponse",value:function(e){var t=this._bidsById[e.requestId];return Oe(Oe({},e),{},{playwireId:t?t.playwireId:null,duration:t?t.duration:null})}},{key:"_averageCpm",value:function(e,t){var n=this._findBidsReceivedForUnit(e,t),i=n.reduce((function(e,t){return e+t.response.cpm}),0);return n.length>0?i/n.length:null}},{key:"_collectEventMetadata",value:function(e,t,n){return{sampling_rate:this._samplingRateForEventType(t,n),version:e.VERSION,timestamp:Pe.athenaFriendlyTimestamp(Date.now())}}},{key:"_environmentalData",value:function(e){var t;return e||(e=Object.keys(this._apps)[0]),e?null===(t=this._apps[e])||void 0===t?void 0:t.environment:null}},{key:"_findBidsReceivedForUnit",value:function(e,t){var n=[];return Object.values(e.bids.requested).forEach((function(e){e.forEach((function(e){var i=e.response;i&&i.adUnitCode===t.code&&n.push(e)}))})),n}},{key:"_getAppIdFromAuction",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=null;if(!e)return void 0!==n&&(i="prebid_video"===n?Object.keys(this._apps).find((function(e){return e.startsWith("bolt")})):window.ramp.settings.uuid),null!==(t=i)&&void 0!==t?t:null;if(!Array.isArray(e.labels)||0===e.labels.length)return i;for(var o=0;o<e.labels.length;o++)if(this._apps[e.labels[o]]){i=e.labels[o];break}return null===i&&(i=Object.keys(this._apps)[0]),i}},{key:"_getAppIdKey",value:function(e){return ke[e]}},{key:"_handleGenericEvent",value:function(e){this._push(e.data,this._pipelines[e.pipeline]),this._sendQueueToKinesis(this._pipelines[e.pipeline])}},{key:"_isSamplingEventType",value:function(e,t){if("pw_page_analytics_events"===t.source)return this._apps.page_analytics_benchmarks.sampling||!1;var n=t[this._getAppIdKey(e)];return!!n&&this._apps[n].sampling[e].sampling}},{key:"_push",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._pipelines.app;if(this._filterOut)return!1;for(var n=Array.isArray(e)?e:[e],i=0;i<n.length;i++){var o=n[i];o.ramp_session_id||(o.ramp_session_id=window.PageOS.session.getUUID),t.queue.push(this._removeNulls(o))}}},{key:"_removeNulls",value:function(e){for(var t in-1===e.publisher_id&&(e.publisher_id=null),-1===e.video_id&&(e.video_id=null),-1===e.cuepoint&&(e.cuepoint=null),e)void 0!==e[t]&&null!==e[t]||delete e[t];return e}},{key:"_samplingRateForEventType",value:function(e,t){var n,i;return e||(e=Object.keys(this._apps)[0]),e?null===(n=this._apps[e])||void 0===n||null===(i=n.sampling[t])||void 0===i?void 0:i.rate:null}},{key:"isCredentialsValid",value:function(){var e=(window.pwKinesisCreds||{}).Expiration;return!!e&&new Date(e)>Date.now()}},{key:"_sendQueueToKinesis",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._pipelines.app;if(this._filterOut)return!1;if(!this.isCredentialsValid())return!1;for(var t=[];e.queue.length;){var n=e.queue.shift();this._trimRecord(n);var i=this._stringifyData(n);i&&t.push(i)}if(0===t.length)return!1;Pe.send&&Pe.send({records:t,streamName:e.STREAM_NAME})}},{key:"_trimRecord",value:function(e){var t,n;e.page_url&&"string"==typeof e.page_url&&(e.page_url=e.page_url.substring(0,500)),null!==(t=e.slot_data)&&void 0!==t&&t.mediaUrl&&"string"==typeof e.slot_data.mediaUrl&&(e.slot_data.mediaUrl=e.slot_data.mediaUrl.substring(0,500)),null!==(n=e.targeting)&&void 0!==n&&n.addtl_consent&&"string"==typeof e.targeting.addtl_consent&&(e.targeting.addtl_consent=e.targeting.addtl_consent.substring(0,500))}},{key:"_stringifyData",value:function(e){if(!e)return!1;try{return e.slot&&delete e.slot,{Data:"".concat(JSON.stringify(e),"\n"),PartitionKey:"partition-".concat(Date.now()),Sampling:this._isSamplingEventType(e.event_type,e)}}catch(e){S.C.error("_stringifyData Error",{message:e.message})}}},{key:"_timesUnitRendered",value:function(e){return this._auctions.filter((function(t){return void 0!==t.units[e.code]})).length}},{key:"_winningBidForUnitCode",value:function(e){var t=window.__pwpbjs__.getHighestCpmBids(e);return Array.isArray(t)&&t.length>0?this._annotatedBidResponse(t[0]):null}},{key:"_getCreativeId",value:function(e,t){return e&&e.creativeId?e.creativeId:t&&t.creativeId?t.creativeId:t&&t.sourceAgnosticCreativeId?t.sourceAgnosticCreativeId:""}},{key:"_getLineItemId",value:function(e,t,n){var i;if(e&&e.lineItemId)return e.lineItemId;if(t&&t.lineItemId)return t.lineItemId;if(t&&t.sourceAgnosticLineItemId)return t.sourceAgnosticLineItemId;var o="prebid_video"===n||"corner_ad_video"===n||"precontent_ad_video"===n;return o&&(null==t||null===(i=t.wrapperAdIds)||void 0===i?void 0:i.length)>0?t.wrapperAdIds[t.wrapperAdIds.length-1]:o&&null!=t&&t.adId?t.adId:""}},{key:"_getTargetingValue",value:function(e,t){return e&&e[t]?Array.isArray(e[t])?e[t][0]:e[t]:0}},{key:"_getBidder",value:function(e,t,n,i){var o=4405001942;if(e&&e.bidder)return e.bidder;if(t&&t.hasBid)return"amazon";if(n){var a=Array.isArray(n.yieldGroupIds)&&n.yieldGroupIds.length>0,r=n.advertiserId;if(void 0!==n.wrapperAdSystems?(Array.isArray(n.wrapperAdSystems)&&n.wrapperAdSystems.includes("AdSense/AdX")||Array.isArray(n.adSystem)&&n.adSystem.includes("AdSense/AdX"))&&!0!==n.isEmpty:(51353235===r||145814719===r||22077080===r||null===r||0===r||i&&r===i||a&&null!==n.yieldGroupIds[0])&&!0!==n.isEmpty)return"google";if(n.advertiserId===o)return"house";if(!a&&n.advertiserId&&51353235!==n.advertiserId&&n.advertiserId!==o)return"direct"}return"unfilled"}},{key:"_getBidderTimeout",value:function(e,t){if(e){var n=t.bidderRequests.find((function(t){return t.bidderCode===e.bidder}));if(n)return n.timeout}return t.timeout}},{key:"_getCPM",value:function(e,t,n,i){if(e&&e.cpm)return e.cpm;if("Adx"===n||"openbidding"===n||"amazon"===n){var o=this._winningBidForUnitCode(t);if(o)return o.cpm+.01;if(i)return i+.01}return 0}},{key:"_getCreativeType",value:function(e,t,n){if(e&&"prebid_video"===e.adUnitCode&&e.mediaType)return e.mediaType;if("corner_ad_video"===t)return"outstream";if(e&&e.mediaType){if("banner"===e.mediaType)return"display";if("video"===e.mediaType)return"outstream"}if(n&&n.amazonBid&&n.amazonMediaType)return n.amazonMediaType;if(n&&n.size&&0===n.size[0]&&0===n.size[1])return"native";if(n&&n.size&&!window.ramp.settings.isCoppa){var i=this._getPlayerSize(t);return i&&i===n.size?"outstream":"display"}return"unknown"}},{key:"_getPlayerSize",value:function(e){var t=!1;return window.__pwpbjs__.adUnits.forEach((function(n){var i,o,a;e!==n.code||(t=null!==(i=null==n||null===(o=n.mediaTypes)||void 0===o||null===(a=o.video)||void 0===a?void 0:a.playerSize)&&void 0!==i&&i)})),t}},{key:"_getThirdPartyGAMConfig",value:function(e){var t,n,i,o,a,r,s,d,c,u=!1,l=!1,g=(0,p.$1)(),w=(0,p.jh)(),f="prebid_video"===e,m=!(null==w||null===(t=w.settings)||void 0===t||!t.tpg_enabled||null==w||!w.tpg_network),h=!(null==g||null===(n=g.settings)||void 0===n||!n.tpg_enabled||null==g||null===(i=g.settings)||void 0===i||!i.tpg_network);switch(!0){case m&&!h&&!f:u=null==w||null===(o=w.settings)||void 0===o?void 0:o.tpg_enabled,l=null==w?void 0:w.tpg_network;break;case!m&&h&&f:u=null==g||null===(a=g.settings)||void 0===a?void 0:a.tpg_enabled,l=null==g||null===(r=g.settings)||void 0===r?void 0:r.tpg_network;break;case m&&h:u=null==w||null===(s=w.settings)||void 0===s?void 0:s.tpg_enabled,l=null==w?void 0:w.tpg_network}return{tpgEnabled:u,tpgNetwork:l,tpgAdxId:!(null==w||null===(d=w.settings)||void 0===d||!d.tpg_enabled)&&(null==w||null===(c=w.settings)||void 0===c?void 0:c.tpgAdxId)}}},{key:"_getDemandType",value:function(e,t){return e?e.source:t&&t.hasBid?"amazon":"unknown"}},{key:"_getPrebidIdentity",value:function(){var e,t=null===(e=window.__pwpbjs__)||void 0===e?void 0:e.getUserIds();for(var n in t)if(null!==t[n]&&void 0!==t[n]&&0!==t[n])return!0;return!1}}]),e}();function Ce(){if(window.PageOS.kinesis=window.PageOS.kinesis||{},!0===window.PageOS.kinesis.loaded)return!1;window.PageOS.kinesis.loaded=!0;var e=!(!window.pwKinesisCreds||!window.pwKinesisCreds.AccessKeyId),t=window.PageOS.kinesis,i=[],o={},a=!1,r=function(n){var r=n.records,s=n.streamName,d=n.sampling;if(e&&r&&s){!0!==t.pageViewSent&&(t.pageViewSent=!0,ae());var c={records:r,streamName:s,sampling:"boolean"==typeof d?d:window.rampSampling};"function"==typeof o.addToQueue?(o.addToQueue(c),i.length&&!a&&function(){for(a=!0;i.length;){var e=i.shift();o.addToQueue({records:e.records,streamName:e.streamName,sampling:e.sampling})}}()):i.push(c)}};window.addEventListener("message",(function(e){try{var n=JSON.parse(e.data),i=n.type;if("kinesisEvent"===i)S.C.warn('Use of deprecated kinesis event listener "kinesisEvent"'),r({records:n.records,streamName:n.streamName,sampling:window.boltSampling});else if("pwKinesisEvent"===i){var o=n.event,a=n.data,s=n.pipeline;t.handleEvent(o,{data:a,pipeline:s})}}catch(e){}})),t.send=r,t.getRINucleus=ie,t.randomUuid=s,t.getPageViewId=re,t.sendPageViewEvent=ae,t.isPublisherOverridePresent=function(){var e,t=null===(e=window.ramp)||void 0===e?void 0:e.override;return!!t&&!!(Object.keys(t).length>0)},t.athenaFriendlyTimestamp=function(){var e,t,n,i,o,a,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),s=new Date(r),d=s.getUTCFullYear();return e=s.getUTCMonth()+1,t=s.getUTCDate(),n=s.getUTCHours(),i=s.getUTCMinutes(),o=s.getUTCSeconds(),a=s.getUTCMilliseconds(),e="0".concat(e).slice(-2),t="0".concat(t).slice(-2),n="0".concat(n).slice(-2),i="0".concat(i).slice(-2),o="0".concat(o).slice(-2),a="00".concat(a).slice(-3),"".concat(d,"-").concat(e,"-").concat(t," ").concat(n,":").concat(i,":").concat(o,".").concat(a)},t.getRINucleus=ie,new Ae(t),e&&n.e(742).then(n.bind(n,7626)).then((function(e){var n=e.default;o=new n(window.pwKinesisCreds),t.loaded=!0})).catch((function(e){t.loaded=!1,S.C.error("Error loading Kinesis handler",{message:e.message,stack:e.stack})}))}var Ue=function(e,t){return new Promise((function(n){window.gtag("get",e,t,(function(e){n(e)}))}))};!function(){if(window.PageOS=window.PageOS||{},window.gtag&&window.ramp&&window.ramp.activeConfig&&window.ramp.activeConfig.gaPropertyId){window.PageOS.googleAnalytics=window.PageOS.googleAnalytics||{};var e=window.ramp.activeConfig.gaPropertyId;Promise.all([Ue(e,"client_id"),Ue(e,"session_id")]).then((function(e){var t=(0,se.Z)(e,2),n={user_id:t[0]||"",session_id:t[1]||"",pageview_id:window._pwGA4PageviewId};(0,m.Z)(window.PageOS.googleAnalytics,n)})).catch((function(e){delete window.PageOS.googleAnalytics,S.ZP.warn("Google Analytics module failed.",e)})).finally((function(){window.PageOS.BUS.emit("googleAnalytics_ready",window.PageOS.googleAnalytics)}))}}();var De=function(e,t,n){var i=document.createElement("script");i.type="text/javascript",i.src=e,"boolean"==typeof t&&(i.async=t),i.onload=function(){n()},document.head.appendChild(i)},Te=function(){function e(){(0,i.Z)(this,e),window.PageOS.moat=window.PageOS.moat||{},this.MODULE=window.PageOS.moat,De("https://z.moatads.com/playwireprebidheader597261727146/moatheader.js",!0,(function(){S.u9.debug("Moat Yield Intelligence Header Tag Loaded.")})),this.MODULE.isInvalidTraffic=this.isInvalidTraffic.bind(this),this.MODULE.isReady=this.isMoatReady.bind(this),this.MODULE.setMoatTargetingForAllSlots=this.setMoatTargetingForAllSlots.bind(this),this.MODULE.setMoatTargetingForSlot=this.setMoatTargetingForSlot.bind(this),this.MODULE.getHistoricalViewability=this.getHistoricalViewability.bind(this)}return(0,o.Z)(e,[{key:"isInvalidTraffic",value:function(){return"1"===window.moatPrebidApi.getMoatTargetingForPage().m_data}},{key:"isMoatReady",value:function(){return window.moatPrebidApi&&"function"==typeof window.moatPrebidApi.pageDataAvailable&&window.moatPrebidApi.pageDataAvailable()}},{key:"getHistoricalViewability",value:function(e){return!(!window.moatPrebidApi||"function"!=typeof window.moatPrebidApi.slotDataAvailable||!window.moatPrebidApi.slotDataAvailable())&&window.moatPrebidApi.getMoatTargetingForSlot(e).m_mv}},{key:"setMoatTargetingForAllSlots",value:function(){return!(!window.moatPrebidApi||"function"!=typeof window.moatPrebidApi.slotDataAvailable||!window.moatPrebidApi.slotDataAvailable())&&window.moatPrebidApi.setMoatTargetingForAllSlots()}},{key:"setMoatTargetingForSlot",value:function(e){return!(!window.moatPrebidApi||"function"!=typeof window.moatPrebidApi.slotDataAvailable||!window.moatPrebidApi.slotDataAvailable())&&window.moatPrebidApi.setMoatTargetingForSlot(e)}}]),e}();function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var Le=function(e,t){e.id5&&t.push({name:"id5Id",params:{partner:483,pd:""},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}}),e.uid2&&t.push({name:"uid2"}),e.lotame&&t.push({name:"lotamePanoramaId",params:{clientId:"17262"}}),e.sharedId&&t.push({name:"sharedId",storage:{name:"_sharedid",type:"cookie",expires:30}}),e.fabrick&&t.push({name:"fabrickId",params:{apiKey:"2104320612"},storage:{name:"pbjs_fabrickId",type:"html5",expires:7}}),e.lexiconId&&t.push({name:"33acrossId",params:{pid:"0014000001YrMoYAAV"},storage:{name:"33acrossId",type:"html5",expires:90,refreshInSeconds:28800}}),e.liveRamp2?(t.push({name:"identityLink",params:{pid:"13250"},storage:{type:"cookie",name:"idl_env",expires:15,refreshInSeconds:1800}}),!1!==window.pwEdgeFlags.pairEnabled&&t.push({name:"pairId",params:{liveramp:{}}})):e.liveRamp&&t.push({name:"identityLink",params:{pid:"13250"},storage:{type:"cookie",name:"idl_env",expires:1,refreshInSeconds:1800}}),e.liveIntentId&&t.push({name:"liveIntentId",params:{distributorId:"did-0046",requestedAttributesOverrides:{uid2:!0,index:!0,bidswitch:!0,pubmatic:!0,magnite:!0,openx:!0}}});var n=function(e){var t=e&&e.ready&&e.getPWHeid();if(window.ramp&&"object"===(0,b.Z)(window.ramp.dolos)||t){if(window._pwUserInCA)return;var n=["SHA1","SHA256","MD5"];if(t)return[t];if(!window.ramp.dolos)return;var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},window.ramp.dolos);return Object.keys(i).forEach((function(e){n.includes(e)||delete i[e]})),Object.values(i)}},i=function(t){var i=n(t);(e.liveRamp||e.liveRamp2)&&o(i);var r=function(e){var t=e&&e.ready&&e.getPWHeid();if(window.ramp&&"object"===(0,b.Z)(window.ramp.dolos)||t){if(window._pwUserInCA)return;var n=["SHA256"];if(t)return[t];var i=[];return window.ramp.dolos?(Object.keys(window.ramp.dolos).forEach((function(e){n.includes(e)&&i.push(window.ramp.dolos[e])})),i):i}}(t);e.amazon&&r&&r.length>0&&a(r)},o=function(t){if(e.liveRamp2){var n=document.createElement("script");n.onload=function(){var e=7,n=setInterval((function(){if(0!==e)return--e,t&&window.ats&&window.ats.setAdditionalData?(window.ats.setAdditionalData({type:"emailHashes",id:t}),void clearInterval(n)):void 0;clearInterval(n)}),1e3)},n.src="https://launchpad-wrapper.privacymanager.io/ca935c17-544f-477e-88cb-4288124e4d61/launchpad-liveramp.js",document.body.appendChild(n)}else e.liveRamp&&function(e){var t=document.createElement("script");t.onload=function(){var t={placementID:"13250",storageType:"localStorage",detectionType:"scrapeAndUrl",detectDynamicNodes:!0,urlParameter:"env",cssSelectors:["input[type=text]","input[type=email]"],logging:"error"};Array.isArray(e)&&e.length>0&&(t.emailHashes=e),window.ats.start(t)},t.src="https://ats.rlcdn.com/ats.js",document.body.appendChild(t)}(t)},a=function(e){e&&window.PageOS.BUS.after("ApsTagLoaded",(function(){if(window.ramp.settings.apstagLoaded){var t=!1;Object.keys(e).forEach((function(n){var i=G("_pwUserOptedOut",!1);t={hashedRecords:[{type:"email",record:e[n]}],optOut:i}}));if(window.ramp.settings.apstagIframed){Be();var n=document.getElementById("pw_aps_iframe");if(n&&n.contentWindow){var i={type:"_pwApsTag",message:"rpa",data:{tokenConfig:t,setCookie:true}};i=JSON.stringify(i),n.contentWindow.postMessage(i,"*")}}else{window.apstag.rpa(t,(function(){S.G4.info("Received response from Amazon Token service.")}),true)}}}))};if(e.liveRamp||e.liveRamp2||e.amazon||e.fabrick||e.liveIntentId){e.fabrick&&window.PageOS.BUS.after("pwheid_ready",(function(e){Me(e,t)}));var r=e.liveIntentId;r&&window.PageOS.BUS.after("pwheid_ready",(function(e){Re(e,t)})),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){window.googletag.pubads().setTargeting("li-module-enabled",r?["on"]:["off"])}));var s=window.PageOS.dmp;s&&"boolean"==typeof s.ready?i(s):window.PageOS.BUS.on("dmp_ready",(function(){i(window.PageOS.dmp)}))}},Me=function(e,t){var n=window.__pwpbjs__.getConfig("userSync.userIds"),i=n&&n.find((function(e){return"fabrickId"===e.name}));i||(i=t&&t.find((function(e){return"fabrickId"===e.name}))),i&&(i.params.e=e)},Re=function(e,t){if(e){var n=window.__pwpbjs__.getConfig("userSync.userIds"),i=n&&n.find((function(e){return"liveIntentId"===e.name}));i||(i=t&&t.find((function(e){return"liveIntentId"===e.name}))),i&&(i.params.emailHash=e)}},Be=function(){window.addEventListener("message",(function(e){try{if(!e.data)return;var t="string"==typeof e.data?JSON.parse(e.data):e.data,n=t.type,i=t.message;if("_pwApsTag"!==n)return;try{"rpaResponse"===i&&S.G4.info("Received response from Amazon Token service from iframed APS tag.")}catch(e){}}catch(e){}}))},je=["*"],Ne=function(e,t){var n=100*+e.toFixed(2);return((n-n%t)/100).toFixed(2)},Fe=function(e){return Ne(e,5)},He=function(e){return Math.floor(e).toFixed(2)};const Ve=function(e,t){if("banner"===t){if(e<=3)return e.toFixed(2);if(e<=8)return Fe(e);if(e<=15)return Ne(e,25);if(e<=30)return He(e);if(e>30)return"30.00"}else if("video"===t){if(e<=1)return Fe(e);if(e<=4)return e.toFixed(2);if(e<=15)return function(e){return Ne(e,10)}(e);if(e<=30)return He(e);if(e>30)return"30.00"}return e.toFixed(2)};var ze={bReal:{bidCpmAdjustment:function(e){return.85*e}},districtm:{bidCpmAdjustment:function(e){return.9*e}},grid:{bidCpmAdjustment:function(e){return.95*e}},rubicon:{bidCpmAdjustment:function(e){return.975*e}},standard:{storageAllowed:!0,bidCpmAdjustment:function(e){return e>30?30:e},topicsHeader:!1},s2s_rubicon:{bidCpmAdjustment:function(e){return.98*e}},s2s_pubmatic:{bidCpmAdjustment:function(e){return.98*e}},s2s_ix:{bidCpmAdjustment:function(e){return.98*e}},s2s_rise:{bidCpmAdjustment:function(e){return.98*e}},s2s_gumgum:{bidCpmAdjustment:function(e){return.98*e}},s2s_triplelift:{bidCpmAdjustment:function(e){return.98*e}},s2s_appnexus:{bidCpmAdjustment:function(e){return.98*e}},s2s_undertone:{bidCpmAdjustment:function(e){return.98*e}},s2s_openx:{bidCpmAdjustment:function(e){return.98*e}},s2s_sonobi:{bidCpmAdjustment:function(e){return.98*e}},s2s_sharethrough:{bidCpmAdjustment:function(e){return.98*e}}},Ze={alwaysUseBid:!1,adserverTargeting:[{key:"hb_bidder",val:function(e){return"ix"===e.bidder?"indexExchange":e.bidder}},{key:"hb_adid",val:function(e){return e.adId}},{key:"hb_val",val:function(e){if("prebid_video"!==e.adUnitCode&&"amazon"===e.bidder)return e.cpm.toFixed(2);var t="prebid_video"===e.adUnitCode?"video":"banner";return Ve(e.cpm,t)}},{key:"hb_size",val:function(e){return e.amzBid?e.amzBid:e.size}},{key:"hb_container",val:function(e){return e.adUnitCode}},{key:"hb_vast",val:function(e){return"amazon"===e.bidder?"//aax.amazon-adsystem.com/e/dtb/vast?b=".concat(e.ad,"&rnd=").concat(Date.now(),"&ps=").concat(e.amzBid):e.vastUrl}},{key:"hb_uuid",val:function(e){return e.videoCacheKey}},{key:"hb_cache_id",val:function(e){return e.videoCacheKey}}]},qe={buckets:[{precision:2,max:3,increment:.01},{precision:2,max:8,increment:.05},{precision:2,max:15,increment:.25},{precision:2,max:30,increment:1}]},We={buckets:[{precision:2,max:1,increment:.05},{precision:2,max:4,increment:.01},{precision:2,max:15,increment:.1},{precision:2,max:30,increment:1}]},Ge=function(e,t){if(t.length<1)return!1;var n,i,o,a=Object.fromEntries(t.map((function(e,t){return[e,t+1]}))),r=(n=window.PageOS.floors,i=["web_interstitial","pw-oop-flex_leaderboard","pw-oop-site_skin","trendi_video","corner_ad_video","pw_sticky_sidebar","pw_sidebar","in_content","precontent_ad_video"],o={},Object.keys(n).filter((function(e){return!i.includes(e)})).forEach((function(e){if("na"===n[e])return!1;"undefined"!==n[e]&&(o[e]=n[e])})),o);return e.forEach((function(e){e.bids.forEach((function(t){void 0!==a[t.bidder]&&a[t.bidder]&&t.params&&Ke(e.code,t,r)}))})),e},Ke=function(e,t,n){var i=t.bidder,o=n[e];if(!o)return!1;switch(i){case"rubicon":case"triplelift":case"sonobi":t.params.floor=parseFloat(o);break;case"pubmatic":t.params.kadfloor=o;break;case"gumgum":t.params.bidfloor=parseFloat(o);break;case"appnexus":t.params.reserve=parseFloat(o);break;case"rise":t.params.floorPrice=Number(o);break;case"grid":t.params.bidFloor=parseFloat(o);break;case"openx":t.params.customFloor=Number(o);break;default:S.Mc.error("Bidder not recognized:",i)}return t},Je="s2s_",Ye={accountId:"12556",adapter:"prebidServer",enabled:!0,testing:!0,endpoint:"".concat("https://prebid-server.rubiconproject.com","/openrtb2/auction"),syncEndpoint:"".concat("https://prebid-server.rubiconproject.com","/cookie_sync"),timeout:2250},Qe=function e(t,n){for(var i=(0,m.Z)({},t),o=0,a=Object.keys(n);o<a.length;o++){var r=a[o],s=n[r];"object"!==(0,b.Z)(s)||Array.isArray(s)?i[r]=s:i[r]=e(i[r]||{},s)}return i},Xe=function(){var e,t=(null===(e=(0,p.jh)())||void 0===e?void 0:e.settings)||(0,p.QR)(),n={},i=null==t?void 0:t.iabIds,o=null==t?void 0:t.language;(Array.isArray(i)&&(n={ortb2:{site:{cat:i,sectioncat:i,pagecat:i,content:{cat:i}}}}),"string"==typeof o&&o)&&(n=Qe(n,{ortb2:{site:{content:{language:o}}}}));return n},$e=function(e){return{enabled:!0,useDefaultPreAuction:!1,customPbAdSlot:function(t,n){return function(e,t,n){var i=e.adUnits.filter((function(e){return e.code===t}));if(0!==i.length&&window.googletag&&window.googletag.apiReady){var o=window.googletag.pubads().getSlots().filter((function(e){return e.getAdUnitPath()===n}));return 0===o.length?i[0].code:1===o.length?n:o.length>1?"".concat(n,"#").concat(t):void 0}}(e,t,n)}}},et=function(){var e,t,n,i=(null===(e=window.ramp)||void 0===e||null===(t=e.settings)||void 0===t?void 0:t.headerBidding)||(null===(n=(0,p.QR)())||void 0===n?void 0:n.headerBidding);return i&&Object.keys(i).length>0},tt=function(e){var t=[];return e.MD5&&t.push({id:e.MD5,atype:3,ext:{stype:"hemmd5"}}),e.SHA256&&t.push({id:e.SHA256,atype:3,ext:{stype:"hemsha256"}}),{ext:{data:{eids:[{uids:t}]}}}};function nt(){window.PageOS.Prebid=window.PageOS.Prebid||{},window.PageOS.Prebid.bidMap=window.PageOS.Prebid.bidMap||{},window.PageOS.Prebid.setBidMap=function(e,t){if("string"==typeof e&&Array.isArray(t)){window.PageOS.Prebid.bidMap[e]=window.PageOS.Prebid.bidMap[e]||{};var n={};t.forEach((function(e){var t=e.bidderName;n[t]=e.bidDelivery})),(0,m.Z)(window.PageOS.Prebid.bidMap[e],n)}},window.PageOS.Prebid.afterPrebidLoaded=function(e,t,n,i,o,a){var r,s,d,c,u;window.PageOS.Prebid.boltAuctions=window.PageOS.Prebid.boltAuctions||[],et()&&(window.pbjs=window.pbjs||{},window.pbjs.cmd=window.pbjs.cmd||[],window.pbjs.que=window.pbjs.que||[]),window.__pwhbjs=window.__pwhbjs||{},window.__pwhbjs.cmd=window.__pwhbjs.cmd||[],window.__pwhbjs.que=window.__pwhbjs.que||[];var l=window.pbjs,g=window.__pwhbjs,w=window.__pwpbjs__;window.PageOS.Prebid.version=w.version;var f=function(e){var t,n=window.pwEdgeFlags&&window.pwEdgeFlags.userSyncBidders?window.pwEdgeFlags.userSyncBidders:e&&null!==(t=e.headerBidding)&&void 0!==t&&t.userSyncBidders&&Array.isArray(e.headerBidding.userSyncBidders)?e.headerBidding.userSyncBidders:je;return n.indexOf("*")>-1||n.indexOf("ANY")>-1?{bidders:"*",filter:"include"}:Array.isArray(n)&&0!==n.length?{bidders:n,filter:"include"}:{bidders:"*",filter:"exclude"}}(!(null===(r=window.ramp)||void 0===r||null===(s=r.settings)||void 0===s||!s.config)&&(null===(d=window.ramp)||void 0===d?void 0:d.settings)||(0,p.QR)()||{}),h=new URLSearchParams(window.location.search),v=h.has("pb_event_history")?parseInt(h.get("pb_event_history"),10):0;isNaN(v)&&(S.G4.warn("eventHistoryTTL value in the url invalid. Using value by default."),v=0);var y={eventHistoryTTL:v,bidderTimeout:e||3e3,bidderSequence:a?"random":"fixed",enableSendAllBids:!0,enableTIDs:!0,mediaTypePriceGranularity:{banner:qe,video:We},timeoutBuffer:400,disableAjaxTimeout:!0,useBidCache:!0,cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},debug:window.location.hash.toLowerCase().indexOf("prebiddebug")>=0,pubcid:{enable:t},userSync:{filterSettings:{all:f},enableOverride:!0,syncEnabled:!0,iframeEnabled:!0,syncsPerBidder:8,syncDelay:3e3,topics:{maxTopicCaller:3,bidders:[{bidder:"openx",iframeURL:"https://pa.openx.net/topics_frame.html"}]}},schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"playwire.com",sid:i,hp:1}]}},criteo:{fastBidVersion:"latest"}};w.installedModules.includes("fledgeForGpt")&&(y.fledgeForGpt={enabled:!0,defaultForSlots:1}),window.pwEdgeFlags&&!1===window.pwEdgeFlags.sendAllBids&&(y.enableSendAllBids=!1,ze.standard=Ze),void 0!==window.__gpp&&(y.consentManagement=y.consentManagement||{},y.consentManagement.gpp={cmpApi:"iab",timeout:1e3}),window.PageOS.gdpr.userInEU&&-1===window.location.href.indexOf("content.overwolf")&&(y.consentManagement=y.consentManagement||{},y.consentManagement.gdpr={cmpApi:"iab",allowAuctionWithoutConsent:!0,timeout:8e3},window.PageOS.gdpr.hasWindowCMP||(y.deviceAccess=!1)),window.PageOS.ccpaApplies&&(y.consentManagement=y.consentManagement||{},y.consentManagement.usp={timeout:100});var _=Xe().ortb2;_&&((0,m.Z)(y,{ortb2:_}),S.G4.info("populating ortb2",y));var O,P,k,E,I,A,C,U,D,T,x,L,M,R=(O=(0,p.jh)(),P=(0,p.QR)(),k=!1,E=!1,I=!1,A=!1,C=!1,U=!1,D=!1,T=!1,x=!1,L=!1,O?Array.isArray(O.settings.identity)&&O.settings.identity.length>0&&(k=O.settings.identity.includes("id5"),E=O.settings.identity.includes("liveRamp"),I=O.settings.identity.includes("liveRamp2"),A=O.settings.identity.includes("uid2"),C=O.settings.identity.includes("lotame"),U=O.settings.identity.includes("sharedId"),D=O.settings.identity.includes("fabrick"),T=O.settings.identity.includes("lexiconId"),x=O.settings.identity.includes("amazon"),L=O.settings.identity.includes("liveIntentId")):P&&Array.isArray(P.identity)&&P.identity.length>0&&(k=P.identity.includes("id5"),E=P.identity.includes("liveRamp"),I=P.identity.includes("liveRamp2"),A=P.identity.includes("uid2"),C=P.identity.includes("lotame"),U=P.identity.includes("sharedId"),D=P.identity.includes("fabrick"),T=P.identity.includes("lexiconId"),x=P.identity.includes("amazon"),L=P.identity.includes("liveIntentId")),{enabledIdentityProviders:{id5:k,liveRamp:E,liveRamp2:I,uid2:A,lotame:C,sharedId:U,fabrick:D,lexiconId:T,amazon:x,liveIntentId:L}}).enabledIdentityProviders;y.userSync.userIds=y.userSync.userIds||[],Le(R,y.userSync.userIds),Object.keys(y.userSync.userIds).length>0&&(y.userSync.auctionDelay=50),(R.liveRamp||R.liveRamp2)&&(y.userSync.syncDelay=5e3,w.que.push((function(){w.enableAnalytics([{provider:"atsAnalytics",options:{pid:"13250"}}])}))),S.G4.info("Headerbidding configurations",{id5:R.id5,liveRamp:R.liveRamp,liveRamp2:R.liveRamp2,uid2:R.uid2,lotame:R.lotame,sharedId:R.sharedId,fabrickId:R.fabrick,lexiconId:R.lexiconId,ITP:t}),S.G4.info("schain config",y.schain.config.nodes[0]),(o=(0,m.Z)({},Ye,o)).coopSync=!0,o.userSyncLimit=8,y.s2sConfig=o,w.aliasBidder("appnexus","bReal"),w.aliasBidder("ix","indexExchange"),y.firstPartyData=function(){var e,t,n=(null===(e=(0,p.jh)())||void 0===e?void 0:e.settings)||(0,p.QR)();return{skipEnrichments:(null==n||null===(t=n.firstPartyData)||void 0===t||t.enrichFirstPartyData,!1)}}(),null!==(c=window.PageOS.gdpr)&&void 0!==c&&c.isCOPPA&&(y.coppa=(M=et(),S.G4.info("Setting COPPA prebid support as ".concat(M)),M),y.deviceAccess=!1,y.userSync.enabled=!1,y.userSync.syncEnabled=!1),!0===(null===(u=window.ramp.privacy)||void 0===u?void 0:u.prebidNpa)&&(y.deviceAccess=!1),y.gptPreAuction=$e(w),w.setConfig(y),w.bidderSettings=ze;var B=function(){var e,t,n,i,o=window.PageOS.dmp&&window.PageOS.dmp.ready&&window.PageOS.dmp.getPWHeid(),a={};if(window.ramp&&"object"===(0,b.Z)(window.ramp.dolos)||o){var r=["SHA256","MD5"];if(o){var s=window.PageOS.dmp&&window.PageOS.dmp.ready&&window.PageOS.dmp.getPWMD5Heid();a={SHA256:o,MD5:s}}else window.ramp.dolos&&Object.keys(window.ramp.dolos).forEach((function(e){r.includes(e)&&!a[e]&&(a[e]=window.ramp.dolos[e])}))}Object.keys(a).length>0&&(n={ortb2:{user:tt(a)}});var d=function(e,t,n,i,o,a){return(e=e||{ortb2:{user:{ext:{data:{eids:[]}}}}}).ortb2.user.ext.data.eids.push({source:t,uids:[{id:n,atype:i,ext:{stype:o,persistence:a}}]}),e},c=null===(e=window.PageOS)||void 0===e||null===(t=e.session)||void 0===t?void 0:t.getCookieSyncUID;if(c&&(n=d(n,"playwire.com",c,1,"ppuid","js")),window.PageOS.dmp&&window.PageOS.dmp.ready){var u=(window.PageOS.dmp.getUserIdentifiers()||{}).criteo_id;u&&(n=d(n,"criteo.com",u,1))}return n&&(i={bidders:["criteo"],config:n}),i}();B&&w.setBidderConfig(B,!0),window.PageOS.Prebid.triggerUserSyncs=function(){window.PageOS.Prebid.userSyncTriggered||(window.PageOS.Prebid.userSyncTriggered=!0,w.triggerUserSyncs(),!1!==window.pwEdgeFlags.pairEnabled&&window.__pwpbjs__.refreshUserIds())},function(e){var t=window.PageOS.kinesis.handleEvent;["bidWon","bidderDone","auctionEnd","auctionInit","addAdUnits","bidResponse","bidRequested","bidTimeout"].forEach((function(n){e.onEvent(n,(function(e){t(n,e)}))}))}(w),w.onEvent("setTargeting",(function(e){var t=window.PageOS.Prebid.bidMap[window.ramp.pbKey];t&&Object.keys(e).forEach((function(n){var i=e[n].hb_bidder;if(i){var o="client_side"===t[i]?"client":"server",a=window.ramp.settings.slots[n];a&&window.googletag.cmd.push((function(){a.slot&&(a.slot.setTargeting("bid_type",o),"server"===o&&N(a.slot,e[n]))}))}}))})),w.onEvent("addAdUnits",(function(){et()&&(l.adUnits=w.adUnits.filter((function(e){return"prebid_video"!==e.code}))),g.adUnits=w.adUnits.filter((function(e){return"prebid_video"===e.code}))}));var j=function(e){var t=Array.isArray(e)?e:[e];w.addAdUnits(t)},N=function(e,t){Object.keys(t).forEach((function(n){var i=n.slice(0,20),o=t[n];e.clearTargeting(n),e.setTargeting(i,o)}))},F=function(t,n){var i=window.PageOS.Prebid.bidMap,o=w.getConfig("s2sConfig"),a=function(e){var t,n,i,o;if(e&&e.includes("prebid_video"))return null===(o=(0,p.QR)())||void 0===o?void 0:o.headerBidding;var a=null===(t=window.ramp)||void 0===t||null===(n=t.settings)||void 0===n||null===(i=n.config)||void 0===i?void 0:i.headerBidding;if(a){a=e.includes("corner_ad_video")||e.includes("precontent_ad_video")?a.video||a:a.display||a;var r=window.ramp.settings.device;return"tablet"===r&&void 0===a.tablet?a.mobile:a[r]}}(n.adUnitCodes);null!=a&&a.s2sTimeout?o.timeout=a.s2sTimeout:n.timeout&&(o.timeout=e-200);var r=[],s={aliases:{}};i&&i[t]&&Object.keys(i[t]).forEach((function(e){var n=i[t][e];"server_side"===n?(r.push(e),function(e,t){"districtm"===e?t.districtm="appnexus":0===e.indexOf(Je)&&(t[e]="".concat(e.replace(Je,"")))}(e,s.aliases)):"openrtb"===n&&(r.push(e),s.aliases[e]="".concat(e,"_ortb"))})),o.bidders=r,o.extPrebid=s,w.setConfig({s2sConfig:o});var d=n.bidsBackHandler;n.bidsBackHandler=function(e){var t=n;d(e),t.adUnitCodes.forEach((function(e){var t,n,i,o,a,r,s="",d={};"prebid_video"===e?(s="prebidVideoSlotAuctionEnd",d={unit_type:e="trendi_video",slot_id:e,refresh_count:null},window.PageOS.pagePulse.markPerformanceEvent(s,d)):(s="prebidSlotAuctionEnd",d={unit_type:(null===(t=window.ramp)||void 0===t||null===(n=t.settings)||void 0===n||null===(i=n.slots[e])||void 0===i?void 0:i.type)||e,slot_id:e,refresh_count:(null===(o=window.ramp)||void 0===o||null===(a=o.settings)||void 0===a||null===(r=a.slots[e])||void 0===r?void 0:r.pbjsRefreshes)||0},window.PageOS.pagePulse.markPerformanceEvent(s,d))}))},w.requestBids(n)};et()&&(l.que.push=function(e){w.que.push(e)},l.adUnits=l.adUnits||[],l.addAdUnits=function(e){j(e)},l.removeAdUnit=function(e){w.removeAdUnit(e),l.adUnits=w.adUnits.filter((function(e){return"prebid_video"!==e.code}))},l.requestBids=function(e){var t,n,i,o,a,r=window.__pwpbjs__.adUnits,s=null===(t=window.ramp)||void 0===t||null===(n=t.settings)||void 0===n||null===(i=n.headerBidding)||void 0===i?void 0:i.setPriceFloor;Array.isArray(s)&&(o=r,void 0!==(a=s)&&Ge(o,a));var d=e.adUnitCodes;d&&d.forEach((function(e){var t,n,i,o,a,r,s={unit_type:(null===(t=window.ramp)||void 0===t||null===(n=t.settings)||void 0===n||null===(i=n.slots[e])||void 0===i?void 0:i.type)||e,slot_id:e,refresh_count:(null===(o=window.ramp)||void 0===o||null===(a=o.settings)||void 0===a||null===(r=a.slots[e])||void 0===r?void 0:r.pbjsRefreshes)||0};window.PageOS.pagePulse.markPerformanceEvent("prebidSlotAuctionStart",s)})),F("pbjs",e)},l.setTargetingForGPTAsync=function(e,t){"function"==typeof t?w.setTargetingForGPTAsync(e,t):w.setTargetingForGPTAsync(e)},l.renderAd=function(e,t){w.renderAd(e,t)},l.triggerUserSyncs=function(){window.PageOS.Prebid.triggerUserSyncs()}),g.que.push=function(e){w.que.push(e)},g.adUnits=g.adUnits||[],g.getConfig=function(){return w.getConfig()},g.requestBids=function(e){void 0===e.adUnitCodes&&(e.adUnitCodes=["prebid_video"]);var t=e.adUnitCodes;t&&t.forEach((function(e){if("prebid_video"===e){var t,n,i,o,a="trendi_video",r={unit_type:null===(t=window)||void 0===t||null===(n=t.ramp)||void 0===n||null===(i=n.settings)||void 0===i||null===(o=i.slots[a])||void 0===o?void 0:o.videoType,slot_id:a,refresh_count:null};window.PageOS.pagePulse.markPerformanceEvent("prebidVideoSlotAuctionStart",r)}})),F("__pwhbjs",e)},g.addAdUnits=function(e){j(e)},g.removeAdUnit=function(e){w.removeAdUnit(e),g.adUnits=w.adUnits.filter((function(e){return"prebid_video"===e.code}))},g.triggerUserSyncs=function(){window.PageOS.Prebid.triggerUserSyncs()},"function"==typeof n&&n(),window.PageOS.BUS.emit("prebid_loaded")},window.PageOS.Prebid.init=function(e){var t=e.timeout,n=e.ITP,i=e.callback,o=e.sid,a=e.s2sConfig,r=e.randomize,s=void 0!==r&&r;if(a=a||{bidders:[]},o&&"string"!=typeof o&&(o=o.toString()),window.PageOS.Prebid.libLoaded)"function"==typeof i&&i();else{window.PageOS.Prebid.libLoaded=!0;var d=navigator.userAgent.toLowerCase().indexOf("blitz")>=0||location.origin.indexOf("blitz.gg")>=0?"https://cdn.intergi.com/prebid/prebid_blitz.js":"https://cdn.intergi.com/prebid/prebid.js";d=window.location.host.indexOf("ffxivteamcraft")>-1?"https://cdn.intergi.com/prebid/prebid_teamcraft.js":"https://cdn.intergi.com/prebid/prebid.js",void 0!==window._pwUserContentEncoding&&("gzip"===window._pwUserContentEncoding?d="".concat(d,".gz"):"br"===window._pwUserContentEncoding&&(d="".concat(d,".br"))),window.__pwpbjs__&&window.__pwpbjs__.libLoaded?(window.__pwpbjs__=window.__pwpbjs__||{},window.__pwpbjs__.que=window.__pwpbjs__.que||[],window.__pwpbjs__.que.push((function(){window.PageOS.Prebid.afterPrebidLoaded(t,n,i,o,a,s)}))):De(d,!0,(function(){window.PageOS.Prebid.afterPrebidLoaded(t,n,i,o,a,s)}))}},window.PageOS.Prebid.checkBiddersOverride=function(e,t){var n,i,o=!(null===(n=window.ramp)||void 0===n||null===(i=n.override)||void 0===i||!i.headerBidding)&&window.ramp.override.headerBidding;if(o){var a=e.order,r=!(!o||void 0===o[t])&&o[t].client;a&&Array.isArray(r)&&(e.order=r.filter((function(e){return a.includes(e)}))),a=e.s2sBidders,r=!(!o||void 0===o[t])&&o[t].s2sBidders,a&&Array.isArray(r)&&(e.s2sBidders=r.filter((function(e){return a.includes(e)})))}}}function it(e){return new Promise((function(t,n){var i,o=e.method,a=e.data,r=e.timestamp,s=e.contentTypeHeader,d=e.url,c=new XMLHttpRequest;c.onreadystatechange=function(){if(2===c.readyState)i=c.getResponseHeader("HW-Country-Code");else if(4===c.readyState)if(200===c.status){var e=c.responseText;t({data:e,timestamp:r,countryCode:i})}else n(r)},c.open(o,d,!0),s&&c.setRequestHeader("Content-Type",s),c.send(a)}))}var ot=n(4478),at=function(e,t){if(e.features&&e.features.video&&e.features.video[t]){var n=e.features.video[t],i={},o=n.rules.length,a={},r=window.ramp.settings,s=function(e,t){for(var n in e)(void 0===a[n]||a[n]<t)&&(i[n]=e[n],a[n]=t)};if(o>0){var d="tablet"===r.device?"desktop":r.device,c="ros";!0===r.atHome&&(c="hp"),null!==r.cp&&(c="".concat(r.cp));for(var u=0;u<o;u++){var l=n.rules[u].dimensions,p=l.device.toLowerCase(),g=l.section.toLowerCase(),w=n.rules[u].rule;"any"===p&&"ros"===g&&s(w,0),p===d&&"ros"===g&&s(w,1),"any"===p&&g===c&&s(w,2),p===d&&g===c&&s(w,3),"any"===p&&g==="cp[".concat(c,"]")&&s(w,4),p===d&&g==="cp[".concat(c,"]")&&s(w,5)}}return 0===Object.keys(i).length?(S.YT.info("Feature Check",{enabled:0}),!1):(S.YT.info("Feature Check",{enabled:1,rules:i}),i)}return S.YT.info("Feature Check",{enabled:0}),!1},rt=n(3433),st="ANY",dt="Matched",ct="Matched Singular",ut="Matched Multiple",lt=function(e,t,n,i){var o=0;switch(e){case st:o=0;break;case ut:o=1;break;case ct:o=2}switch(t){case st:o+=2*o;break;case ut:o+=2*o+1;break;case ct:o+=2*o+2}switch(n){case st:o+=o;break;case dt:o+=o+1}switch(i){case st:o+=o;break;case dt:o+=o+1}return o};const pt=function(e,t,n){var i={},o={},a=function(e,t){for(var n in e)(void 0===o[n]||o[n]<t)&&(i[n]=e[n],o[n]=t)};if(t.unit&&!window.PageOS.adUtils.adRequestCheck(t))return!1;if("site_skin"===t.unit&&0===t.rules.length&&t.rules.push({dimensions:{device:["ANY"],position:"ANY",orientation:"ANY",geo:null},rule:{on:!0}}),t.rules.length>0){var r=e.device,s=e.deviceOrientation,d=e.config.countryGroups;if(void 0!==d)for(var c in d)d[c]=d[c].map((function(e){return e.toLowerCase()}));for(var u=0;u<t.rules.length;u++){var l=st,p=st,g=t.rules[u].dimensions.geo;if(g){if(g=g.map((function(e){return e.toLowerCase()})),void 0!==d)for(var w in d)g.includes(w)&&(g=[].concat((0,rt.Z)(g),(0,rt.Z)(d[w])));var f=e.country&&e.country.toLowerCase(),m=!1;if(f&&g.includes(f)&&(m=!0),!m)continue;l=1===g.length?ct:ut}var h=t.rules[u].dimensions.device;h=Array.isArray(h)?h.map((function(e){return e.toLowerCase()})):[h.toLowerCase()];var v=!1;h.includes("desktop")&&!h.includes("tablet")&&"tablet"===r&&(v=!0);var y=h.includes(r);if(h.includes("any")||y||v){y&&(p=1===h.length?ct:ut);var _=t.rules[u].dimensions.position.toLowerCase(),b=t.rules[u].dimensions.orientation&&t.rules[u].dimensions.orientation.toLowerCase(),S=t.rules[u].rule,O=_===n.toLowerCase();if("any"===_||O){var P=b===s;if(!b||"any"===b||P)a(S,lt(l,p,O?dt:st,P?dt:st))}}}}return 0!==Object.keys(i).length&&(void 0===i.on||!1!==i.on)&&i};var gt=n(6296),wt=function(e){var t=window.ramp.settings,n=function(e){if(t.units.sec.length>0)for(var n=0;n<t.units.sec.length;n++)if(t.units.sec[n].unit.toLowerCase()===e.toLowerCase())return t.units.sec[n];for(var i=0;i<t.units.ros.length;i++)if(t.units.ros[i].unit.toLowerCase()===e.toLowerCase())return t.units.ros[i];return!1}(e);if(!n)return!1;if(!1===n.on)return!1;var i=pt(t,n,"oop");return t.trendiVideoSection=n.section,i},ft=function(){var e=document.querySelectorAll("div[data-pw-video]");if(e&&e[0]){var t=e[0],n=t.dataset.config;if(window.ramp.handleBoltEvents=window.ramp.handleBoltEvents||{},window.ramp.handleBoltEvents.boltVideoPlayer=function(){return!0},!n)return;var i=(0,gt.Rx)({boltConfig:n,id:"bolt_video_player",onReady:"window.ramp.handleBoltEvents.boltVideoPlayer"});Object.keys(t.dataset).forEach((function(e){i.dataset[e]=t.dataset[e]})),t.appendChild(i)}},mt=function(){var e=wt("trendi_video"),t=window.ramp.settings;if(e)return t.slots.trendi_video=e,t.slots.trendi_video.videoType="Bolt Player",S.YT.info("Loading Trendi video module",e),Promise.all([n.e(392),n.e(374)]).then(n.bind(n,43)).then((function(e){new(0,e.default)(t.slots.trendi_video).init()})).catch((function(e){delete t.slots.trendi_video,S.YT.error("Trendi video module",{message:e.message,stack:e.stack})})),void(t.stickyVideoOn=!0)},ht=function(){var e=wt("trendi_slideshow"),t=window.ramp.settings;if(e)return t.slots.trendi_slideshow=e,t.slots.trendi_slideshow.videoType="Bolt Player",S.YT.info("Loading Trendi slideshow module",e),Promise.all([n.e(392),n.e(272)]).then(n.bind(n,7847)).then((function(e){new(0,e.default)(t.slots.trendi_slideshow).init()})).catch((function(e){delete t.slots.trendi_slideshow,S.YT.error("Trendi slideshow module",{message:e.message,stack:e.stack})})),void(t.stickyVideoOn=!0)};function vt(){var e=window.ramp.settings;if(window.PageOS.tyche.createVideoUnit=function(e){window.ramp.settings.slots[e]||("trendi_video"===e&&mt(),"trendi_slideshow"===e&&ht())},!window.ramp.passiveMode){if(mt(),window.ramp.settings.slots.trendi_video)return;if(ht(),window.ramp.settings.slots.trendi_slideshow)return}var t=at(e.config,"sticky");if(t&&!0===t.on)Promise.all([n.e(19),n.e(261)]).then(n.bind(n,486)).then((function(n){var i=n.default;e.stickyVideoOn=!0,new i(t)}));else{var i=at(e.config,"sidebarSticky");i&&!0===i.on&&Promise.all([n.e(19),n.e(261)]).then(n.bind(n,7391)).then((function(t){var n=t.default;e.stickyVideoOn=!0,new n(i)}))}}var yt=function(e,t){window.rampMinimal?S.ZP.warn("Minimal RAMP.js skipped ".concat(t)):e&&"function"==typeof e&&e()},_t=function(){function e(){(0,i.Z)(this,e),window.ramp=window.ramp||{},window.PageOS.tyche=window.PageOS.tyche||{},this.MODULE=window.PageOS.tyche,this.MODULE.findUnitsBySection=this.findUnitsBySection,this.MODULE.checkRules=pt,this.MODULE.fetchRSS=ot.z3,this.MODULE.getRSSdata=ot.PY}return(0,o.Z)(e,[{key:"init",value:function(){var e=this;!0!==this.MODULE.loaded&&(this.device=(0,x._v)(),this.isMobile=this.checkIsMobile(),window.ramp.settings={atHome:"/"===window.location.pathname,config:null,cp:null,device:this.device,deviceOrientation:(0,x.T8)(),deviceSelector:this.isMobile?"mobi":"desk",isMobile:this.isMobile,tags:null,slots:{},units:{ros:[],sec:[]},scrollTriggered:window.PageOS.scrollTriggered||!1,clickTriggered:window.PageOS.clickTriggered||!1},window.ramp.activeConfig&&(window.ramp.settings.config=window.ramp.activeConfig),this.settings=window.ramp.settings,this.getTycheConfig().then((function(){return e.findUnitsBySection()})).then((function(t){var n=window.PageOS.userData;n&&"boolean"==typeof n.ready&&(yt(vt,"Video module"),t&&yt(e.getTycheJs.bind(e,window.rampPath),"Tyche module")),window.PageOS.BUS.on("userData_ready",(function(){yt(vt,"Video module"),t&&yt(e.getTycheJs.bind(e,window.rampPath),"Tyche module")}))})).catch((function(e){"AdBlockerDetected"===e?S.Mc.error("Ad Blocker Detected, Tyche loading failed!"):S.Mc.error("window.rampPath not found.")})))}},{key:"handleConfigResponse",value:function(e,t,n){var i=Date.now()-t,o=window.PageOS.adsPerformance?e:JSON.parse(e),a=this.settings;if(a.country=n,window.ramp.ttfConfig=i,o.settings.customCss){var r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",s.id="pwCustomCSS",s.styleSheet?s.styleSheet.cssText=o.settings.customCss:s.appendChild(document.createTextNode(o.settings.customCss)),r.appendChild(s)}else if(o.settings.customCssSrc){var d=document.head||document.getElementsByTagName("head")[0],c=document.createElement("link");c.rel="stylesheet",c.href=o.settings.customCssSrc,d.appendChild(c)}a.config=o,a.cp=window.ramp.forcePath||(0,p.kv)(this.settings),S.Mc.info("Custom path check.",{custom:a.cp?1:0,path:a.cp||"/"});var u={countryCode:n,isCOPPA:this.getCOPPA(o),ctrTracking:o.settings.ctrTracking},l=(0,p.DP)("pwcc");l&&(a.country=l,a.config.settings.cmp=!0),window.PageOS.BUS.emit("gotConfig",u)}},{key:"getTycheConfig",value:function(){var e=this;return new Promise((function(t,n){if(window.PageOS.adsPerformance)return e.handleConfigResponse(window.ramp.activeConfig,Date.now(),window._pwUserCC),t();var i=!1;!(i=i||(0,p.DP)("tyche_config"))&&window.ramp&&window.ramp.config&&(i=window.ramp.config);var o=window.location.hostname;if(o.indexOf("coolmathgames.com")>-1?i="//cdn.intergi.com/cmg/banner.json":o.indexOf("coolmath.com")>-1&&(i="//cdn.intergi.com/cmg/coolmath/banner.json"),!i){var a="No Tyche config url found";return S.Mc.error(a),n(a)}it({url:i,method:"get",timestamp:Date.now()}).then((function(n){var i=n.data,o=n.timestamp,a=n.countryCode;e.handleConfigResponse(i,o,a),t()})).catch((function(e){var t="Error retrieving Tyche config";S.Mc.error(t,{message:e.message,stack:e.stack}),n("".concat(t,": ").concat(e))}))}))}},{key:"findUnitsBySection",value:function(e){var t=window.ramp.settings;return new Promise((function(n,i){try{var o=null;null!==t.cp&&(o="CP[".concat(t.cp.toLowerCase(),"]")),e&&(o="CP[".concat(e.toLowerCase(),"]")),t.atHome&&null===t.cp&&(o="HP"),t.units.ros=[],t.units.sec=[];for(var a=!1,r=0;r<t.config.units.length;r++){var s=t.config.units[r];"trendi_video"!==s.unit&&"trendi_slideshow"!==s.unit&&(a=!0),null!==o&&s.section.toLowerCase()===o.toLowerCase()?t.units.sec.push(s):"ROS"===s.section&&t.units.ros.push(s)}S.Mc.info("Units by section",t.units,null),n(a)}catch(e){var d="Error in find Units";S.Mc.error(d,{message:e.message,stack:e.stack}),i("".concat(d,": ").concat(e))}}))}},{key:"getTycheJs",value:function(e){var t=this;return new Promise((function(n,i){var o="dev"===window.pwEdgeFlags.cdn?"devcdn.intergi.com":"cdn.intergi.com";window.pwEdgeFlags&&window.pwEdgeFlags.tycheOverride?e="//".concat(o,"/hera/releases/").concat(window.pwEdgeFlags.tycheOverride,"/tyche.js"):window.ramp.activeConfig&&window.ramp.activeConfig.ad_code&&window.ramp.activeConfig.ad_code.tyche?e="//".concat(o,"/hera/releases/")+"".concat(window.ramp.activeConfig.ad_code.tyche,"/tyche.js"):window.pwEdgeFlags.tycheVersion&&(e="//".concat(o,"/hera/releases/").concat(window.pwEdgeFlags.tycheVersion,"/tyche.js")),e||(e="//cdn.intergi.com/hera/releases/4.5.6/tyche.js");var a=document.createElement("script");a.src=e,a.type="text/javascript",document.head.appendChild(a),a.onerror=function(e){t.MODULE.loaded=!1;var n="Error: Tyche Blocked! ".concat(e);S.Mc.error(n),i(n)},a.onload=function(){t.MODULE.loaded=!0,S.Mc.info("Tyche Loaded!"),n()}}))}},{key:"checkIsMobile",value:function(){var e,t="Tyche mobile check.";return void 0!==window.ramp.isMobile?(e="false"!==window.ramp.isMobile&&!1!==window.ramp.isMobile,S.Mc.info(t,{useDevice:0,isMobile:window.ramp.isMobile?1:0})):(e="mobile"===this.device,S.Mc.info(t,{useDevice:1,isMobile:e?1:0})),window.ramp.isMobile=e,e}},{key:"getCOPPA",value:function(e){try{return"DFP_COPPA"===e.server}catch(e){return}}}]),e}(),bt=function(e){return"".concat("https://fingerprinter-production.herokuapp.com","/pwheids/").concat(e,"/audience_segments")},St=function(){function e(t){(0,i.Z)(this,e),this.isUsingCloudService=void 0===window._pwFpSampling||Math.random()<window._pwFpSampling,this.isUserInEU=window.PageOS.gdpr.userInEU,this.disableDmp=t,this.isHemFromUrl=!1;var n=function(){if(0!==window.location.search.length){var e,t={};if(e=window.location.search,(t={containsSHA256:/pw_id_sha256/.test(e),containsMD5:/pw_id_md5/.test(e),containsSHA1:/pw_id_sha1/.test(e)}).containsSHA256||t.containsMD5||t.containsSHA1){var n=new URLSearchParams(window.location.search),i={};return n.forEach((function(e,t){i[t]=e})),i}return!1}}();n?(this.eid={md5:n.pw_id_md5?n.pw_id_md5:void 0,sha1:n.pw_id_sha1?n.pw_id_sha1:void 0,sha256:n.pw_id_sha256?n.pw_id_sha256:void 0},this.isHemFromUrl=!0,n.pw_id_sha256&&(this.pwheid=n.pw_id_sha256,K("_pw_pwheid",this.pwheid)),this.pwheid=this.pwheid||localStorage.getItem("_pw_pwheid"),window.PageOS.BUS.emit("pwheid_ready",this.pwheid)):this.initializePWHEid()}var t;return(0,o.Z)(e,[{key:"initializePWHEid",value:(t=(0,de.Z)(ue().mark((function e(){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.eid=this.getEid(),!this.eid){e.next=10;break}return e.next=4,(0,p.Lq)(this.eid,"SHA-256");case 4:return this.pwheid=e.sent,e.next=7,(0,p.FB)(this.eid);case 7:this.pwheidMD5=e.sent,K("_pw_pwheid",this.pwheid),K("_pw_pwheid_md5",this.pwheidMD5);case 10:this.pwheid=this.pwheid||localStorage.getItem("_pw_pwheid"),this.pwheidMD5=this.pwheidMD5||localStorage.getItem("_pw_pwheid_md5"),window.PageOS.BUS.emit("pwheid_ready",this.pwheid);case 13:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"init",value:function(){this.pwheidDataPromise=this.getPWheidDataPromise(),this.checkPurgedSegmentsPWheid=G("_pw_pwheid_segment_ids_purged","false"),!0!==this.checkPurgedSegmentsPWheid&&(J("_pw_pwheid_segment_ids"),K("_pw_pwheid_segment_ids_purged",!0)),this.matchedSegmentsPWheid=G("_pw_pwheid_segment_ids",[])}},{key:"getEid",value:function(){if(window.ramp&&void 0!==window.ramp.up){var e=window.ramp.up.format,t=window.ramp.up.eid;return t="EUP1"===e?Y(t):t}}},{key:"getPWHeid",value:function(){return this.pwheid}},{key:"getPWMD5Heid",value:function(){return this.pwheidMD5}},{key:"getDataPWheid",value:function(){var e=this,t=bt(this.pwheid);return new Promise((function(n){if(e.isUserInEU||e.disableDmp||!e.isUsingCloudService)n();else{var i=new XMLHttpRequest;i.open("GET",t,!0),i.onload=function(){var t=JSON.parse(i.responseText).audience_segments;Array.isArray(t)&&t.length>0&&(e.matchedSegmentsPWheid=(0,rt.Z)(new Set(e.matchedSegmentsPWheid.concat(t))),K("_pw_pwheid_segment_ids",e.matchedSegmentsPWheid),n(t)),n(t)},i.onerror=function(){S.ai.warn("Error fetching data for playwire hashed email."),n()},i.send()}}))}},{key:"getAudienceData",value:function(e){Array.isArray(e)&&e.length!==this.matchedSegmentsPWheid.length&&this.updateDataPWheid({audience_segments:this.matchedSegmentsPWheid})}},{key:"getAudienceSegmentsConfig",value:function(e){Array.isArray(e)&&e.length>0&&(this.matchedSegmentsPWheid=(0,rt.Z)(new Set(this.matchedSegmentsPWheid.concat(e)))),K("_pw_pwheid_segment_ids",this.matchedSegmentsPWheid)}},{key:"updateDataPWheid",value:function(e){if(this.pwheid&&!this.isUserInEU&&!this.disableDmp&&this.isUsingCloudService){S.ai.info("Updating audience_segments in the PWheid service");var t=bt(this.pwheid),n=new XMLHttpRequest;n.open("PATCH",t),n.setRequestHeader("Content-type","application/json"),n.onerror=function(){S.ai.warn("Error sending audience segments to endpoint.")};var i=JSON.stringify(e);n.send(i)}}},{key:"getPWheidDataPromise",value:function(){return this.pwheid?this.getDataPWheid():Promise.resolve()}},{key:"getAudienceSegmentsPWheid",value:function(){return this.matchedSegmentsPWheid}},{key:"addImpressionEventId",value:function(e,t){var n=this.matchedSegmentsPWheid.length;if(Array.isArray(e)&&e.length>0&&(this.matchedSegmentsPWheid=(0,rt.Z)(new Set(this.matchedSegmentsPWheid.concat(e)))),n<this.matchedSegmentsPWheid.length){K("_pw_pwheid_segment_ids",this.matchedSegmentsPWheid);var i=this.matchedSegmentsPWheid.filter((function(e){return!t.includes(e)}));this.pwheid&&n!==i.length&&this.updateDataPWheid({audience_segments:i})}}}]),e}();const Ot=St;const Pt=function(){function e(){(0,i.Z)(this,e)}return(0,o.Z)(e,[{key:"init",value:function(){this.matchedCookieSyncSegments=G("pw_uuid_segment_ids",[]),this.getCookieSyncData()}},{key:"getCookieSyncData",value:function(){var e=this;!0===window.PageOS.userData.ready?window.PageOS.userData.get("pw_uuid_segment_ids",(function(t){t&&"object"===(0,b.Z)(t)&&t.data&&(t=t.data),e._recievedCookieSyncData=!0,Array.isArray(t)&&(e.matchedCookieSyncSegments=(0,rt.Z)(new Set(e.matchedCookieSyncSegments.concat(t)))),e.storeCookieSyncSegments(e.matchedCookieSyncSegments)})):this._recievedCookieSyncData=!0}},{key:"storeCookieSyncSegments",value:function(e){K("pw_uuid_segment_ids",this.matchedCookieSyncSegments),this._recievedCookieSyncData&&window.PageOS.userData.set("pw_uuid_segment_ids",e,!0)}},{key:"getAudienceSegmentsConfig",value:function(e){Array.isArray(e)&&e.length>0&&(this.matchedCookieSyncSegments=(0,rt.Z)(new Set(this.matchedCookieSyncSegments.concat(e))),this.storeCookieSyncSegments(this.matchedCookieSyncSegments))}},{key:"addImpressionEventId",value:function(e){Array.isArray(e)&&e.length>0&&(this.matchedCookieSyncSegments=(0,rt.Z)(new Set(this.matchedCookieSyncSegments.concat(e))),this.storeCookieSyncSegments(this.matchedCookieSyncSegments))}}]),e}();window.ramp.setUserProfile=function(e){window.ramp.up=e,void 0!==window.PageOS.dmp&&window.PageOS.dmp.init()};var kt=["pw_uuid","_pw_audience_categories","_pw_audience_segments","pw_uuid_segment_ids","_pw_audience_impression_event_ids","_pw_pwheid_segment_ids"],Et=function(){function e(t){var n=this,o=t.isCOPPA;if((0,i.Z)(this,e),(0,f.Z)(this,"_apiRegistered",!1),(0,f.Z)(this,"_audienceSegmentsConfig",[]),(0,f.Z)(this,"getImpressionEventIds",(function(){return n.impressionEventIds})),window.PageOS.dmp=window.PageOS.dmp||{},this.hasLocalStorage=window.PageOS.environment.hasLocalStorage,this.isCOPPA=o,this.isUserInEU=window.PageOS.gdpr.userInEU,this.metaKeywords=[],this.userProfile={},this.disableDmp=!0===window.ramp.disableDmp||o,this.disableDmp)return window.PageOS.dmp.ready=!1,void window.PageOS.BUS.emit("dmp_ready");!1!==window.PageOS.userData.ready?(this.MODULE=window.PageOS.dmp,this.init()):this._handleUserOptOut()}return(0,o.Z)(e,[{key:"init",value:function(){var e=this;this.hashedEmailHandler=new Ot(this.disableDmp),this.hashedEmailHandler.init(),this.cookieUuidHandler=new Pt,this.cookieUuidHandler.init(),this.getDataLayer(),this.audienceCategories=(0,rt.Z)(new Set(G("_pw_audience_categories",[]))),this.impressionEventIds=G("_pw_audience_impression_event_ids",[]),this.collectPageKeywords(),this.segmentsPromise=this.getAudienceSegmentsConfig(),this._registerPublicAPI(),!1===this.isUserInEU||"boolean"==typeof window.PageOS.gdpr.hasWindowCMP?this.initAudienceData():window.PageOS.BUS.on("gdpr_ready",(function(){e.initAudienceData()}),!0)}},{key:"initAudienceData",value:function(){var e=this;this.disableDmp||(this.getAudienceData().then((function(){S.ai.info("Finish gathering audience data")})),this.handleCollectIdentifiers().then((function(t){e.userIdentifiers=t,S.ai.info("Collected identifiers:",{identifiers:t})})))}},{key:"getAudienceData",value:function(){var e=this;return Promise.all([this.segmentsPromise,this.hashedEmailHandler.pwheidDataPromise]).then((function(t){var n=t[2];e.hashedEmailHandler.getAudienceData(n)})).finally((function(){e.MODULE.ready=!0,window.PageOS.BUS.emit("dmp_ready"),e.sendToKinesis()}))}},{key:"getDataLayer",value:function(){if(this.dataLayer={},window.ramp&&void 0!==window.ramp.up){var e=window.ramp.up,t=e.format,n=e.data;if(n){var i="UUP1"===t?n:JSON.parse(Y(n));this.dataLayer[window.ramp.settings.config.id]=i}}}},{key:"updateSegments",value:function(e,t,n,i,o){var a=n.filter((function(t){return!e.includes(t)}));Array.isArray(t)&&t.length!==a.length&&i(o,{audience_segments:a})}},{key:"sendToKinesis",value:function(){window.PageOS.kinesis.handleEvent("registerRampSession",{uuid:window.PageOS.session.getCookieSyncUID,uuid_segment_ids:this.cookieUuidHandler.matchedCookieSyncSegments,visitor_id:window.PageOS.session.getCookieSyncUID,visitor_segment_ids:this.cookieUuidHandler.matchedCookieSyncSegments,pwheid:this.hashedEmailHandler.pwheid,pwheid_segment_ids:this.hashedEmailHandler.matchedSegmentsPWheid,eid:this.hashedEmailHandler.eid,is_hem_from_url:!!this.hashedEmailHandler.isHemFromUrl&&this.hashedEmailHandler.isHemFromUrl})}},{key:"getMetaKeywords",value:function(){return this.metaKeywords}},{key:"getKeyValues",value:function(){var e;return null===(e=this.userProfile)||void 0===e?void 0:e.data}},{key:"collectPageKeywords",value:function(){var e=this,t=function(t){t.split(/[`!#^*()+\=\n\[\]{};:"\\|,<>\/?~]|\. /).map((function(e){return e.trim()})).forEach((function(t){t=F(t),e.metaKeywords.includes(t)||e.metaKeywords.push(t)}))};document.querySelectorAll("h1, h2").forEach((function(e){t(e.textContent)}));var n=document.head.querySelector('meta[name="description"]'),i=document.head.querySelector('meta[name="keywords"]');n&&t(n.content),i&&t(i.content)}},{key:"getAudienceSegmentsConfig",value:function(){var e=this;return new Promise((function(t){var n=e;if(n.isUserInEU||n.disableDmp)t();else{var i=new XMLHttpRequest;i.open("GET","https://config.playwire.com/audience_segments/config.json",!0),i.onreadystatechange=function(){if(4===i.readyState)if(200===i.status){var e;if(window.ramp&&void 0!==window.ramp.up){var o=window.ramp.up,a=o.format,r=o.data;if(r){var s="UUP1"===a?r:JSON.parse(Y(r));n.userProfile={data:(0,f.Z)({},window.ramp.settings.config.id,s),format:a}}}n._audienceSegmentsConfig=JSON.parse(i.responseText);var d=Z({audienceSegments:n._audienceSegmentsConfig,categories:n.audienceCategories,keywords:n.metaKeywords,impressionEventIds:n.impressionEventIds,keyValues:null===(e=n.userProfile)||void 0===e?void 0:e.data}),c=d.matchedSegments,u=d.campaignSegments,l=Z({audienceSegments:n._audienceSegmentsConfig,categories:n.audienceCategories,keywords:n.metaKeywords,impressionEventIds:n.impressionEventIds,keyValues:n.dataLayer}).matchedSegments;n.campaignSegments=u,S.ai.debug("Matched Segments for t page:",{campaignSegments:u,matchedSegments:c}),Array.isArray(c)&&c.length>0?(n.cookieUuidHandler.getAudienceSegmentsConfig(l),n.hashedEmailHandler.getAudienceSegmentsConfig(l),t()):t()}else S.ai.warn("Error fetching audience segments config."),t()},i.send()}}))}},{key:"addCategories",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return"string"==typeof t&&(t=[t]),this.isUserInEU?t:(t.forEach((function(t){t=F(t),e.audienceCategories.includes(t)||e.audienceCategories.push(t)})),K("_pw_audience_categories",this.audienceCategories),this.audienceCategories)}},{key:"addImpressionEventId",value:function(e){if(e&&!this.isUserInEU&&(e=function(e){try{return/-(.*)/.exec(e)[1]}catch(t){return e}}(e="".concat(e)),!this.impressionEventIds.includes(e))){this.impressionEventIds.push(e),this.impressionEventIds.length>99&&this.impressionEventIds.shift(),K("_pw_audience_impression_event_ids",this.impressionEventIds);var t=Z({audienceSegments:this._audienceSegmentsConfig,impressionEventIds:this.impressionEventIds}),n=t.matchedSegments,i=t.campaignSegments;Array.isArray(i)&&i.length>0&&(this.campaignSegments=(0,rt.Z)(new Set(this.campaignSegments.concat(i)))),this.cookieUuidHandler.addImpressionEventId(n),this.hashedEmailHandler.addImpressionEventId(n,this.campaignSegments)}}},{key:"handleCollectIdentifiers",value:function(){var e=this;return new Promise((function(t,i){n.e(123).then(n.bind(n,2123)).then((function(n){(0,n.default)(e.hasLocalStorage).then((function(e){t(e)}))})).catch((function(e){S.ai.error("Error loading collectIdentifiers helper.",e),i(e)}))}))}},{key:"getUserIdentifiers",value:function(){return this.userIdentifiers}},{key:"_handleUserOptOut",value:function(){window.PageOS.dmp.ready=!1,window.PageOS.BUS.emit("dmp_ready"),kt.forEach((function(e){J(e)})),function(e){try{document.cookie="".concat(e,"=;Path=/;Expires=Thu, 01 Jan 1970 00:00:01 GMT;")}catch(e){}}("AMZN-Token")}},{key:"getCookieSyncUID",value:function(){return window.PageOS.session.getCookieSyncUID}},{key:"getMatchedCookieSyncSegments",value:function(){return this.cookieUuidHandler.matchedCookieSyncSegments}},{key:"_registerPublicAPI",value:function(){this._apiRegistered||(this._apiRegistered=!0,this.MODULE.addCategories=this.addCategories.bind(this),this.MODULE.addImpressionEventId=this.addImpressionEventId.bind(this),this.MODULE.getAudienceSegments=this.getMatchedCookieSyncSegments.bind(this),this.MODULE.getAudienceSegmentsPWheid=this.hashedEmailHandler.getAudienceSegmentsPWheid.bind(this.hashedEmailHandler),this.MODULE.getImpressionEventIds=this.getImpressionEventIds.bind(this),this.MODULE.getMetaKeywords=this.getMetaKeywords.bind(this),this.MODULE.getKeyValues=this.getKeyValues.bind(this),this.MODULE.getVisitorId=this.getCookieSyncUID.bind(this),this.MODULE.getUserIdentifiers=this.getUserIdentifiers.bind(this),this.MODULE.getPWHeid=this.hashedEmailHandler.getPWHeid.bind(this.hashedEmailHandler),this.MODULE.getPWMD5Heid=this.hashedEmailHandler.getPWMD5Heid.bind(this.hashedEmailHandler),this.MODULE.init=this.init.bind(this),this.MODULE.isCOPPA=this.isCOPPA,this.MODULE.isUserInEU=this.isUserInEU,this.MODULE.isUsingCloudService=this.hashedEmailHandler.isUsingCloudService)}}]),e}();const It=Et;var At={adImpressions:0,adClicks:0,videoAdImpressions:0,videoAdCompletions:0,videoAdClicks:0,adClickRate:0,videoAdClickRate:0,videoAdCompletionRate:0},Ct=31536e6,Ut=function(){function e(t){var n=this,o=t.isCOPPA,a=t.ctrTracking;if((0,i.Z)(this,e),(0,f.Z)(this,"_apiRegistered",!1),(0,f.Z)(this,"_audienceSegmentsConfig",[]),(0,f.Z)(this,"isOptedOut","true"===(0,p.Do)("_pwUserOptedOut")),(0,f.Z)(this,"setCookieValue",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ct;if(e)try{document.cookie="".concat(e,"=").concat(encodeURIComponent(JSON.stringify(t)),"; max-age=").concat(n,"; path=/")}catch(t){S.cV.warn("Could not set cookie.",{cookieName:e})}})),window.PageOS.userData=window.PageOS.userData||{},this.isCOPPA=o,this.isUserInEU=window.PageOS.gdpr.userInEU,this.ctrTracking=a,o||!0===window.ramp.disableDmp)return window.PageOS.userData.ready=!1,void window.PageOS.BUS.emit("userData_ready");this.MODULE=window.PageOS.userData,this.iframe=this._createIframe(),this.userBehavior=At,this._registerPublicAPI(),window.PageOS.BUS.on("ad_clicked",(function(){n.updateUserTrackingData("adClicks")}),!1),!1===this.isUserInEU||"boolean"==typeof window.PageOS.gdpr.hasWindowCMP?this.init():window.PageOS.BUS.on("gdpr_ready",(function(){n.init()}),!0),this._disableModule=this._disableModule.bind(this)}return(0,o.Z)(e,[{key:"init",value:function(){this.isCOPPA||!0===window.ramp.disableDmp||(!0===this.isUserInEU&&(this.ctrTracking=!1),this.isOptedOut&&(u(!0),this._disableModule()),u(this.isOptedOut),this._setMessageListeners(),this.appendIframe(this.iframe))}},{key:"appendIframe",value:function(e){if(document.body)document.body.appendChild(e);else{var t=new MutationObserver((function(){document.body&&(document.body.appendChild(e),t.disconnect())}));t.observe(document.documentElement,{childList:!0})}}},{key:"canAccessPII",value:function(e){if(this.isUserInEU){e(!1)}else e(!0)}},{key:"get",value:function(e,t){var n=this;"string"==typeof e&&"function"==typeof t&&(window.PageOS.BUS.on("_UserData_".concat(e),t,!0),this.canAccessPII((function(t){n.postMessage(n.iframe,{type:"_pwUserData",method:"get",key:e,isPII:t})})))}},{key:"postMessage",value:function(e,t){var n="string"==typeof t?t:JSON.stringify(t);e&&e.contentWindow&&e.contentWindow.postMessage(n,"*")}},{key:"set",value:function(e,t,n){var i=this;if("string"==typeof e&&void 0!==t&&"boolean"==typeof n){var o={type:"_pwUserData",method:"set",key:e,val:t,isPII:n};n?this.canAccessPII((function(e){e&&i.postMessage(i.iframe,o)})):this.postMessage(this.iframe,o)}}},{key:"remove",value:function(e){if("string"==typeof e){var t={type:"_pwUserData",method:"remove",key:e};this.postMessage(this.iframe,t)}}},{key:"_createIframe",value:function(){if(!this.iframe){var e=document.createElement("iframe");return e.id="pw_user_data",e.style.display="none",e.style.height="0",e.style.width="0",e.style.position="fixed",e.style.bottom="-99999px",e.src="".concat("https://cdn.intergient.com/pageos/1.10.40/","iframe/iframe.html"),e}}},{key:"_handleCtrTracking",value:function(){if(this.ctrTracking){S.cV.info("CTR Tracking enabled.");var e=this.getUserBehavior(),t=e.adClicks+e.videoAdClicks>0;this.userBehavior.adClicker=t,this.setCookieValue("ad_clicker",t),window.Bolt&&window.Bolt.embeds&&Object.keys(window.Bolt.embeds).forEach((function(n){var i={id:n,action:"setUserBehaviorValues",adClicker:t,videoAdClickRate:e.videoAdClickRate,videoAdCompletionRate:e.videoAdCompletionRate};window.postMessage(JSON.stringify(i),"*")})),window.ramp&&window.ramp.settings&&window.ramp.settings.slots&&Object.keys(window.ramp.settings.slots).length>0&&window.googletag.pubads().setTargeting("ad_clicker","".concat(t))}}},{key:"_setMessageListeners",value:function(){var e=this;this._listenersSet||(this._listenersSet=!0,window.addEventListener("message",(function(t){try{var n=JSON.parse(t.data),i=n.type,o=n.key,a=n.data;if("_pwUserDataReady"===i){if(a&&!0===a.userOptedOut&&(e.isOptedOut=!0,u(!0),e._disableModule(),window.PageOS.BUS.emit("userData_ready")),e.isOptedOut)return kt.forEach((function(t){e.remove(t)})),void(a&&a.userOptedOut||(e.set("_pwUserOptedOut",e.isOptedOut?"true":"false",!1),e._disableModule()));a.uuid&&(e.uuid=a.uuid),e.setUserID(),e.get("user_behavior",(function(t){e.userBehavior=t||e.userBehavior,e._handleCtrTracking(),window.PageOS.userData.ready=!0,window.PageOS.BUS.emit("userData_ready")}))}"_pwClick"===i&&window.PageOS.BUS.emit("ad_clicked"),"_pwReturnData"===i&&window.PageOS.BUS.emit("_UserData_".concat(o),a)}catch(t){}})))}},{key:"setUserID",value:function(){this.uuid||(this.uuid=s("user"),this.set("pw_uuid",this.uuid,!1))}},{key:"getUserBehavior",value:function(){return this.userBehavior}},{key:"initBoltTracking",value:function(e){var t=this;window.Bolt.on(e,window.Bolt.BOLT_AD_STARTED,(function(){t.updateUserTrackingData("videoAdImpressions")})),window.Bolt.on(e,window.Bolt.BOLT_AD_COMPLETE,(function(){t.updateUserTrackingData("videoAdCompletions")})),window.Bolt.on(e,window.Bolt.BOLT_AD_CLICKED,(function(){t.updateUserTrackingData("videoAdClicks")}))}},{key:"updateUserTrackingData",value:function(e){var t=this.userBehavior;t.hasOwnProperty(e)?(t[e]++,t.adClickRate=0===t.adImpressions?0:Math.round(t.adClicks/t.adImpressions*100),t.videoAdClickRate=0===t.videoAdImpressions?0:Math.round(t.videoAdClicks/t.videoAdImpressions*100),t.videoAdCompletionRate=0===t.videoAdImpressions?0:Math.round(t.videoAdCompletions/t.videoAdImpressions*100),"adClicks"!==e&&"videoAdClicks"!==e||(S.cV.info("Ad Click.",{type:e}),this._handleCtrTracking()),this.set("user_behavior",t,!0)):S.cV.warn("tried to update unexisting key",{key:e})}},{key:"toggleOptOut",value:function(){return this.isOptedOut=!this.isOptedOut,this.setCookieValue("_pwUserOptedOut",this.isOptedOut,15768e7),this.set("_pwUserOptedOut",this.isOptedOut?"true":"false",!1),this.isOptedOut&&this.uuid&&window.PageOS.kinesis.handleEvent("userOptOut",this.uuid),u(this.isOptedOut),this.isOptedOut}},{key:"_disableModule",value:function(){var e=this,t=["ready","toggleOptOut"];this.MODULE.ready=!1,Object.keys(this.MODULE).forEach((function(n){t.includes(n)||delete e.MODULE[n]}))}},{key:"_registerPublicAPI",value:function(){this._apiRegistered||(this._apiRegistered=!0,this.MODULE.get=this.get.bind(this),this.MODULE.set=this.set.bind(this),this.MODULE.updateUserTrackingData=this.updateUserTrackingData.bind(this),this.MODULE.getUserBehavior=this.getUserBehavior.bind(this),this.MODULE.initBoltTracking=this.initBoltTracking.bind(this),this.MODULE.toggleOptOut=this.toggleOptOut.bind(this))}}]),e}(),Dt=null,Tt=null,xt={},Lt=!1,Mt=!1,Rt={};window.PageOS.floors=window.PageOS.floors||{};var Bt=function(e){return["trendi_video","prebid_video","corner_ad_video","precontent_ad_video"].includes(e.config.unit)},jt=function(){return new Date((new Date).toLocaleString("en-US",{timeZone:"America/New_York"}))},Nt=function(e,t){var n=jt();return{browser_name:window.PageOS.environment.getBrowserInfo().name,country_code:window.PageOS.gdpr.userCC,day_of_week:n.getDay(),hour_of_day:n.getHours(),device_type:e.device,refresh_count:t.refreshes}},Ft={country_code:{default:"Other",groupings:{USA:["us"],GDPR:["at","be","bg","cy","cz","de","dk","ee","es","fi","fr","gb","gr","hu","ie","it","lt","lu","lv","mt","nl","pl","pt","ro","se","si","sk"],TIER_1:["au","ca","ch","no","nz"]}},refresh_count:{default:"refresh_count_11_plus",groupings:{refresh_count_0:[0],refresh_count_1:[1],refresh_count_2:[2],refresh_count_3:[3],refresh_count_4_to_10:[4,5,6,7,8,9,10]}},browser_name:{default:"Other",groupings:{Chrome:["chrome"],Edge:["edge"],Firefox:["firefox","firefox focus","firefox reality"],Safari:["safari","mobile safari"]}}},Ht=function(e){return"sidebar"===e.unit?"pw_sidebar":"sticky_sidebar"===e.unit?"pw_sticky_sidebar":e.unit},Vt=function(e,t){var n="string"==typeof e[t]?e[t].toLowerCase():e[t],i=Ft[t];if(void 0!==i){var o=i.groupings,a=Object.keys(o).find((function(e){return o[e].includes(n)}));return void 0===a&&(a=i.default),a}return n},zt=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i={enabled:!1};if(window.pwEdgeFlags&&"object"===(0,b.Z)(window.pwEdgeFlags.priceFloors))return(0,m.Z)(i,window.pwEdgeFlags.priceFloors);if(!e||!e.config||!e.config.settings)return i;var o=e.config.settings.videoPriceFloors,a=null!==(t=e.config.settings.displayPriceFloors)&&void 0!==t?t:e.config.settings.priceFloors,r="mobile"===e.device?e.device:"desktop";return a||o?(!0!==a&&1!==a||(i.enabled=!0,i.sourceDisplay="ramp"),2!==a&&2!==o||(i.enabled=!0,i.sourceDisplay=2===a?"ml":i.sourceDisplay,i.sourceVideo=2===o?"ml":i.sourceVideo,i.multiplier=function(){if("object"!==(0,b.Z)(e.config.settings.multipliers))return null;var t=jt(),i=t.getFullYear(),o="0".concat(t.getMonth()+1).slice(-2),a="0".concat(t.getDate()).slice(-2),s=n?"video":"display",d=e.config.settings.multipliers[s]?e.config.settings.multipliers[s]["".concat(i,"-").concat(o,"-").concat(a)]:e.config.settings.multipliers["".concat(i,"-").concat(o,"-").concat(a)];return"number"==typeof d?d:d&&"number"==typeof d[r]?d[r]:null}()),i):i},Zt=function(e){var t=Ht(e),n=xt[t];return!n||void 0===n.threshold||"number"!=typeof n.threshold||!0!==Mt||(n.threshold<0||n.threshold>=1||(void 0===Rt[t]&&(Rt[t]=Math.random()>n.threshold),Rt[t]&&S.ZP.info("Preventing ad request",{unit:t,threshold:n.threshold}),!Rt[t]))},qt=function(e){var t=e.websiteId,n=e.callback;window.PageOS.benchmarks.trackStart("tyche_imported_PFmodule_ML"),Tt=jt().getHours();var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4===i.readyState)if(xt={},200===i.status){Lt||(Lt=!0,window.PageOS.benchmarks.trackEnd("tyche_imported_PFmodule_ML"));var e=i.responseText.replace("{video:",'{"video":').replace(" display: ",' "display": ');xt=JSON.parse(e),n&&n()}else S.ZP.error("Caught when importing price floor module"),n&&n()},i.open("GET",function(e){var t=jt(),n=Nt(window.ramp.settings,{});return"https://impression-inferences-edge-prod.playwire.com/websites"+"/".concat(e)+"/v1"+"/".concat(t.toLocaleDateString("en-US",{weekday:"short"}))+"/".concat(t.getHours())+"/".concat(Vt(n,"device_type"))+"/".concat(Vt(n,"browser_name"))+"/".concat(Vt(n,"country_code"))}(t),!0),i.send()},Wt=function(e){var t=window.ramp.settings,n=Nt(t,e),i=Bt(e),o=zt(t,i),a=o.sourceDisplay,r=o.sourceVideo,s=o.multiplier,d=null;if(i||"ramp"!==a)(!i&&void 0!==a&&"ml"===a||i&&void 0!==r&&"ml"===r)&&(d=function(e){var t=e.options,n=e.tag,i=jt().getHours(),o=Ht(n.config),a=Bt(n)?"video":"display";return i!==Tt&&qt({websiteId:window.ramp.settings.config.id}),"object"!==(0,b.Z)(xt[a])||"object"!==(0,b.Z)(xt[a][o])||"number"!=typeof xt[a][o][Vt(t,"refresh_count")]?null:xt[a][o][Vt(t,"refresh_count")]}({options:n,multiplier:s,tag:e,websiteId:t.config.id}));else{if(!Dt)return;d=Dt.calculatePriceFloor(e.config.section,e.config.unit,n)}return function(e,t,n){var i;"number"==typeof e&&"number"==typeof t&&(e=Math.round(e*t*100)/100,S.ZP.info("Calculated Price Floor value:",{unit:n.config.unit,priceFloor:e,multiplier:t}),(e<0||e>30)&&(e=null));var o=null===e?"na":e.toFixed(2);return!Bt(n)&&n.slot.setTargeting("price_floor",o),window.PageOS.floors[void 0!==n.id?n.id:null===(i=n.config)||void 0===i?void 0:i.unit]=o,o}(d,s,e)};function Gt(){if(window.ramp&&window.ramp.settings){var e=window.ramp.settings;return new Promise((function(t){if(e.config&&e.config.settings){var n=e.config.id,i=zt(e),o=i.enabled,a=i.sourceDisplay,r=i.sourceVideo;Mt=!0===e.config.settings.adRequestChecker||window.location.hash.includes("adrequestchecker"),S.ZP.info("Ad Request Checker Feature",{enabled:!!Mt}),S.ZP.info("PriceFloor module",{enabled:o,sourceDisplay:a,sourceVideo:r});var s=r||a;if(o&&s){window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){window.googletag.pubads().setTargeting("pf_src",s)}));var d={callback:t,startTime:Date.now(),websiteId:n};"ramp"===a&&function(e){var t=e.websiteId,n=e.callback;window.PageOS.benchmarks.trackStart("tyche_imported_PFmodule"),import(function(e){return"https://config.playwire.com/websites/".concat(e,"/price_floor.js")}(t)).then((function(e){var t=e.default;window.PageOS.benchmarks.trackEnd("tyche_imported_PFmodule"),Dt={calculatePriceFloor:t},n&&n()})).catch((function(e){S.ZP.error("Caught when importing price floor module",{message:e.message,stack:e.stack}),n&&n()}))}(d),("ramp"===a&&Mt||"ml"===a||"ml"===r)&&qt(d)}else t()}else t()}))}}function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}window.PageOS=window.PageOS||{},window.PageOS.adUtils=window.PageOS.adUtils||{};var Jt=function(e){if(!e)return{};var t=Math.max(document.documentElement.clientWidth,window.innerWidth||0),n=Math.max(document.documentElement.clientHeight,window.innerHeight||0),i=e.getBoundingClientRect(),o=i.top+i.height/2+window.scrollY,a=i.left+i.width/2+window.scrollX,r=100*(n-(i.top+i.height/2))/n,s=100*(i.left+i.width/2)/t;return{abs_dist_top:o=50*Math.floor(o/50),abs_dist_left:a=50*Math.floor(a/50),rel_dist_bottom:r=10*Math.floor(r/10),rel_dist_left:s=10*Math.floor(s/10)}},Yt=function(){window.addEventListener("message",(function(e){try{var t=JSON.parse(e.data),n=JSON.parse(t.report);if("pwReportingObserver"===t.id){var i=window.PageOS.logger.get("REPORTING_OBSERVER"),o=window.ramp.settings.slots[t.slotId].slot.getResponseInformation(),a=o.advertiserId,r=o.campaignId,s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({url:n.url,adUnit:t.adUnit,slotId:t.slotId,reportType:n.type,advertiserId:a,campaignId:r},n.body);i.warn(s.reportType,s),"intervention"===s.reportType&&"HeavyAdIntervention"===n.body.id&&"function"==typeof window.ramp.reloadHeavyAd&&window.ramp.reloadHeavyAd(t.slotId)}}catch(e){}}))};window.PageOS.adUtils.getAdLocation=Jt;function Qt(){var e=document.createElement("script");e.type="text/javascript",e.src="https://btloader.com/tag?o=5150306120761344&upapi=true",e.async=!0,document.head.appendChild(e)}var Xt=n(3279),$t=n.n(Xt),en=n(3493),tn=n.n(en),nn={leaderboard:{desktop:[728,90],mobile:[320,50]},med_rect:[300,250],left_rail:[160,600],right_rail:[160,600],bottom_rail:[728,90],skyscraper:[160,600],"160x600":[160,600],in_content:[300,250],relevant_article:[300,250]},on=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=window.innerHeight,i="";i+=e?"Slot: ".concat(e,", "):"",i+=t?"Event: ".concat(t,", "):"",S.hR.info("".concat(i,"Viewport Height: ").concat(n))},an=function(e,t){var n="desktop";t&&(n="mobile");var i=!1;return"leaderboard"===e?nn[e][n]&&(i=nn[e][n]):nn[e]&&(i=nn[e]),i},rn=0,sn=0,dn=document.documentElement.scrollHeight,cn=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=window.scrollY,o="up";i>rn&&(o="down");var a=Math.abs(i-rn),r=i/dn*100,s=rn/dn*100,d="";t&&n?(d+=t?"Slot: ".concat(t,", "):"",d+=n?"Event: ".concat(n,", "):""):(S.hR.info("Scrolling from: ".concat(rn,"px")),S.hR.info("Scrolling to: ".concat(i,"px")),S.hR.info("Document height: ".concat(dn,"px")),S.hR.info("Start Scroll begin: ".concat(parseFloat(r).toFixed(2),"%")),S.hR.info("End Scroll begin: ".concat(parseFloat(s).toFixed(2),"% ")));var c=(new Date).getTime(),u=c-sn;if(sn>0&&u>2e3)S.hR.info("".concat(d,"No Scroll, interval time: ").concat(u));else if(0===a)S.hR.info("".concat(d,"No Scroll"));else{S.hR.info("".concat(d,"Scrolling: ").concat(o," ").concat(a,"px")),rn=i;var l=a/u*1e3;S.hR.info("".concat(d,"Scroll velocity: ").concat(l.toFixed(2)," px/second"))}sn=c},un=function(){S.hR.info("Focus IN")};const ln=function(){window.PageOS=window.PageOS||{},window.PageOS.metrics=window.PageOS.metrics||{};var e=window.PageOS.metrics;e.sendViewportHeight=function(e,t){on(e,t)},e.sendScroll=function(e,t){cn(!1,e,t)},e.sendAdHeight=function(e,t,n,i){!function(e,t,n,i){var o=!!(e&&t.size&&t.size[1])&&t.size[1];if(!o){var a=an(t.type,i);a&&(o=a[1])}S.hR.info("Slot: ".concat(e,", Event: ").concat(n,", Ad Height: ").concat(o))}(e,t,n,i)},e.sendAdViewability=function(e,t,n){!function(e,t,n){S.hR.info("Slot: ".concat(e,", Event: ").concat(t,", Ad Viewability: ").concat(n))}(e,t,n)},e.getStandardSlotSize=function(e,t){return an(e,t)}};var pn=function(e){var t=document.createElement("script");t.type="text/javascript",t.src="https://prod.uidapi.com/static/js/uid2-sdk-1.0.0.js",t.async=!1,t.id="uid2SDKScript",t.onload=function(){return e()},document.head.appendChild(t)},gn=function(){void 0===window.googletag&&(window.googletag={}),void 0===window.googletag.secureSignalProviders&&(window.googletag.secureSignalProviders=[])},wn=function(){return new Promise((function(e){var t=window.PageOS.uid2;if(t.enabled)return S.O0.info("UID2 already enabled"),e(!0);var n=!1,i=window.PageOS.gdpr.isCOPPA,o=window.PageOS.gdpr.userInEU,a=!!(0,p.DP)("ccpa");if(!(window._pwUserInCA||a))return i?(S.O0.info("Is a COPPA site, UID2 deactivated."),e(!1)):o?(S.O0.info("User in EU, UID2 deactivated."),e(!1)):(n=fn())?(t.enabled=!0,e(n)):(S.O0.error("UID2 SDK not found."),e(!1));window.PageOS.BUS.on("ccpa_ready",(function(){return!0===(window.PageOS.ccpa&&!0===window.PageOS.ccpa.hasUserOptedOut())?(S.O0.info("CCPA applies and user has opted out, UID2 deactivated."),e(!1)):(n=fn())?(t.enabled=!0,e(n)):(S.O0.error("UID2 SDK not found."),e(!1))}),!0)}))},fn=function(){return void 0!==window.__uid2&&window.__uid2},mn=function(e){var t=window.PageOS.uid2;if(t.sdkInitialized)S.O0.info("UID2 SDK already initialized; call `disconnect` function if you want to initialize it again");else{var n=fn();try{n.init({callback:function(e){t.sdkInitialized=0===e.status,t.status=e.status,t.statusText=e.statusText,S.O0.info("UID2 SDK initialized, ".concat(e.statusText))},identity:e})}catch(e){S.O0.error(e)}}},hn=function(e){if(void 0!==e.getAdvertisingToken())return!0;var t=e.isLoginRequired();return void 0===t||t?(S.O0.info("UID2 login is required; call `login` function with an email address as parameter"),!1):void 0},vn=function(e){var t=JSON.parse(e.response).body;!function(){try{var e=fn();e.disconnect(),delete window.__uid2,e=null,document.getElementById("uid2SDKScript").remove()}catch(e){S.O0.error("Error trying to clear UID2 SDK",{error:e})}}();pn((function(){window.__uid2=new UID2,mn(t)}))};function yn(){window.PageOS=window.PageOS||{},window.PageOS.uid2=window.PageOS.uid2||{};var e=window.PageOS.uid2;e.enabled=!1;window.PageOS.BUS.on("gotConfig",(function(){!function(){var e=!!(0,p.DP)("pwuid2"),t=!(!window.ramp||!window.ramp.settings)&&window.ramp.settings.config,n=t&&Array.isArray(t.settings.identity)&&t.settings.identity.length>0&&t.settings.identity.includes("uid2");n=n||e;var i=window.PageOS.uid2;n?(gn(),pn((function(){i.init()}))):S.O0.info("UID2 not enabled by config file.")}()}),!0),e.getAdvertisingToken=function(){return e.enabled?fn().getAdvertisingToken():(S.O0.error("UID2 module not available"),!1)},e.isLoginRequired=function(){return e.enabled?fn().isLoginRequired():(S.O0.error("UID2 module not available"),!1)},e.disconnect=function(){return e.enabled?(e.sdkInitialized=!1,e.status=!1,e.statusText="",fn().disconnect()):(S.O0.error("UID2 module not available"),!1)},e.abort=function(){return e.enabled?(e.sdkInitialized=!1,e.status=!1,e.statusText="",fn().abort()):(S.O0.error("UID2 module not available"),!1)},e.login=function(t){if(!e.enabled)return S.O0.error("UID2 module not available"),!1;if(e.sdkInitialized)return S.O0.warn("UID2 already initialized; call `disconnect` function if you want to initialize it again"),!1;var n="".concat("https://devcdn.intergi.com/ttd_uid2.json?email=").concat(encodeURIComponent(t)),i=new XMLHttpRequest;i.open("GET",n,!0),i.onreadystatechange=function(){if(4===i.readyState&&(200===i.status&&vn(i),400===i.status))return S.O0.error("Error retrieving uid2 token",{error:i.message}),!1},i.onerror=function(e){return S.O0.error("Error retrieving uid2 token",{error:e}),!1},i.send()},e.init=function(){return new Promise((function(t){e.enabled&&e.sdkInitialized?(S.O0.info("UID2 already initialized; call `disconnect` function if you want to initialize it again"),t(!0)):!window.PageOS.gdpr||!1!==window.PageOS.gdpr.userInEU&&"boolean"!=typeof window.PageOS.gdpr.hasWindowCMP?window.PageOS.BUS.on("gdpr_ready",(function(){wn().then((function(n){n?(mn(),t(hn(e))):(S.O0.warn("UID2 module not available"),t(!1))}))}),!0):wn().then((function(n){n?(mn(),t(hn(e))):(S.O0.warn("UID2 module not available"),t(!1))}))}))}}var _n=function(e){!function(t,n,i,o,a,r,s){function d(e,i){n[t]._Q.push([e,i])}n[t]?e():(n[t]={init:function(){d("i",arguments)},fetchBids:function(){d("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},dpa:function(){d("di",arguments)},rpa:function(){d("ri",arguments)},upa:function(){d("ui",arguments)},_Q:[]},(r=i.createElement(o)).onload=e,r.async=!0,r.src="https://c.amazon-adsystem.com/aax2/apstag.js",r.id="pw_aps_tag",(s=i.getElementsByTagName(o)[0]).parentNode.insertBefore(r,s))}("apstag",window,document,"script")};window.addEventListener("DOMContentLoaded",(function(){_n((function(){window.parent.postMessage(JSON.stringify({type:"_pwApsTag",message:"getInitConfig"}),"*")}))})),window.addEventListener("message",(function(e){try{if(!e.data)return;var t="string"==typeof e.data?JSON.parse(e.data):e.data,n=t.type,i=t.message,o=t.data;if("_pwApsTag"!==n)return;try{switch(i){case"initConfig":window.apstag.init(o,(function(){window.parent.postMessage(JSON.stringify({type:"_pwApsTag",message:"tagLoaded"}),"*")}));break;case"rpa":var a=o.tokenConfig,r=o.setCookie;window.apstag.rpa(a,(function(){window.parent.postMessage(JSON.stringify({type:"_pwApsTag",message:"rpaResponse"}),"*")}),r);break;case"fetchBids":var s=o.slots,d=o.timeout;window.apstag.fetchBids({slots:s,timeout:d},(function(e){var t={type:"_pwApsTag",message:"fetchBidsResponse",bids:e};window.parent.postMessage(JSON.stringify(t),"*")}));break;default:return}}catch(e){}}catch(e){}}));var bn,Sn,On,Pn=!1,kn=!1,En=function(){var e=window.Bolt.embeds[Object.keys(window.Bolt.embeds)[0]].config.video.advertising.servers,t=location.hostname.replace("www.",""),n=!1,i=!1;for(var o in e){if(!0===n)break;if(!o.includes("generic-")){var a=e[o].tags;for(var r in a)if(t===r){i=a[r],n=!0;break}}}return i},In=function(){var e,t,n,i,o,a,r,s,d=null===(e=window.ramp.settings)||void 0===e||null===(t=e.config)||void 0===t||null===(n=t.settings)||void 0===n?void 0:n.publisherId,c=(null!==(i=null===(o=window.ramp.settings)||void 0===o||null===(a=o.config)||void 0===a||null===(r=a.settings)||void 0===r?void 0:r.iabIds)&&void 0!==i?i:[]).filter((function(e){return e&&-1===e.indexOf("IAB")}));if(!d)try{var u=window.Bolt.embeds[Object.keys(window.Bolt.embeds)[0]].renderer.jsonConfig;if(u){var l=u.settings.playerType;d=u["precontent"===l||"adsonly"===l?"id":"hostingId"]||""}else d=""}catch(e){S.wS.info("Unable to detect pulisher ID for schaing"),d=""}var p={pubID:"bd056b42-51db-43ce-9a8e-3b11319b5d1f",adServer:"googletag",videoAdServer:"DFP",schain:{ver:"1.0",complete:1,nodes:[{asi:"playwire.com",sid:"".concat(d),hp:1}]},signals:{ortb2:{site:{cattax:6,cat:c,sectioncat:c,pagecat:c}}}};if(window.PageOS.ccpa&&(p.params={us_privacy:window.PageOS.ccpa.getUpsString()}),!0===(null===(s=window.ramp.privacy)||void 0===s?void 0:s.amazonNpa)&&(p.params={us_privacy:"1NY"}),window.PageOS.gdpr&&window.PageOS.gdpr.userInEU){var g=window.PageOS.gdpr.getTCString();g&&(p.gdpr={enabled:!0,consent:g})}return p},An=function(){var e=document.createElement("iframe");return e.id="pw_aps_iframe",e.style.display="none",e.style.height="0",e.style.width="0",e.style.position="fixed",e.style.bottom="-99999px",e.srcdoc='<html>\n    <head lang="en">\n        <script src="https://c.amazon-adsystem.com/aax2/apstag.js" id="pw_aps_tag">\n        <\/script>\n        <script src="'.concat("https://cdn.intergient.com/pageos/1.10.40/",'amazon/aps.js"><\/script>\n    </head><body></body></html>'),e},Cn=function(e){if(document.body)document.body.appendChild(e);else{var t=new MutationObserver((function(){document.body&&(document.body.appendChild(e),t.disconnect())}));t.observe(document.documentElement,{childList:!0})}},Un=function(){window.PageOS.apstag={},window.PageOS.apstag.fetchBids=function(e,t){return new Promise((function(n){n(Dn(e,t))}))}},Dn=function(e,t){return new Promise((function(n){if(!e.length||e.length<1)n();else if(t||(t=2500),window.ramp.settings.apstagIframed){var i=document.getElementById("pw_aps_iframe");if(i&&i.contentWindow){var o={type:"_pwApsTag",message:"fetchBids",data:{slots:e,timeout:t}};o=JSON.stringify(o),i.contentWindow.postMessage(o,"*"),xn(t).then((function(e){n(e)}))}}else window.apstag.fetchBids({slots:e,timeout:t},(function(e){n(e)}))}))},Tn=function(){window.addEventListener("message",(function(e){try{if(!e.data)return;var t="string"==typeof e.data?JSON.parse(e.data):e.data,n=t.type,i=t.message;t.data;if("_pwApsTag"!==n)return;try{switch(i){case"getInitConfig":S.wS.info("Getting init config for iframed APS tag");var o=In();Ln(Pn,{type:"_pwApsTag",message:"initConfig",data:o});break;case"tagLoaded":S.wS.info("Iframed APS tag loaded"),window.ramp.settings.apstagLoaded=!0,window.ramp.settings.apstagIframed=!0,Un(),window.PageOS.BUS.emit("ApsTagLoaded");break;default:return}}catch(e){}}catch(e){}}))},xn=function(e){return new Promise((function(t){var n=function e(n){try{if(!n.data)return;var i="string"==typeof n.data?JSON.parse(n.data):n.data,o=i.type,a=i.message,r=i.bids;if("_pwApsTag"!==o)return;if(!r)return;try{"fetchBidsResponse"===a&&(window.removeEventListener("message",e),t(r))}catch(e){}}catch(e){}};window.addEventListener("message",n),e+=500,window.setTimeout((function(){window.removeEventListener("message",n),t(!1)}),e)}))},Ln=function(e,t){var n="string"==typeof t?t:JSON.stringify(t);e&&e.contentWindow&&e.contentWindow.postMessage(n,"*")};var Mn,Rn,Bn,jn="securepubads.g.doubleclick.net",Nn=!1,Fn=!1;window.PageOS.BUS.after("gotConfig",(function(e){var t,n,i,o,a;(!0===(null===(t=window.ramp)||void 0===t||null===(n=t.activeConfig)||void 0===n||null===(i=n.settings)||void 0===i?void 0:i.tpg_enabled)&&(Fn=!0),Fn)?Bn=(null===(o=window.ramp)||void 0===o||null===(a=o.activeConfig)||void 0===a?void 0:a.tpg_network)||null:e.isCOPPA?Mn="96780239":window.location.href.indexOf("coolmathgames.com")>-1?(Rn="45966600",Nn=!0):Mn="154013155"}));var Hn=function(){var e,t,n,i=null===(e=window.ramp)||void 0===e||null===(t=e.settings)||void 0===t||null===(n=t.units)||void 0===n?void 0:n.ros[0].code,o=i.indexOf(",");if(!o)return!1;var a=i.indexOf("/",o);return i.substring(o+1,a)},Vn=null===(bn=window.ramp)||void 0===bn||null===(Sn=bn.activeConfig)||void 0===Sn||null===(On=Sn.settings)||void 0===On?void 0:On.publisherId;const zn=function(){function e(){(0,i.Z)(this,e),(0,f.Z)(this,"_apiRegistered",!1),window.PageOS.pagePulse=window.PageOS.pagePulse||{},this.performanceObservers=[],this.userInteractionCaptured=!1,this.firstScrollCaptured=!1,this.lastScrollTimestamp=0,this.PUB_ID=null,this.WEBSITE_ID=null,this.CUSTOMADLSCRIPT=null,this.ADLSCRIPT=null,this.ADLIGHTNINGENABLED=!1,this.performanceObserver=null,this.configId=null,this.MODULE=window.PageOS.pagePulse,this.scrollListener=null}return(0,o.Z)(e,[{key:"init",value:function(){var e,t,n,i,o,a;this._registerPublicAPI();var r=(null===(e=window.ramp)||void 0===e||null===(t=e.activeConfig)||void 0===t?void 0:t.settings)||{};this.configId=(null===(n=window.ramp)||void 0===n||null===(i=n.activeConfig)||void 0===i?void 0:i.config_id)||null,this.PUB_ID=r.publisherId,this.WEBSITE_ID=null===(o=window.ramp)||void 0===o||null===(a=o.activeConfig)||void 0===a?void 0:a.id,this.CUSTOMADLSCRIPT=r.adLightningScript,this.ADLSCRIPT=this.CUSTOMADLSCRIPT||"https://tagan.adlightning.com/playwire/op.js",this.ADLIGHTNINGENABLED=r.adLightning&&!0===r.adLightning||this.CUSTOMADLSCRIPT;try{window.PerformanceObserver?(this.createObserver("navigation"),this.createObserver("resource"),this.createObserver("mark"),this.initFirstInteractionTracking(),S.JY.info("PwPerformanceObserver initialized successfully.")):S.JY.error("PerformanceObserver is not supported in this browser.")}catch(e){S.JY.error("Error initializing PwPerformanceObserver:",e)}}},{key:"createObserver",value:function(e){var t=this,n=new PerformanceObserver((function(n){n.getEntries().forEach((function(n){switch(e){case"navigation":t.handleNavigationEntries(n);break;case"resource":t.handleResourceEntries(n);break;case"mark":t.handleCustomMarks(n)}}))}));"mark"===e?n.observe({entryTypes:[e]}):n.observe({type:e,buffered:!0}),this.performanceObservers.push(n)}},{key:"initFirstInteractionTracking",value:function(){var e=this;this.scrollListener=function(){e.handleUserInteraction(),e.handleFirstScroll(),e.lastScrollTimestamp=performance.now()},window.addEventListener("scroll",this.scrollListener,{passive:!0});["click","keydown","mousemove"].forEach((function(t){window.addEventListener(t,e.handleUserInteraction.bind(e))})),window.addEventListener("beforeunload",this.handleBeforeUnload.bind(this))}},{key:"handleCustomMarks",value:function(e){var t;if("pw_page_analytics_events"===(null===(t=e.detail)||void 0===t?void 0:t.source)){var n=null;if(e.detail.ad_details&&(n={slot_id:e.detail.ad_details.slot_id,unit_type:e.detail.ad_details.unit_type,refresh_count:e.detail.ad_details.refresh_count,size_delivered:e.detail.ad_details.size_delivered||null},"slotAdRequestStart"===e.name&&(n={slot_id:e.detail.ad_details.slot_id,unit_type:e.detail.ad_details.unit_type,refresh_count:e.detail.ad_details.refresh_count,size_requested:e.detail.ad_details.size_requested||null})),S.JY.info(e.name,"Start Time: ".concat(e.startTime," Details: ").concat(JSON.stringify(n))),window.PageOS.benchmarks.trackPageAnalytics(e.name,e.startTime,performance.timeOrigin+e.startTime,n,this.configId,"firstInteraction"===e.name?"".concat(e.detail.type):void 0),e.startTime>0){var i=null,o=null,a=null,r=null;"number"==typeof e.startTime&&"videoAdRequestStart"===e.name&&e.startTime>0?(i=e.startTime,window.PageOS.BUS.emit("cornerAdVideoGamRqSt",i)):"number"==typeof e.startTime&&"videoAdRequestEnd"===e.name&&e.startTime>0?(o=e.startTime,window.PageOS.BUS.emit("cornerAdVideoGamRqEn",o)):"number"==typeof e.startTime&&"boltVideoAdRequestStart"===e.name&&e.startTime>0?(a=e.startTime,window.PageOS.BUS.emit("boltGamRqSt",a)):"number"==typeof e.startTime&&"boltVideoAdRequestEnd"===e.name&&e.startTime>0&&(r=e.startTime,window.PageOS.BUS.emit("boltGamRqEn",r))}}}},{key:"handleFirstScroll",value:function(){this.firstScrollCaptured||(this.firstScrollCaptured=!0,window.performance.mark("scrollEventStart",{detail:{source:"pw_page_analytics_events",type:"scrollEventStart"}}))}},{key:"handleUserInteraction",value:function(e){this.userInteractionCaptured||(window.performance.mark("firstInteraction",{detail:{source:"pw_page_analytics_events",type:"".concat(null==e?void 0:e.type)}}),this.userInteractionCaptured=!0,window.removeEventListener("click",this.handleUserInteraction),window.removeEventListener("keydown",this.handleUserInteraction),window.removeEventListener("mousemove",this.handleUserInteraction))}},{key:"handleBeforeUnload",value:function(){var e,t=this.lastScrollTimestamp;null===(e=window.performance)||void 0===e||e.mark("scrollEventEnd",{detail:{source:"pw_page_analytics_events",type:"scrollEventEnd",pf_dr:"".concat(t)}})}},{key:"handleNavigationEntries",value:function(e){0!==e.domComplete&&(this.logDomInteractive(e.domInteractive),this.logDomContentLoaded(e.domContentLoadedEventStart,e.domContentLoadedEventEnd),this.logLoadEvent(e.loadEventStart,e.loadEventEnd),this.logDomComplete(e.domComplete))}},{key:"handleResourceEntries",value:function(e){this.isSpecificResource(e)&&this.logResourceTiming(e)}},{key:"mapResourceToEventNames",value:function(e){return e.includes("ramp_config.js")||e.includes("ramp.js")?"rampConfigLoadedEvent":e.includes("ramp_core.js")?"rampCoreLoadedEvent":e.includes("script.js")?"cleanioLoadedEvent":e.includes("gpt.js")?"gptLoadedEvent":this.ADLIGHTNINGENABLED&&e.includes(this.ADLSCRIPT)?"adLightningLoadedEvent":e.includes("".concat(Mn,"%3A").concat(Hn()))||e.includes("".concat(Mn,"%2C").concat(Vn))||e.includes("".concat(Rn,"%2Cpw"))||e.includes("".concat(Bn))?"gptAdRequestMadeEvent":void 0}},{key:"isSpecificResource",value:function(e){var t=this,n=Hn(),i="";i=n?e.name.match(new RegExp("".concat(jn,".*").concat(Mn,"%3A").concat(n))):Nn?e.name.match(new RegExp("".concat(jn,".*").concat(Rn,"%2Cpw"))):Fn?e.name.match(new RegExp("".concat(jn,".*").concat(Bn))):e.name.match(new RegExp("".concat(jn,".*").concat(Mn,"%2C").concat(Vn)));var o=[(e.name&&null!==i&&e).name,this.ADLIGHTNINGENABLED?this.ADLSCRIPT:null,"https://securepubads.g.doubleclick.net/tag/js/gpt.js","https://cadmus.script.ac/d25lqe4mlyaln6/script.js","https://cdn.intergient.com/ramp_core.js"].concat((0,rt.Z)(["ramp.js","ramp_config.js"].map((function(e){return"https://cdn.intergient.com/".concat(t.PUB_ID,"/").concat(t.WEBSITE_ID,"/").concat(e)}))));return("script"===e.initiatorType||"xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType)&&o.includes(e.name)}},{key:"logResourceTiming",value:function(e){var t=this.mapResourceToEventNames(e.name);t&&this.logTiming(e,t,"startTime","responseEnd")}},{key:"logTiming",value:function(e,t,n,i){var o=window.performance.timeOrigin+e[n],a=window.performance.timeOrigin+e[i];if(S.JY.info("".concat(t,"Start:"),e[n]),S.JY.info("".concat(t,"End:"),e[i]),window.PageOS.benchmarks.trackPageAnalytics("".concat(t,"Start"),e[n],o,null,this.configId),window.PageOS.benchmarks.trackPageAnalytics("".concat(t,"End"),e[i],a,null,this.configId),"gptAdRequestMadeEvent"===t){var r=e[i]-e[n];window.PageOS.BUS.emit("gamRqTm",r)}}},{key:"logDomInteractive",value:function(e){var t=window.performance.timeOrigin+e;S.JY.info("domInteractive:",e),window.PageOS.benchmarks.trackPageAnalytics("domInteractive",e,t,null,this.configId)}},{key:"logDomContentLoaded",value:function(e,t){var n=window.performance.timeOrigin+e,i=window.performance.timeOrigin+t;S.JY.info("domContentLoadedEventStart:",e),S.JY.info("domContentLoadedEventEnd:",t),window.PageOS.benchmarks.trackPageAnalytics("domContentLoadedEventStart",e,n,null,this.configId),window.PageOS.benchmarks.trackPageAnalytics("domContentLoadedEventEnd",t,i,null,this.configId)}},{key:"logLoadEvent",value:function(e,t){var n=window.performance.timeOrigin+e,i=window.performance.timeOrigin+t;S.JY.info("loadEventStart:",e),S.JY.info("loadEventEnd:",t),window.PageOS.benchmarks.trackPageAnalytics("loadEventStart",e,n,null,this.configId),window.PageOS.benchmarks.trackPageAnalytics("loadEventEnd",t,i,null,this.configId)}},{key:"logDomComplete",value:function(e){var t=window.performance.timeOrigin+e;S.JY.info("domComplete:",e),window.PageOS.benchmarks.trackPageAnalytics("domComplete",e,t,null,this.configId)}},{key:"disconnectObserver",value:function(){this.performanceObservers.forEach((function(e){e.disconnect()})),this.performanceObservers=[]}},{key:"markPerformanceEvent",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;null===(t=window.performance)||void 0===t||t.mark(e,{detail:{source:"pw_page_analytics_events",type:e,ad_details:{unit_type:(null==n?void 0:n.unit_type)||null,slot_id:(null==n?void 0:n.slot_id)||null,refresh_count:null==n?void 0:n.refresh_count}}})}},{key:"_registerPublicAPI",value:function(){this._apiRegistered||(this._apiRegistered=!0,this.MODULE.markPerformanceEvent=this.markPerformanceEvent.bind(this))}}]),e}();window.PageOS=window.PageOS||{},window.pwEdgeFlags=window.pwEdgeFlags||{},window.tyche=window.ramp||window.tyche,window.ramp=window.tyche,window.ramp.activeConfig=window.ramp.activeConfig||window.ramp.mvpConfig;var Zn=document.getElementById("tyche")||document.getElementById("ramp"),qn=Zn&&Zn.dataset.delay,Wn=parseInt(qn,10);window.PageOS.adsPerformance=window.PageOS.adsPerformance||window.ramp&&void 0!==window.ramp.activeConfig,isNaN(Wn)||(window.PageOS.delay=Wn),window.PageOS.version="1.10.40",function(){if(window.PageOS.domReadyPromise=new Promise((function(e){"interactive"===document.readyState||"complete"===document.readyState?(ft(),e()):document.addEventListener("DOMContentLoaded",(function(){ft(),e()}))})),window.PageOS.scrollTriggered=!1,window.addEventListener("scroll",(function e(){window.removeEventListener("scroll",e),window.PageOS.BUS.emit("userScrollTriggered"),window.PageOS.scrollTriggered=!0,window.ramp&&(window.ramp.settings&&(window.ramp.settings.scrollTriggered=!0),"function"==typeof window.ramp.userEventCallback&&window.ramp.userEventCallback("Scroll"))})),window.PageOS.clickTriggered=!1,window.addEventListener("click",(function e(){window.removeEventListener("click",e),window.PageOS.BUS.emit("userClickTriggered"),window.PageOS.clickTriggered=!0,window.ramp&&(window.ramp.settings&&(window.ramp.settings.clickTriggered=!0),"function"==typeof window.ramp.userEventCallback&&window.ramp.userEventCallback("Click"))})),!(window.pwEdgeFlags&&!0===window.pwEdgeFlags.disablePerformanceMetrics||window.location.hash.includes("disablePerformanceMetrics"))){var e=$t()((function(){on()}),1e3);window.addEventListener("resize",e);var t=tn()(cn,500);window.addEventListener("scroll",t);void 0!==document.visibilityState&&window.document.addEventListener("visibilitychange",(function(){"hidden"!==document.visibilityState?setTimeout(un,0):S.hR.info("Focus OUT")}))}}(),window.location.href.indexOf("coolmathgames.com")>-1&&"string"==typeof window.ramp.config&&it({url:window.ramp.config,method:"get",timestamp:Date.now()}).then((function(e){var t=e.data;window.PageOS.BUS.emit("gotConfigCMG",JSON.parse(t))})).catch((function(){S.ZP.error("Unable to fetch CMG platform config.")}));var Gn=function(e){!function(e){window.PageOS.zctaLookup=window.PageOS.zctaLookup||{};var t=window.PageOS.zctaLookup,n=(0,p.DP)("zip");t.dataPromise=new Promise((function(i){if(t.data=!1,void 0!==window.pwEdgeFlags||n)if(n&&(window.pwEdgeFlags=window.pwEdgeFlags||{},window.pwEdgeFlags.zipCode=n),"US"!==e.countryCode||window._pwUserInCA||e.isCOPPA)i();else{if(void 0!==window.pwEdgeFlags.zcta)return t.data=window.pwEdgeFlags.zcta,void i();var o=window.pwEdgeFlags.zipCode,a="".concat("https://cdn.intergi.com","/zctas/").concat(o,"/params.json");if("string"!=typeof o||5!==o.length)return S.Vj.error("No zip code provided"),void i();var r=new XMLHttpRequest;r.open("GET",a,!0),r.onload=function(){try{t.data=JSON.parse(r.responseText),i()}catch(e){S.Vj.error("Error fetching zctas data for zip code.",{zipCode:o}),i()}},r.onerror=function(){S.Vj.error("Error fetching zctas data from CDN"),i()},r.send()}else i()}))}(e),R(e),new Ut(e),window.PageOS.BUS.after("userData_ready",(function(){return new It(e)})),window.PageOS.BUS.after("userData_ready",(function(){return function(){if(!0===window.ramp.settings.config.settings.magniteData&&!0!==window.PageOS.gdpr.userInEU&&!0===window.PageOS.userData.ready){var e=document.createElement("script");e.type="text/javascript",e.text='!function(a,l,b,c,k,s,t,g,A){a.CustomerConnectAnalytics=k,a[k]=a[k]||function(){ (a[k].q=a[k].q||[]).push(arguments)},g=l.createElement(b),A=l.getElementsByTagName(b)[0],g.type="text/javascript",g.async=!0,g.src=c+"?id="+s+"&parentId="+t,A.parentNode.insertBefore(g,A) }(window,document,"script","//carbon-cdn.ccgateway.net/script","cca",window.location.hostname,"5bb3e20859");',document.head.appendChild(e)}}()})),window.PageOS.adUtils.adRequestCheck=Zt,window.PageOS.adUtils.calculateFloor=Wt,Gt();var t=!!(0,p.DP)("ccpa"),i=!(!window.ramp||!window.ramp.settings)&&window.ramp.settings.config;(new zn).init(),i&&i.settings.blockthrough&&yt(Qt,"Blockthrough script"),window.PageOS.ccpaApplies=window._pwUserInCA,window._pwUserInCA||t?n.e(693).then(n.bind(n,334)).catch((function(e){S.Mc.error("Error loading CCPA module.",e)})):(0,p.Do)("usprivacy")||(document.cookie="usprivacy=1---;path=/;max-age=33696000"),function(){var e,t;if(window.ramp=window.ramp||{},window.ramp.settings=window.ramp.settings||{},null!==(e=window.ramp.settings.config)&&void 0!==e&&null!==(t=e.settings)&&void 0!==t&&t.iframedApsTag)kn=window.ramp.settings.config.settings.iframedApsTag;else try{var n=En();null!=n&&n.iframedApsTag&&(kn=n.iframedApsTag)}catch(e){}if(kn){if(null!==document.getElementById("pw_aps_iframe"))return;window.PageOS.BUS.after("gdpr_ready",(function(){window.PageOS.gdpr&&window.PageOS.gdpr.isCOPPA||(Pn=An(),Cn(Pn),Tn())}))}else{var i=function(){if(window.ramp&&window.ramp.settings&&window.ramp.settings.apstagLoaded)window.PageOS.BUS.emit("ApsTagLoaded");else{var e=In();window.apstag.init(e,(function(){S.wS.info("Normal APS tag loaded"),window.ramp.settings.apstagLoaded=!0,window.ramp.settings.apstagIframed=!1,Un(),window.PageOS.BUS.emit("ApsTagLoaded")}))}};window.PageOS.BUS.after("gdpr_ready",(function(){window.PageOS.gdpr&&window.PageOS.gdpr.isCOPPA?(window.ramp.settings.apstagLoaded=!1,window.PageOS.BUS.emit("ApsTagLoaded")):_n(i)}))}}(),n.e(769).then(n.bind(n,278)).catch((function(e){S.ZP.error("Error loading nielsen module.",e)}))},Kn=function(){var e;(window.googletag||((e=document.createElement("script")).type="text/javascript",e.src="https://securepubads.g.doubleclick.net/tag/js/gpt.js",e.onload=function(){window.PageOS.BUS.emit("GPTReady")},document.head.appendChild(e)),yt(Yt,"ReportingObserver listener"),new g,yt(nt,"Prebid.js"),L(),Ce(),yt(yn,"UID2"),fe(),ln(),window.PageOS.BUS.on("gotConfig",(function(e){window.location.href.indexOf("coolmathgames.com")>-1?window.PageOS.BUS.after("gotConfigCMG",(function(t){var n=t.settings,i=n.priceFloors,o=n.displayPriceFloors,a=n.videoPriceFloors,r=n.multipliers;void 0!==i&&(window.ramp.settings.config.settings.priceFloors=i),void 0!==o&&(window.ramp.settings.config.settings.displayPriceFloors=o),void 0!==a&&(window.ramp.settings.config.settings.videoPriceFloors=a),void 0!==r&&(window.ramp.settings.config.settings.multipliers=r),Gn(e)})):Gn(e)}),!0),window.PageOS.BUS.on("gotConfig",(function(e){!1===e.isCOPPA&&e.playerId&&(window.PageOS.userData.ready?window.PageOS.userData.initBoltTracking(e.playerId):window.PageOS.BUS.on("userData_ready",(function(){window.PageOS.userData.initBoltTracking(e.playerId)})))}),!1),window.ramp&&(window.ramp.config||window.PageOS.adsPerformance))&&(new _t).init();window.excludeMoat=window.pwEdgeFlags&&window.pwEdgeFlags.excludeMoat||window.excludeMoat,!0!==window.excludeMoat&&yt((function(){return new Te}),"MOAT")},Jn=function(e){var t,n,i;(t=void 0!==window.ramp,n=window.ramp&&"string"==typeof window.ramp.config,i=window.PageOS.adsPerformance,!t||n||i)?e():window.PageOS.run=function(){delete window.PageOS.run,e()}};void 0!==window.PageOS.delay?window.PageOS.domReadyPromise.then((function(){setTimeout((function(){Jn(Kn)}),window.PageOS.delay)})):Jn(Kn)},6296:(e,t,n)=>{"use strict";n.d(t,{$O:()=>s,M:()=>m,N6:()=>f,Rx:()=>a,kS:()=>u,q6:()=>g,ql:()=>l,vY:()=>w,ws:()=>r,yN:()=>p});var i=n(272);n(6337);var o=2147483645,a=function(e){var t=e.boltConfig,n=e.id,i=e.onReady,o=e.playerType,a=e.noPrerollHide,r=e.prerollAdAmt,s=e.prerollAdRefreshRetries,d=e.prerollAdRefreshTimeout,c=e.showOnComplete,u=e.adUnitType,l=e.adPodding;window.PageOS.benchmarks.trackStart("load_bolt_js_tag"),window.PageOS.BUS.on("boot_bolt_tag",(function(){window.PageOS.benchmarks.trackEnd("load_bolt_js_tag")}),!0);var p=document.createElement("script");p.src="https://cdn.playwire.com/bolt/js/zeus/embed.js",p.type="text/javascript",p.setAttribute("charset","utf-8");var g={id:n,width:"100%",height:"100%",config:t,onready:i};for(var w in"precontent"===o&&(g.hiddenContainer=c||"trendi_video_hidden_container_".concat(Date.now())),!0===a&&(g.noPrerollHide=!0),null!=r&&(g.prerollAdAmt=r,(s||d)&&(g.prerollAdRefreshRetries=s,g.prerollAdRefreshTimeout=d)),null!=u&&(g.adunitType=u),g.adPodding="on",void 0!==l&&(l.enabled?(g.minPodLength=0,g.maxPodLength=1e3*l.maxPodLength,g.maxPodAmount=l.maxPodAmount):g.adPodding="off"),g)p.dataset[w]=g[w];return p},r=function(e,t,n){if("publisher"===e||"trendi"===e){var i=window.ramp.settings.config.settings.publisherId;return"https://".concat("config.playwire.com","/").concat(i,"/playlists/v2/").concat(t,"/zeus.json")}return n},s=function(e,t,n,i,o){o=void 0!==o?o:.5;var a=new IntersectionObserver((function(e){return d(e,t,n,i,o)}),{root:null,rootMargin:"0px",threshold:o});return void 0!==i&&(i.lastScrollTop=0,i.scrollingUp=!0,i.observedElement=e),a.observe(e),a},d=function(e,t,n,i,o){var a=e[0],r=0===o?a.target:a.target.firstChild,s=0===(void 0!==o?o:.5)?a.intersectionRatio>0:a.intersectionRatio>=o,d=window.pageYOffset||document.documentElement.scrollTop;(i=void 0!==i?i:r)&&(i.scrollingUp=d<=i.lastScrollTop,i.lastScrollTop=d<=0?0:d),null!==r&&"SCRIPT"!==r.nodeName&&(s?t(i):n(i))},c=function(e){if(e&&-1===e.indexOf("bottom"))return!1;if(!0===window.ramp.tpsBottomRailEnabled)return!0;var t=window.ramp.settings.slots["pw-oop-bottom_rail"];return void 0!==t&&t.on},u=function(e,t){var n=10,a=c(e.location),r=void 0===e.location?"right-bottom":e.location,s=void 0===e.stickyH?e.player.parentNode.style.height:"".concat(e.stickyH,"px"),d=void 0===e.stickyW?e.player.parentNode.style.width:"".concat(e.stickyW,"px"),u=e.player,l=window.ramp.settings;(0,i.Z)(u.style,{height:s,"max-width":d,"max-height":s,position:"fixed",width:d,"z-index":t&&!t.isShowing?"-1":o,transition:"opacity 820ms cubic-bezier(0.230, 1.000, 0.320, 1.000)","-webkit-transition":"opacity 720ms cubic-bezier(0.230, 1.000, 0.320, 1.000)","box-shadow":"0px 0px 25px 0px rgba(50, 50, 50, 0.75)"}),void 0!==l.slots.sticky_video&&(l.slots.sticky_video.isDocked=!0),void 0!==l.slots.trendi_video&&(l.slots.trendi_video.isDocked=!0),u.classList.add("is-docked");var p=e.yOffset?e.yOffset:0;switch(r){case"left-top":u.classList.add("pw-pos-top-left"),(0,i.Z)(u.style,{left:"".concat(n,"px"),top:"".concat(42+p,"px"),bottom:"auto",right:"auto"});break;case"right-top":u.classList.add("pw-pos-top-right"),(0,i.Z)(u.style,{right:"".concat(n,"px"),top:"".concat(42+p,"px"),bottom:"auto",left:"auto"});break;case"left-bottom":u.classList.add("pw-pos-bottom-left"),(0,i.Z)(u.style,{bottom:"".concat(n+p,"px"),left:"".concat(n,"px"),top:"auto",right:"auto"});break;case"right-bottom":u.classList.add("pw-pos-bottom-right"),(0,i.Z)(u.style,{bottom:"".concat(n+p,"px"),right:"".concat(n,"px"),top:"auto",left:"auto"});break;case"sidebar":u.classList.add("pw-pos-sidebar"),(0,i.Z)(u.style,{top:e.navHeight?"".concat(e.navHeight,"px"):0,left:"auto"});break;case"top":u.classList.add("pw-pos-top"),(0,i.Z)(u.style,{left:0,"max-width":"100%",top:0,width:"100%"}),(0,i.Z)(u.firstChild.style,{height:s,margin:"auto",width:d})}if(a){var g=window.ramp.settings.slots["pw-oop-bottom_rail"],w=g?g.element.getBoundingClientRect().height:0;window.ramp.tpsBottomRailEnabled&&0===w&&(w=90);var f=window.ramp.settings.isMobile&&"right-bottom"===r&&w>0?"".concat(w+p+5,"px"):"".concat(w+p+20,"px");u.style.bottom=f}var m=document.querySelector("#pw-close-btn");null!==m&&(m.classList.remove("hide"),m.classList.add("show")),"top"===r&&window.PageOS.BUS.emit("trendi_video_top_docked")},l=function(e,t){var n=window.ramp.settings,a=e.classList.contains("bolt-ad-view");e.classList.remove("is-docked"),(0,i.Z)(e.style,{bottom:"".concat(a?"0px":"auto"),"box-shadow":"none",height:"100%",left:"".concat(a?"0px":"auto"),"max-height":"none","max-width":"none",position:"".concat(a?"absolute":"relative"),right:"".concat(a?"0px":"auto"),transition:"opacity 820ms cubic-bezier(0.230, 1.000, 0.320, 1.000)",top:"".concat(a?"0px":"auto"),width:"100%","z-index":t?o:0,"-webkit-transition":"opacity 720ms cubic-bezier(0.230, 1.000, 0.320, 1.000)"}),void 0!==n.slots.sticky_video&&(n.slots.sticky_video.isDocked=!1),void 0!==n.slots.trendi_video&&(n.slots.trendi_video.isDocked=!1);var r=document.querySelector("#pw-close-btn");null!==r&&(r.classList.remove("show"),r.classList.add("hide")),t&&window.PageOS.BUS.emit("trendi_video_top_docked")},p=function(e,t,n){var i=document.getElementById("pw-close-btn"),o=window.ramp.settings.device;if(null===i){i=document.createElement("span");var a=document.createElement("span"),r='style="stroke:rgb(255,255,255);stroke-width:3"';i.classList.add("bolt-close-button"),i.id="pw-close-btn",a.classList.add("circle"),a.innerHTML='<svg width="32" height="32"><circle cx="16" cy="16" r="16" fill="transparent" />'+'<line x1="11" y1="11" x2="21" y2="21" '.concat(r," />")+'<line x1="21" y1="11" x2="11" y2="21" '.concat(r," />")+"</svg>",i.appendChild(a),void 0!==n&&i.classList.add(n),i.addEventListener("mobile"===o||"tablet"===o?"touchstart":"click",(function(e){e.preventDefault(),e.stopPropagation(),t()})),"tyche_trendi_video_container"===e.id||"tyche_trendi_slideshow_container"===e.id||"_pw_trendi_slideshow"===e.id?e.insertAdjacentElement("beforeend",i):e.parentNode.insertAdjacentElement("beforeend",i)}return window.PageOS.BUS.emit("close_btn_built"),i},g=function(){var e=document.getElementById("pw-close-btn");e&&e.parentNode.removeChild(e)},w=function(e,t){var n=document.createElement("style"),i=t?".pw-close-btn-top {"+"right: ".concat((window.innerWidth-t[0])/4-16,"px !important;")+"top: 5px !important;}":"",a=document.createTextNode("#pw-close-btn {cursor: pointer;position: fixed;width: 32px;"+"z-index: ".concat(o,";")+"}.pw-close-btn-top.pw-close-btn-top--flex-docked {top: 75px !important;}.pw-close-btn-top.pw-close-btn-top--flex {top: 215px !important;}.pw-close-btn {position: absolute !important;left: 0px;top: 0px !important;}"+"".concat(i)+"#pw-close-btn.hide {display:none!important}#pw-close-btn.show {display:block!important}#pw-close-btn.bolt-linear-ad-on {display:none;}#pw-close-btn .circle {display:inline-block!important;font-family:sans-serif!important;line-height:0!important;width:32px;height:32px;}#tyche_trendi_video_container #pw-close-btn .circle {width:16px;height:16px;}");n.type="text/css",n.appendChild(a),document.head.appendChild(n)},f=function(e,t,n,i,o,a){var r=document.getElementById("sticky-video-styles"),s=document.getElementsByTagName("head")[0],d=document.createTextNode(function(e,t,n,i,o){var a,r,s,d;if(a=window.parseInt(i,10)+30,c(t)){var u=window.ramp.settings.slots["pw-oop-bottom_rail"];a+=(d=u?u.element.getBoundingClientRect().height:0)||0,d>0&&window.ramp.settings.isMobile&&window.innerWidth<435&&(a+=30)}switch(t){case"left-top":r=5,s=".bolt-close-button {"+"left: ".concat((n-20).toString(),"px;")+"top: ".concat(r.toString(),"px;")+"}";break;case"right-top":r=5,s=".bolt-close-button {"+"right: ".concat(10,"px;")+"top: ".concat(r.toString(),"px;")+"}";break;case"left-bottom":s=".bolt-close-button {"+"left: ".concat((n-21).toString(),"px;")+"bottom: ".concat(a,"px;")+"}";break;case"right-bottom":s=".bolt-close-button {"+"right: ".concat(10,"px;")+"bottom: ".concat(a,"px;")+"}";break;case"sidebar":s=".bolt-close-button {padding-right: 4px;"+"top: ".concat(o?"".concat(parseInt(o,10)-8,"px"):"-8px",";")+"width: ".concat(n,"px !important;")+"} .bolt-close-button #pw-close-btn-x {text-align: right !important;}"}return"\n            .placeholder-bg {\n                background-color: #eaeaea !important;\n                background-image: url(//cdn.playwire.com/sticky_video/pip_icon.png) !important;\n                background-repeat: no-repeat !important;\n                background-size: 60px !important;\n                background-position: center center !important;\n            }\n            .pw-animation {\n                transition: all 720ms cubic-bezier(0.230, 1.000, 0.320, 1.000);\n                -webkit-transition: all 720ms cubic-bezier(0.230, 1.000, 0.320, 1.000);\n            }\n            .no-pw-animation {\n                transition: opacity 720ms cubic-bezier(0.230, 1.000, 0.320, 1.000);\n                -webkit-transition: opacity 720ms cubic-bezier(0.230, 1.000, 0.320, 1.000);\n            }\n            .fade-out {\n                opacity: 0;\n            }\n            .show {\n                opacity: 1;\n            }\n            ".concat(s)}(0,n,i,o,a));if(r||((r=document.createElement("style")).type="text/css",r.id="sticky-video-styles",s.appendChild(r)),r.innerHTML="",r.appendChild(d),e){var u="50%";"desktop"!==t&&"tablet"!==t||(u="10px");var l=document.createElement("style"),p=document.createTextNode(function(e){return"\n            #scrolly-logger {\n                background: #ccc;\n                width: 10em;\n                box-shadow:  0px 0px 10px #000;\n                position: fixed;\n                text-align: center;\n                top: 0;\n                right: ".concat(e,";\n                border-collapse: collapse;\n                z-index: 2147483640;\n            }\n            #scrolly-logger tr,\n            #scrolly-logger td {\n                height: 20px;\n                border: 1px solid grey;\n            }")}(u));l.type="text/css",l.id="sticky-logger-styles",l.appendChild(p),s.appendChild(l)}},m=function(e){e.anchorDiv&&(e.anchorDiv.getBoundingClientRect().bottom<0&&(e.wasViewed=!0))};window.PageOS.videoHandler={buildScript:a,getBoltConfig:r,initIntersectionHandler:s,dockVideo:u,undockVideo:l,buildCloseBtn:p,destroyCloseBtn:g,setupGlobalCSS:w,checkWasViewed:m}},416:(e,t,n)=>{"use strict";n.d(t,{C:()=>s,G4:()=>c,Hf:()=>r,JY:()=>_,Mc:()=>l,O0:()=>f,Vj:()=>w,YT:()=>p,ZP:()=>b,ai:()=>m,cI:()=>g,cV:()=>u,hR:()=>v,k_:()=>h,u9:()=>d,wS:()=>y});var i={name:"pageos",version:"1.10.40"},o=window.location.hash.toLowerCase().indexOf("pageosdebug")>-1,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=window.PageOS.logger.get(e,{app:i});return t&&n.setLevel(n.DEBUG),n},r=a("GDPR"),s=a("KINESIS"),d=a("MOAT"),c=a("PREBID"),u=a("USERDATA"),l=a("TYCHE"),p=a("VIDEO"),g=a("BENCHMARKS"),w=a("ZCTA"),f=a("UID2"),m=a("DMP"),h=a("LOTAME"),v=a("METRICS",window.location.hash.toLowerCase().indexOf("metricsdebug")>-1),y=a("AMAZON"),_=a("PERFORMANCE");const b=a("DEBUG")},879:(e,t,n)=>{"use strict";n.d(t,{T8:()=>o,_v:()=>a,tq:()=>i});var i=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t},o=function(){return window.matchMedia("(orientation: portrait)").matches?"portrait":"landscape"},a=function(){return i()?"mobile":/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(navigator.userAgent.toLowerCase())?"tablet":"desktop"}},1401:(e,t,n)=>{"use strict";n.d(t,{$1:()=>m,DP:()=>g,Do:()=>p,FB:()=>_,Lq:()=>y,Mo:()=>w,QR:()=>h,jh:()=>v,kv:()=>f});var i=n(5861),o=n(4942),a=n(1002),r=n(4687),s=n.n(r),d=n(879),c=n(4549),u=n.n(c);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var p=function(e){var t=document.cookie.match("(^|[^;]+)\\s*".concat(e,"\\s*=\\s*([^;]+)"));return t?t.pop():""},g=function(e){e=e.replace(/[\[\]]/g,"\\$&");var t=window.location.href,n=new RegExp("[?&]".concat(e,"(=([^&#]*)|&|#|$)")).exec(t);return!!n&&(n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"")},w=function(){var e={};return window.location.search.replace(/^\?/,"").split("&").forEach((function(t){var n=t.split("="),i=n[0],o=n[1];e.hasOwnProperty(i)?Array.isArray(e[i])?e[i].push(o):e[i]=[e[i],o]:e[i]=o})),e},f=function(e){if(window.ramp.forcePath)return window.ramp.forcePath;for(var t=[],n=0;n<e.config.units.length;n++){var i=e.config.units[n].section.substr(3,e.config.units[n].section.length-4);-1===t.indexOf(i)&&e.config.units[n].section.indexOf("CP[/")>-1&&0===window.location.pathname.indexOf(i)&&t.push(i)}return t.length>0?t.reduce((function(e,t){return e.length>t.length?e:t})):null},m=function(){try{return window.Bolt.embeds[Object.keys(window.Bolt.embeds)[0]].config.video}catch(e){return!1}},h=function(){try{var e=window.Bolt.embeds[Object.keys(window.Bolt.embeds)[0]].config.video.advertising.servers,t=location.hostname.replace("www.",""),n=!1,i=!1;for(var r in e){if(!0===n)break;if(!r.includes("generic-")){var s=e[r].tags;for(var c in s)if(t===c){i=s[c],n=!0;break}}}if(i){var u=(0,d._v)();if(void 0!==(0,a.Z)(i.headerBidding)&&i.headerBidding&&i.headerBidding[u]){var p=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},i);return p.headerBidding=p.headerBidding[u],p}}return!1}catch(e){return!1}},v=function(){try{return window.ramp.settings.config}catch(e){return!1}},y=function(){var e=(0,i.Z)(s().mark((function e(t,n){var i,o,a,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!["SHA-1","SHA-256"].includes(n.toUpperCase())){e.next=8;break}return i=(new TextEncoder).encode(t),e.next=4,crypto.subtle.digest(n,i);case 4:return o=e.sent,a=Array.from(new Uint8Array(o)),r=a.map((function(e){return e.toString(16).padStart(2,"0")})).join(""),e.abrupt("return",r);case 8:return e.abrupt("return");case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_=function(e){return u()(e)}},9462:function(){var e=this;Object.values||(Object.values=function(e){for(var t=Object.keys(e),n=t.length,i=new Array(n);n--;)i[n]=e[t[n]];return i}),Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),n=t.length,i=new Array(n);n--;)i[n]=[t[n],e[t[n]]];return i}),String.prototype.includes||(String.prototype.includes=function(t,n){return t instanceof RegExp&&console.error("first argument must not be a RegExp"),void 0===n&&(n=0),-1!==e.indexOf(t,n)})},4478:(e,t,n)=>{"use strict";n.d(t,{PY:()=>o,z3:()=>i});var i=function(e,t){var n=document.createElement("script");n.innerHTML="\n        (function () {\n            var _pw_".concat(t,"_xhr = new XMLHttpRequest();\n            _pw_").concat(t,"_xhr.onreadystatechange = () => {\n                if (_pw_").concat(t,"_xhr.readyState === 4) {\n                    if (_pw_").concat(t,"_xhr.status === 200) {\n                        window.PageOS.BUS.emit('").concat(t,"', _pw_").concat(t,"_xhr.responseText);\n                    } else {\n                        window.PageOS.BUS.emit('").concat(t,"', null);\n                    }\n                }\n            };\n            _pw_").concat(t,"_xhr.open('GET', '").concat(e,"', true);\n            _pw_").concat(t,"_xhr.send();\n        })();\n    "),document.body.appendChild(n)},o=function(e,t){var n=[],i=(e=(new DOMParser).parseFromString(e,"text/xml")).getElementsByTagName("item"),o=t.imageSelector,r=t.titleSelector?t.titleSelector:"<title>",s=t.linkSelector?t.linkSelector:"<link>";if(i&&0!==i.length){var d=/<(.*?)>/g,c=/\[(.*?)\]/g,u=o.match(d),l=o.match(c),p=r.match(d),g=r.match(c),w=s.match(d),f=s.match(c);if(u&&p&&w){for(var m=0;m<i.length;m++){var h=i[m],v=a(u,l,h);if(Array.isArray(window.ramp.RSS_IMAGES)&&window.ramp.RSS_IMAGES.length>0&&(v=window.ramp.RSS_IMAGES[m]),Array.isArray(t.imageUrls)&&t.imageUrls[m]&&(v=t.imageUrls[m]),v){var y=a(p,g,h);if(y){var _=a(w,f,h);if(_){var b={title:y,url:_,thumbnail:v};n.push(b)}}}}return n}}},a=function(e,t,n){var i=new DOMParser;return e.forEach((function(e){var t=e.slice(1,e.length-1);n&&((n=n.getElementsByTagName(t)[0])&&0===n.innerHTML.trim().indexOf("<![CDATA")||n&&0===n.innerHTML.trim().indexOf("&"))&&(n=i.parseFromString(n.textContent,"text/html"))})),n?t&&t[0]?n.getAttribute(t[0].slice(1,t[0].length-1)):n.textContent:null}}},e=>{var t=t=>e(e.s=t);e.O(0,[19,957,610,554,128,583,581,286,902,568,409,833],(()=>(t(1583),t(851),t(5524))));var n=e.O();pageos=n}]);