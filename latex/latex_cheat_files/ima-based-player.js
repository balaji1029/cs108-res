!function(){function e(e){const M=e.getUserRequestContext(),n=e.getAdsManager(M.element);M.logger.debug(`[${M.id}] Ads Manager loaded`),n.setVolume(0);const d=t.bind(null,M),a=i.bind(null,M);n.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,a),n.addEventListener(google.ima.AdEvent.Type.LOADED,d),n.addEventListener(google.ima.AdEvent.Type.STARTED,d),n.addEventListener(google.ima.AdEvent.Type.AD_BREAK_FETCH_ERROR,d),n.addEventListener(google.ima.AdEvent.Type.PAUSED,d),n.addEventListener(google.ima.AdEvent.Type.RESUMED,d),n.addEventListener(google.ima.AdEvent.Type.FIRST_QUARTILE,d),n.addEventListener(google.ima.AdEvent.Type.MIDPOINT,d),n.addEventListener(google.ima.AdEvent.Type.THIRD_QUARTILE,d),n.addEventListener(google.ima.AdEvent.Type.IMPRESSION,d),n.addEventListener(google.ima.AdEvent.Type.SKIPPED,d),n.addEventListener(google.ima.AdEvent.Type.LOG,d),n.addEventListener(google.ima.AdEvent.Type.VOLUME_CHANGED,d),n.addEventListener(google.ima.AdEvent.Type.VOLUME_MUTED,d),n.addEventListener(google.ima.AdEvent.Type.INTERACTION,d),n.addEventListener(google.ima.AdEvent.Type.CLICK,d),n.addEventListener(google.ima.AdEvent.Type.COMPLETE,d),n.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,d);const o=new MutationObserver(((e,i)=>{for(const t of e)"attributes"===t.type&&"data-google-query-id"===t.attributeName&&(g(M),i.disconnect())}));o.observe(M.element,{attributes:!0,childList:!1,subtree:!1}),M.containerMutationObserver=o,M.adsManager=n,M.logger.debug(`[${M.id}] Ready to play ads`),function(e){e.adDisplayContainer.initialize(),e.logger.debug(`[${e.id}] Ads Container initialized`);try{e.adsManager.init(e.size.width,e.size.height,google.ima.ViewMode.NORMAL),e.adsManager.start(),window.PageOS.pagePulse.markPerformanceEvent("videoAdRequestEnd"),e.logger.debug(`[${e.id}] Ads Manager started playback`)}catch(i){throw e.logger.error(`[${e.id}] Error happened during Ads Manager starting phase`,i),i}}(M)}function i(e,i){const t=e.bid.amazonBid?"amazon":"prebid",n=i.getError();if(e.logger.error(`[${e.id}] IMA Error`,{adId:e.adId,provider:e.isCornerVideo?"corner_ad_video":t,bid:e.bid,error:n}),window.PageOS.pagePulse.markPerformanceEvent("videoAdRequestEnd"),e.adEventLogger.info("Video ad response fail for",e.id),e.isCornerVideo&&n&&n.data&&(1009===n.data.errorCode||303===n.data.errorCode))return window.ramp.handleBlankCornerVideoAd(e.id),void(window.pwEdgeFlags&&(void 0!==window.pwEdgeFlags.videoUnfilledEvent&&!0!==window.pwEdgeFlags.videoUnfilledEvent||M(e,null)));try{const i=e.adsManager?.getCurrentAd()?.data?.adSystem,t=e.adsManager?.getCurrentAd()?.data?.adId;window.ramp.softRefreshVideoAd(e.id,t||e.adId,i)}catch(i){e.logger.error(`[${e.id}] Error happens during soft refresh`,i),window.ramp.refreshVideoAd(e.id)}}function t(e,i){e.logger.debug(`[${e.id}] IMA Event - ${i.type}`);const t=i&&i.ad;switch(i.type){case google.ima.AdEvent.Type.LOADED:!function(e){e.impressionTriggered=!1}(e),e.element.querySelectorAll("video").forEach((e=>{e.muted=!0,e.setAttribute("muted","")})),e.logger.debug(`[${e.id}] Video mute fix called`),function(e){const i="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgZmlsdGVyPSJ1cmwoI2ZpbHRlcjBfZF8xMjA5XzE5NykiPgo8cGF0aCBkPSJNMTAuNDA2MiAwLjA4MzYzODdDMTAuNzUgMC4yMzk3NjQgMTEgMC42MTQ0NjYgMTEgMC45ODkxNjdWMTIuOTc5NkMxMSAxMy4zODU1IDEwLjc1IDEzLjcyOSAxMC40MDYyIDEzLjkxNjRDMTAuMDMxMiAxNC4wNzI1IDkuNjI1IDE0LjAxIDkuMzEyNSAxMy43MjlMNS4wOTM3NSA5Ljk4MkgzQzEuODc1IDkuOTgyIDEgOS4xMDc2OSAxIDcuOTgzNTlWNS45ODUxOEMxIDQuODkyMzEgMS44NzUgMy45ODY3OCAzIDMuOTg2NzhINS4wOTM3NUw5LjMxMjUgMC4yNzA5ODlDOS42MjUgLTAuMDEwMDM2NiAxMC4wMzEyIC0wLjA3MjQ4NjkgMTAuNDA2MiAwLjA4MzYzODdaTTE2Ljc4MTIgMi4zMzE4NUMxOC4xMjUgMy40NTU5NSAxOSA1LjExMDg4IDE5IDYuOTg0MzlDMTkgOC44ODkxMiAxOC4xMjUgMTAuNTQ0IDE2Ljc4MTIgMTEuNjM2OUMxNi40Mzc1IDExLjkxOCAxNS45Njg4IDExLjg1NTUgMTUuNzE4OCAxMS41NDMzQzE1LjQzNzUgMTEuMjMxIDE1LjUgMTAuNzYyNiAxNS44MTI1IDEwLjQ4MTZDMTYuODQzOCA5LjY2OTc1IDE3LjUgOC40MjA3NCAxNy41IDYuOTg0MzlDMTcuNSA1LjU3OTI2IDE2Ljg0MzggNC4zMzAyNSAxNS44MTI1IDMuNTE4NEMxNS41IDMuMjM3MzcgMTUuNDY4OCAyLjc2OSAxNS43MTg4IDIuNDU2NzVDMTUuOTY4OCAyLjE0NDUgMTYuNDM3NSAyLjA4MjA1IDE2Ljc4MTIgMi4zMzE4NVpNMTMuODc1IDQuNjczNzNDMTQuNTYyNSA1LjIzNTc4IDE1IDYuMDQ3NjMgMTUgNi45ODQzOUMxNSA3Ljk1MjM3IDE0LjU2MjUgOC43NjQyMiAxMy44NzUgOS4zMjYyN0MxMy41NjI1IDkuNTc2MDcgMTMuMDkzOCA5LjU0NDg1IDEyLjgxMjUgOS4yMDEzN0MxMi41NjI1IDguODg5MTIgMTIuNjI1IDguNDIwNzQgMTIuOTM3NSA4LjE3MDk0QzEzLjI4MTIgNy44ODk5MiAxMy41IDcuNDUyNzYgMTMuNSA2Ljk4NDM5QzEzLjUgNi41MTYwMSAxMy4yODEyIDYuMTEwMDggMTIuOTM3NSA1LjgyOTA2QzEyLjYyNSA1LjU3OTI2IDEyLjU2MjUgNS4xMTA4OCAxMi44MTI1IDQuNzY3NDFDMTMuMDkzOCA0LjQ1NTE1IDEzLjU2MjUgNC40MjM5MyAxMy44NzUgNC42NzM3M1oiIGZpbGw9IndoaXRlIi8+CjwvZz4KPGRlZnM+CjxmaWx0ZXIgaWQ9ImZpbHRlcjBfZF8xMjA5XzE5NyIgeD0iMCIgeT0iMCIgd2lkdGg9IjIwIiBoZWlnaHQ9IjE2IiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiI+CjxmZUZsb29kIGZsb29kLW9wYWNpdHk9IjAiIHJlc3VsdD0iQmFja2dyb3VuZEltYWdlRml4Ii8+CjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIiByZXN1bHQ9ImhhcmRBbHBoYSIvPgo8ZmVPZmZzZXQgZHk9IjEiLz4KPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMC41Ii8+CjxmZUNvbXBvc2l0ZSBpbjI9ImhhcmRBbHBoYSIgb3BlcmF0b3I9Im91dCIvPgo8ZmVDb2xvck1hdHJpeCB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMC4yNSAwIi8+CjxmZUJsZW5kIG1vZGU9Im5vcm1hbCIgaW4yPSJCYWNrZ3JvdW5kSW1hZ2VGaXgiIHJlc3VsdD0iZWZmZWN0MV9kcm9wU2hhZG93XzEyMDlfMTk3Ii8+CjxmZUJsZW5kIG1vZGU9Im5vcm1hbCIgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93XzEyMDlfMTk3IiByZXN1bHQ9InNoYXBlIi8+CjwvZmlsdGVyPgo8L2RlZnM+Cjwvc3ZnPgo=",t="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgZmlsdGVyPSJ1cmwoI2ZpbHRlcjBfZF8xMjA5XzE4MSkiPgo8cGF0aCBkPSJNMTAuNDE0NCAwLjA5MzQwNDNDMTAuNzU4NSAwLjI0OTUzIDExLjAwODcgMC42MjQyMzEgMTEuMDA4NyAwLjk5ODkzMlYxMi45ODk0QzExLjAwODcgMTMuMzk1MyAxMC43NTg1IDEzLjczODggMTAuNDE0NCAxMy45MjYxQzEwLjAzOTEgMTQuMDgyMyA5LjYzMjQ5IDE0LjAxOTggOS4zMTk3MiAxMy43Mzg4TDUuMDk3MzEgOS45OTE3NkgzLjAwMTc0QzEuODc1NzYgOS45OTE3NiAxIDkuMTE3NDYgMSA3Ljk5MzM2VjUuOTk0OTVDMSA0LjkwMjA3IDEuODc1NzYgMy45OTY1NCAzLjAwMTc0IDMuOTk2NTRINS4wOTczMUw5LjMxOTcyIDAuMjgwNzU1QzkuNjMyNDkgLTAuMDAwMjcxMDIyIDEwLjAzOTEgLTAuMDYyNzIxMiAxMC40MTQ0IDAuMDkzNDA0M1pNMTQuMjkyOCA0LjIxNTEyTDE2LjAxMyA1LjkzMjVMMTcuNzMzMyA0LjIxNTEyQzE4LjAxNDggMy45MzQwOSAxOC40ODM5IDMuOTM0MDkgMTguNzY1NCA0LjIxNTEyQzE5LjA3ODIgNC41MjczNyAxOS4wNzgyIDQuOTk1NzUgMTguNzY1NCA1LjI3Njc3TDE3LjA0NTIgNi45OTQxNUwxOC43NjU0IDguNzExNTNDMTkuMDc4MiA5LjAyMzc4IDE5LjA3ODIgOS40OTIxNiAxOC43NjU0IDkuNzczMTlDMTguNDgzOSAxMC4wODU0IDE4LjAxNDggMTAuMDg1NCAxNy43MzMzIDkuNzczMTlMMTYuMDEzIDguMDU1ODFMMTQuMjkyOCA5Ljc3MzE5QzEzLjk4IDEwLjA4NTQgMTMuNTEwOSAxMC4wODU0IDEzLjIyOTQgOS43NzMxOUMxMi45MTY2IDkuNDkyMTYgMTIuOTE2NiA5LjAyMzc4IDEzLjIyOTQgOC43MTE1M0wxNC45NDk2IDYuOTk0MTVMMTMuMjI5NCA1LjI3Njc3QzEyLjkxNjYgNC45OTU3NSAxMi45MTY2IDQuNTI3MzcgMTMuMjI5NCA0LjIxNTEyQzEzLjUxMDkgMy45MzQwOSAxMy45OCAzLjkzNDA5IDE0LjI5MjggNC4yMTUxMloiIGZpbGw9IndoaXRlIi8+CjwvZz4KPGRlZnM+CjxmaWx0ZXIgaWQ9ImZpbHRlcjBfZF8xMjA5XzE4MSIgeD0iMCIgeT0iMC4wMDk3NjU2MiIgd2lkdGg9IjIwIiBoZWlnaHQ9IjE2IiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiI+CjxmZUZsb29kIGZsb29kLW9wYWNpdHk9IjAiIHJlc3VsdD0iQmFja2dyb3VuZEltYWdlRml4Ii8+CjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIiByZXN1bHQ9ImhhcmRBbHBoYSIvPgo8ZmVPZmZzZXQgZHk9IjEiLz4KPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMC41Ii8+CjxmZUNvbXBvc2l0ZSBpbjI9ImhhcmRBbHBoYSIgb3BlcmF0b3I9Im91dCIvPgo8ZmVDb2xvck1hdHJpeCB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMC4yNSAwIi8+CjxmZUJsZW5kIG1vZGU9Im5vcm1hbCIgaW4yPSJCYWNrZ3JvdW5kSW1hZ2VGaXgiIHJlc3VsdD0iZWZmZWN0MV9kcm9wU2hhZG93XzEyMDlfMTgxIi8+CjxmZUJsZW5kIG1vZGU9Im5vcm1hbCIgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93XzEyMDlfMTgxIiByZXN1bHQ9InNoYXBlIi8+CjwvZmlsdGVyPgo8L2RlZnM+Cjwvc3ZnPgo=",M="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgZmlsdGVyPSJ1cmwoI2ZpbHRlcjBfZF8xMjA5XzE5OCkiPgo8cGF0aCBkPSJNNi4wNTcxNyAxMC4xNTM5SDQuNTc0MjJMNi44MzM4MSAzLjYwODRIOC42MTcxOUwxMC44NzM2IDEwLjE1MzlIOS4zOTA2Mkw3Ljc1MTA3IDUuMTA0MTRINy42OTk5M0w2LjA1NzE3IDEwLjE1MzlaTTUuOTY0NDkgNy41ODEwNUg5LjQ2NzMzVjguNjYxMzFINS45NjQ0OVY3LjU4MTA1WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTEzLjk4MTcgMTAuMTUzOUgxMS42NjE0VjMuNjA4NEgxNC4wMDA5QzE0LjY1OTMgMy42MDg0IDE1LjIyNiAzLjczOTQ0IDE1LjcwMTIgNC4wMDE1MUMxNi4xNzYzIDQuMjYxNDUgMTYuNTQxNyA0LjYzNTM5IDE2Ljc5NzQgNS4xMjMzMUMxNy4wNTUyIDUuNjExMjQgMTcuMTg0MSA2LjE5NTA1IDE3LjE4NDEgNi44NzQ3M0MxNy4xODQxIDcuNTU2NTUgMTcuMDU1MiA4LjE0MjQ5IDE2Ljc5NzQgOC42MzI1NUMxNi41NDE3IDkuMTIyNiAxNi4xNzQyIDkuNDk4NjcgMTUuNjk0OCA5Ljc2MDc0QzE1LjIxNzUgMTAuMDIyOCAxNC42NDY1IDEwLjE1MzkgMTMuOTgxNyAxMC4xNTM5Wk0xMy4wNDUzIDguOTY4MTNIMTMuOTI0MkMxNC4zMzMzIDguOTY4MTMgMTQuNjc3NCA4Ljg5NTY5IDE0Ljk1NjUgOC43NTA4QzE1LjIzNzcgOC42MDM3OCAxNS40NDg3IDguMzc2ODYgMTUuNTg5MyA4LjA3MDA1QzE1LjczMjEgNy43NjExIDE1LjgwMzQgNy4zNjI2NiAxNS44MDM0IDYuODc0NzNDMTUuODAzNCA2LjM5MTA3IDE1LjczMjEgNS45OTU4MyAxNS41ODkzIDUuNjg5MDFDMTUuNDQ4NyA1LjM4MjE5IDE1LjIzODggNS4xNTYzNCAxNC45NTk3IDUuMDExNDVDMTQuNjgwNiA0Ljg2NjU3IDE0LjMzNjUgNC43OTQxMiAxMy45Mjc0IDQuNzk0MTJIMTMuMDQ1M1Y4Ljk2ODEzWiIgZmlsbD0id2hpdGUiLz4KPC9nPgo8ZyBmaWx0ZXI9InVybCgjZmlsdGVyMV9kXzEyMDlfMTk4KSI+CjxwYXRoIGQ9Ik0xLjg0ODQ4IDAuNzVIMjAuMTUxNUMyMC4yMDU5IDAuNzUgMjAuMjUgMC43OTQwOTIgMjAuMjUgMC44NDg0ODVWMTMuMTUxNUMyMC4yNSAxMy4yMDU5IDIwLjIwNTkgMTMuMjUgMjAuMTUxNSAxMy4yNUgxLjg0ODQ4QzEuNzk0MDkgMTMuMjUgMS43NSAxMy4yMDU5IDEuNzUgMTMuMTUxNVYwLjg0ODQ4NUMxLjc1IDAuNzk0MDkzIDEuNzk0MDkgMC43NSAxLjg0ODQ4IDAuNzVaIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjEuNSIgc2hhcGUtcmVuZGVyaW5nPSJjcmlzcEVkZ2VzIi8+CjwvZz4KPGRlZnM+CjxmaWx0ZXIgaWQ9ImZpbHRlcjBfZF8xMjA5XzE5OCIgeD0iMy41NzQyMiIgeT0iMy42MDg0IiB3aWR0aD0iMTQuNjA5NCIgaGVpZ2h0PSI4LjU0NTkiIGZpbHRlclVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzPSJzUkdCIj4KPGZlRmxvb2QgZmxvb2Qtb3BhY2l0eT0iMCIgcmVzdWx0PSJCYWNrZ3JvdW5kSW1hZ2VGaXgiLz4KPGZlQ29sb3JNYXRyaXggaW49IlNvdXJjZUFscGhhIiB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMTI3IDAiIHJlc3VsdD0iaGFyZEFscGhhIi8+CjxmZU9mZnNldCBkeT0iMSIvPgo8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIwLjUiLz4KPGZlQ29tcG9zaXRlIGluMj0iaGFyZEFscGhhIiBvcGVyYXRvcj0ib3V0Ii8+CjxmZUNvbG9yTWF0cml4IHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwLjI1IDAiLz4KPGZlQmxlbmQgbW9kZT0ibm9ybWFsIiBpbjI9IkJhY2tncm91bmRJbWFnZUZpeCIgcmVzdWx0PSJlZmZlY3QxX2Ryb3BTaGFkb3dfMTIwOV8xOTgiLz4KPGZlQmxlbmQgbW9kZT0ibm9ybWFsIiBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJlZmZlY3QxX2Ryb3BTaGFkb3dfMTIwOV8xOTgiIHJlc3VsdD0ic2hhcGUiLz4KPC9maWx0ZXI+CjxmaWx0ZXIgaWQ9ImZpbHRlcjFfZF8xMjA5XzE5OCIgeD0iMCIgeT0iMCIgd2lkdGg9IjIyIiBoZWlnaHQ9IjE2IiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiI+CjxmZUZsb29kIGZsb29kLW9wYWNpdHk9IjAiIHJlc3VsdD0iQmFja2dyb3VuZEltYWdlRml4Ii8+CjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIiByZXN1bHQ9ImhhcmRBbHBoYSIvPgo8ZmVPZmZzZXQgZHk9IjEiLz4KPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMC41Ii8+CjxmZUNvbXBvc2l0ZSBpbjI9ImhhcmRBbHBoYSIgb3BlcmF0b3I9Im91dCIvPgo8ZmVDb2xvck1hdHJpeCB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMC4yNSAwIi8+CjxmZUJsZW5kIG1vZGU9Im5vcm1hbCIgaW4yPSJCYWNrZ3JvdW5kSW1hZ2VGaXgiIHJlc3VsdD0iZWZmZWN0MV9kcm9wU2hhZG93XzEyMDlfMTk4Ii8+CjxmZUJsZW5kIG1vZGU9Im5vcm1hbCIgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93XzEyMDlfMTk4IiByZXN1bHQ9InNoYXBlIi8+CjwvZmlsdGVyPgo8L2RlZnM+Cjwvc3ZnPgo=",n="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgb3BhY2l0eT0iMC43Ij4KPHBhdGggZD0iTTEyLjg1OTQgMi44OTg0NEw4Ljc1NzgxIDdMMTIuODU5NCAxMS4xNDA2QzEzLjM2NzIgMTEuNjA5NCAxMy4zNjcyIDEyLjQyOTcgMTIuODU5NCAxMi44OTg0QzEyLjM5MDYgMTMuNDA2MiAxMS41NzAzIDEzLjQwNjIgMTEuMTAxNiAxMi44OTg0TDcgOC43OTY4OEwyLjg1OTM4IDEyLjg5ODRDMi4zOTA2MiAxMy40MDYyIDEuNTcwMzEgMTMuNDA2MiAxLjEwMTU2IDEyLjg5ODRDMC41OTM3NSAxMi40Mjk3IDAuNTkzNzUgMTEuNjA5NCAxLjEwMTU2IDExLjE0MDZMNS4yMDMxMiA3TDEuMTAxNTYgMi44OTg0NEMwLjU5Mzc1IDIuNDI5NjkgMC41OTM3NSAxLjYwOTM4IDEuMTAxNTYgMS4xNDA2MkMxLjU3MDMxIDAuNjMyODEyIDIuMzkwNjIgMC42MzI4MTIgMi44NTkzOCAxLjE0MDYyTDcgNS4yNDIxOUwxMS4xMDE2IDEuMTQwNjJDMTEuNTcwMyAwLjYzMjgxMiAxMi4zOTA2IDAuNjMyODEyIDEyLjg1OTQgMS4xNDA2MkMxMy4zNjcyIDEuNjA5MzggMTMuMzY3MiAyLjQyOTY5IDEyLjg1OTQgMi44OTg0NFoiIGZpbGw9IndoaXRlIi8+CjwvZz4KPC9zdmc+Cg==",g="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE0IiBoZWlnaHQ9IjE0IiByeD0iNyIgZmlsbD0iIzczNzM3MyIvPgo8cGF0aCBkPSJNOS45Mjk2OSA1LjE5OTIyTDcuODc4OTEgNy4yNUw5LjkyOTY5IDkuMzIwMzFDMTAuMTgzNiA5LjU1NDY5IDEwLjE4MzYgOS45NjQ4NCA5LjkyOTY5IDEwLjE5OTJDOS42OTUzMSAxMC40NTMxIDkuMjg1MTYgMTAuNDUzMSA5LjA1MDc4IDEwLjE5OTJMNyA4LjE0ODQ0TDQuOTI5NjkgMTAuMTk5MkM0LjY5NTMxIDEwLjQ1MzEgNC4yODUxNiAxMC40NTMxIDQuMDUwNzggMTAuMTk5MkMzLjc5Njg4IDkuOTY0ODQgMy43OTY4OCA5LjU1NDY5IDQuMDUwNzggOS4zMjAzMUw2LjEwMTU2IDcuMjVMNC4wNTA3OCA1LjE5OTIyQzMuNzk2ODggNC45NjQ4NCAzLjc5Njg4IDQuNTU0NjkgNC4wNTA3OCA0LjMyMDMxQzQuMjg1MTYgNC4wNjY0MSA0LjY5NTMxIDQuMDY2NDEgNC45Mjk2OSA0LjMyMDMxTDcgNi4zNzEwOUw5LjA1MDc4IDQuMzIwMzFDOS4yODUxNiA0LjA2NjQxIDkuNjk1MzEgNC4wNjY0MSA5LjkyOTY5IDQuMzIwMzFDMTAuMTgzNiA0LjU1NDY5IDEwLjE4MzYgNC45NjQ4NCA5LjkyOTY5IDUuMTk5MjJaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K",d=e.element.clientWidth+"px",a=`-${Math.floor((e.element.clientWidth-e.size.width)/2)}px`,o=e.size.height+"px";e.element.style.width=e.size.width+"px",e.element.style.height=e.size.height+"px",e.element.style.margin="auto",e.id.includes("in_content")||(e.element.style.position="relative");const l=e.element.querySelector("div[id^='google_ads_iframe']");if(l){const i=l.querySelector("iframe");i&&(l.style.width=e.size.width+"px",l.style.height=e.size.height+"px",i.style.width=e.size.width+"px",i.style.height=e.size.height+"px")}const I=e.element.querySelector("div:first-child");if(I.classList.add("pw-custom-ima-container"),I.setAttribute("style",I.getAttribute("style")+";border-radius: 8px;overflow: hidden; margin-left: auto; margin-right: auto; left: 0; right: 0;"),!e.disableBackground){const i=document.createElement("div");i.classList.add("pw-custom-ima-background"),i.setAttribute("style",`\n              width: ${d};\n              height: ${o};\n              margin-left: ${a};\n              background-color: rgba(201, 201, 201, 0.2);\n              z-index: 0;\n              overflow: visible;\n              position: absolute`),e.element.prepend(i)}const r=document.createElement("div");r.setAttribute("style","all: initial; display: flex; position: absolute; bottom: 0; left: 0; z-index: 1; padding: 0 0 8px 12px; user-select: none;");const s=document.createElement("div");s.setAttribute("style","all: initial; min-width: 20px; margin-right: 4px; display: inline-block;");const A=document.createElement("img");A.setAttribute("src",t),A.setAttribute("style","all: initial; display: block");const c=document.createElement("img");c.setAttribute("src",i),c.setAttribute("style","all: initial; display: none"),s.append(c),s.append(A),s.onclick=()=>{e.adsManager.getVolume()>0?(e.adsManager.setVolume(0),c.style.display="none",A.style.display="block"):(e.adsManager.setVolume(1),A.style.display="none",c.style.display="block")};const D=document.createElement("img");D.src=M,D.setAttribute("style","all: initial; pointer-events: none;");const N=document.createElement("div");N.setAttribute("style","all: initial; display: inline-block; margin-left: 6px; font-family: sans-serif; font-size: small; vertical-align: text-top;");const u=document.createElement("span");let T;if(u.setAttribute("id","pw-remaining-timer"),u.setAttribute("style","color: white; text-shadow: 0 1px 1px rgb(0 0 0 / 25%);"),e.closeButtonAction)if(e.isCornerVideo&&e.cornerVideoPosition){T=document.createElement("div"),T.setAttribute("id","pw-close-video-container");let i="all: initial; position: absolute; z-index: 999; padding: 0; user-select: none; opacity: 0;";switch(e.cornerVideoPosition){case"corner|right|bottom":i+="top: -18px; right: 0;";break;case"corner|left|bottom":i+="top: -18px; left: 0;";break;case"corner|right|top":i+="bottom: -18px; right: 0;";break;case"corner|left|top":i+="bottom: -18px; left: 0;"}T.setAttribute("style",i);const t=document.createElement("img");t.setAttribute("src",g),t.setAttribute("style","all: initial; display: block"),t.onclick=()=>{e.closeButtonAction()},T.append(t),e.element.append(T)}else{T=document.createElement("div"),T.setAttribute("id","pw-close-video-container"),T.setAttribute("style","all: initial; position: absolute; top: 0; left: 0; z-index: 1; padding: 12px 0 0 12px; user-select: none; opacity: 0");const i=document.createElement("img");i.setAttribute("src",n),i.setAttribute("style","all: initial; display: block"),i.onclick=()=>{e.closeButtonAction()},T.append(i),I.append(T)}N.append(u),r.append(s),r.append(D),r.append(N),I.prepend(r);const j=e.element.parentElement;if(j){window.getComputedStyle(j).getPropertyValue("background-image")&&(j.style.backgroundImage="none")}e.element.classList.add("pw-ad-container-hidden")}(e),e.logger.debug(`[${e.id}] UI rendered`),e.remainingTimeInterval=function(e,i){const t=e.querySelector("#pw-remaining-timer");if(!t)return;const M=()=>{const e=Math.floor(i.getRemainingTime()),M=Math.floor(e/60),n=e%60;t.innerText=`${M}:${n<10?`0${n}`:n}`};return M(),setInterval(M.bind(this),1e3)}(e.element,e.adsManager),e.closeButtonAction&&t&&(e.closeButtonInterval=function(e,i,t){const M=e.querySelector("#pw-close-video-container");if(!M||!t)return;let n;const g=()=>{if(Math.floor(t.getDuration())-Math.floor(i.getRemainingTime())>=3){const e=(M.getAttribute("style")||"")+"opacity: 1;";M.setAttribute("style",e),clearInterval(n)}};return n=setInterval(g.bind(this),1e3),n}(e.element,e.adsManager,t)),e.adEventLogger.info("Video ad response success for",e.id);break;case google.ima.AdEvent.Type.STARTED:e.adsManager.setVolume(0),n(e)||(e.adsManager.pause(),e.logger.debug(`[${e.id}] Video paused at start because slot is not visible`)),e.isCornerVideo&&function(e){e.element.parentElement.classList.remove("pw-hide"),window.PageOS.BUS.emit("corner_video_first_render")}(e),e.containerViewabilityInterval=function(e){if(!e)return;const i=setInterval((()=>{e.adsManager&&e.adsManager.pause&&e.adsManager.resume&&window.ramp&&window.ramp.settings&&window.ramp.settings.slots&&window.ramp.settings.slots[e.id]?n(e)?e.adsManager.resume():e.adsManager.pause():clearInterval(i)}),250);return i}(e),e.isCornerVideo&&setTimeout((()=>{M(e,t)}),2e3);break;case google.ima.AdEvent.Type.IMPRESSION:M(e,t);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:!function(e){clearInterval(e.remainingTimeInterval),e.closeButtonInterval&&clearInterval(e.closeButtonInterval),g(e),clearInterval(e.containerViewabilityInterval),e.containerMutationObserver.disconnect(),e.adsManager.destroy(),e.adDisplayContainer.destroy(),e.logger.debug(`[${e.id}] Container destroyed`),e.logger.debug(`[${e.id}] Trigger slot refresh`),window.ramp.refreshVideoAd(e.id)}(e);break;case google.ima.AdEvent.Type.AD_BREAK_FETCH_ERROR:e.remainingTimeInterval&&clearInterval(e.remainingTimeInterval),e.closeButtonInterval&&clearInterval(e.closeButtonInterval),e&&g(e),e.containerViewabilityInterval&&clearInterval(e.containerViewabilityInterval),e.containerMutationObserver&&e.containerMutationObserver.disconnect&&e.containerMutationObserver.disconnect(),e.adsManager&&e.adsManager.destroy(),e.adDisplayContainer&&e.adDisplayContainer.destroy(),e.logger.debug(`[${e.id}] All existing elements destroyed`),e.logger.debug(`[${e.id}] Trigger slot refresh`),window.ramp.refreshVideoAd(e.id)}}function M(e,i){e.impressionTriggered||(e.impressionTriggered=!0,window.ramp.videoAdImpressionTriggered(e.id,function(e,i){if(!i)return{};const t={adId:i?.getAdId(),advertiserName:i?.getAdvertiserName(),adSystem:i?.getAdSystem(),apiFramework:i?.getApiFramework(),contentType:i?.getContentType(),creativeAdId:i?.getCreativeAdId(),creativeId:i?.getCreativeId(),dealId:i?.getDealId(),description:i?.getDescription(),duration:i?.getDuration(),mediaUrl:i?.getMediaUrl(),title:i?.getTitle(),uiElements:i?.getUiElements(),universalAdIdRegistry:i?.getUniversalAdIdRegistry(),universalAdIds:i?.getUniversalAdIds(),universalAdIdValue:i?.getUniversalAdIdValue(),vastMediaBitrate:i?.getVastMediaBitrate(),vastMediaHeight:i?.getVastMediaHeight(),vastMediaWidth:i?.getVastMediaWidth(),height:i?.getHeight(),width:i?.getWidth(),wrapperAdIds:i?.getWrapperAdIds(),wrapperAdSystems:i?.getWrapperAdSystems(),wrapperCreativeIds:i?.getWrapperCreativeIds()};try{Object.keys(t).forEach((e=>(null===t[e]||void 0===t[e]||!t[e].toString().length)&&delete t[e]))}catch(i){e.logger.debug(`[${e.id}] Processing of 'adData' object has failed`)}return t}(e,i)))}function n(e){const i=window.ramp.settings.slots[e.id].inView;let t=window.ramp.settings.slots[e.id].viewability;if(!i)return!1;if(null==t){t=function(e){const i=e.getBoundingClientRect(),t=window.innerWidth||document.documentElement.clientWidth,M=window.innerHeight||document.documentElement.clientHeight,n=i.top<M&&i.bottom>0&&i.left<t&&i.right>0;let g=0;if(n){g=(Math.min(i.bottom,M)-Math.max(i.top,0))*(Math.min(i.right,t)-Math.max(i.left,0))/(i.width*i.height)}return 100*g}(e.element.querySelector("video")||e.element)}return t>=50}function g(e){if(!e||!e.element)return;e.element.style.width=null,e.element.style.height=null,e.element.style.margin=null,e.id.includes("in_content")||(e.element.style.position=null);const i=e.element.querySelectorAll(".pw-custom-ima-background");i&&i.length&&i.forEach((e=>{e.remove()}));const t=e.element.querySelector("#pw-close-video-container");t&&t.remove();const M=e.element.querySelector("div[id^='google_ads_iframe']");if(M){const e=M.querySelector("iframe");e&&(M.style.width=null,M.style.height=null,e.style.width=null,e.style.height=null)}const n=e.element.parentElement;n&&(n.style.backgroundImage=""),e.element.classList.remove("pw-ad-container-hidden")}window.pwImaPlayerInitialization=function(t,M={}){const n=window.ramp._loggers.find((e=>"DISPLAY_VIDEO"===e.name)).logger,g=window.ramp._loggers.find((e=>"AD_EVENT"===e.name)).logger;if(!google||!google.ima)throw n.error(`[${t.adUnitCode}] IMA player not loaded`),new Error("Can't render video ad because IMA player not loaded yet");try{google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED)}catch(e){n.error(`[${t.adUnitCode}] IMA player can't set VPAID mode enabled`,e)}try{n.debug(`[${t.adUnitCode}] Bid object`,t),n.debug(`[${t.adUnitCode}] Config object`,M),n.debug(`[${t.adUnitCode}] Initialization started`);const d=document.getElementById(t.adUnitCode),a=function(e){if("corner_ad_video"===e){const i=window.ramp.settings.slots[e];if(!i)throw new Error("Ad unit not exist in Ramp.js");const t=i.playerSize;return{width:t[0],height:t[1]}}const i=window.__pwpbjs__.adUnits.find((i=>e===i.code));if(!i)throw new Error("Ad unit not exist in Prebid.js");const t=i.mediaTypes.video.playerSize;return{width:t[0],height:t[1]}}(t.adUnitCode),o=function(e){let i=document.getElementById(e.adUnitCode);return new google.ima.AdDisplayContainer(i)}(t),l=function(t,M,n,g,d){const a=new google.ima.AdsLoader(M);return a.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,e,!1),a.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,i.bind(null,{id:t.adUnitCode,adId:t.adId,logger:g,adEventLogger:d,bid:t,isCornerVideo:n}),!1),a}(t,o,!!M.isCornerVideo,n,g),I=function(e,i,t){const M=new google.ima.AdsRequest;M.adTagUrl="",M.adsResponse="",e.vastXml?M.adsResponse=e.vastXml:M.adTagUrl=e.vastUrl;t.debug(`[${e.adUnitCode}] Ad data sources`,{vastUrl:M.adTagUrl,vastXml:M.adsResponse});const n={width:i.clientWidth,height:i.clientHeight};return M.linearAdSlotWidth=n.width,M.linearAdSlotHeight=n.height,M.nonLinearAdSlotWidth=n.width,M.nonLinearAdSlotHeight=n.height,M.setAdWillPlayMuted(!0),M.setAdWillAutoPlay(!0),M}(t,d,n);l.requestAds(I,{id:t.adUnitCode,adId:t.adId,element:d,size:a,impressionTriggered:!1,bid:t,logger:n,adEventLogger:g,adDisplayContainer:o,adsLoader:l,adsRequest:I,closeButtonAction:M.closeButtonAction,disableBackground:!!M.disableBackground,isCornerVideo:!!M.isCornerVideo,cornerVideoPosition:M.cornerVideoPosition}),g.info("Video ad request for",t.adUnitCode),n.debug(`[${t.adUnitCode}] Initialization completed`),window.PageOS.pagePulse.markPerformanceEvent("videoAdRequestStart")}catch(e){n.error(`[${t.adUnitCode}] Error happened during initialization ad container`,e)}}}();